function z2(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Dc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $y={exports:{}},Wh={},Xy={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function U2(){if(Fw)return qt;Fw=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function A(U,j,ge){this.props=U,this.context=j,this.refs=_,this.updater=ge||v}A.prototype.isReactComponent={},A.prototype.setState=function(U,j){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,j,"setState")},A.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function b(){}b.prototype=A.prototype;function E(U,j,ge){this.props=U,this.context=j,this.refs=_,this.updater=ge||v}var T=E.prototype=new b;T.constructor=E,w(T,A.prototype),T.isPureReactComponent=!0;var R=Array.isArray,L=Object.prototype.hasOwnProperty,O={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function I(U,j,ge){var _e,Pe={},fe=null,Ve=null;if(j!=null)for(_e in j.ref!==void 0&&(Ve=j.ref),j.key!==void 0&&(fe=""+j.key),j)L.call(j,_e)&&!F.hasOwnProperty(_e)&&(Pe[_e]=j[_e]);var ke=arguments.length-2;if(ke===1)Pe.children=ge;else if(1<ke){for(var Ye=Array(ke),Ue=0;Ue<ke;Ue++)Ye[Ue]=arguments[Ue+2];Pe.children=Ye}if(U&&U.defaultProps)for(_e in ke=U.defaultProps,ke)Pe[_e]===void 0&&(Pe[_e]=ke[_e]);return{$$typeof:r,type:U,key:fe,ref:Ve,props:Pe,_owner:O.current}}function G(U,j){return{$$typeof:r,type:U.type,key:j,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function q(U){var j={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return j[ge]})}var ce=/\/+/g;function ee(U,j){return typeof U=="object"&&U!==null&&U.key!=null?q(""+U.key):j.toString(36)}function Z(U,j,ge,_e,Pe){var fe=typeof U;(fe==="undefined"||fe==="boolean")&&(U=null);var Ve=!1;if(U===null)Ve=!0;else switch(fe){case"string":case"number":Ve=!0;break;case"object":switch(U.$$typeof){case r:case e:Ve=!0}}if(Ve)return Ve=U,Pe=Pe(Ve),U=_e===""?"."+ee(Ve,0):_e,R(Pe)?(ge="",U!=null&&(ge=U.replace(ce,"$&/")+"/"),Z(Pe,j,ge,"",function(Ue){return Ue})):Pe!=null&&(V(Pe)&&(Pe=G(Pe,ge+(!Pe.key||Ve&&Ve.key===Pe.key?"":(""+Pe.key).replace(ce,"$&/")+"/")+U)),j.push(Pe)),1;if(Ve=0,_e=_e===""?".":_e+":",R(U))for(var ke=0;ke<U.length;ke++){fe=U[ke];var Ye=_e+ee(fe,ke);Ve+=Z(fe,j,ge,Ye,Pe)}else if(Ye=y(U),typeof Ye=="function")for(U=Ye.call(U),ke=0;!(fe=U.next()).done;)fe=fe.value,Ye=_e+ee(fe,ke++),Ve+=Z(fe,j,ge,Ye,Pe);else if(fe==="object")throw j=String(U),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return Ve}function le(U,j,ge){if(U==null)return U;var _e=[],Pe=0;return Z(U,_e,"","",function(fe){return j.call(ge,fe,Pe++)}),_e}function he(U){if(U._status===-1){var j=U._result;j=j(),j.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=j)}if(U._status===1)return U._result.default;throw U._result}var de={current:null},z={transition:null},K={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:z,ReactCurrentOwner:O};function $(){throw Error("act(...) is not supported in production builds of React.")}return qt.Children={map:le,forEach:function(U,j,ge){le(U,function(){j.apply(this,arguments)},ge)},count:function(U){var j=0;return le(U,function(){j++}),j},toArray:function(U){return le(U,function(j){return j})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},qt.Component=A,qt.Fragment=t,qt.Profiler=i,qt.PureComponent=E,qt.StrictMode=n,qt.Suspense=c,qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,qt.act=$,qt.cloneElement=function(U,j,ge){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var _e=w({},U.props),Pe=U.key,fe=U.ref,Ve=U._owner;if(j!=null){if(j.ref!==void 0&&(fe=j.ref,Ve=O.current),j.key!==void 0&&(Pe=""+j.key),U.type&&U.type.defaultProps)var ke=U.type.defaultProps;for(Ye in j)L.call(j,Ye)&&!F.hasOwnProperty(Ye)&&(_e[Ye]=j[Ye]===void 0&&ke!==void 0?ke[Ye]:j[Ye])}var Ye=arguments.length-2;if(Ye===1)_e.children=ge;else if(1<Ye){ke=Array(Ye);for(var Ue=0;Ue<Ye;Ue++)ke[Ue]=arguments[Ue+2];_e.children=ke}return{$$typeof:r,type:U.type,key:Pe,ref:fe,props:_e,_owner:Ve}},qt.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},qt.createElement=I,qt.createFactory=function(U){var j=I.bind(null,U);return j.type=U,j},qt.createRef=function(){return{current:null}},qt.forwardRef=function(U){return{$$typeof:l,render:U}},qt.isValidElement=V,qt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:he}},qt.memo=function(U,j){return{$$typeof:d,type:U,compare:j===void 0?null:j}},qt.startTransition=function(U){var j=z.transition;z.transition={};try{U()}finally{z.transition=j}},qt.unstable_act=$,qt.useCallback=function(U,j){return de.current.useCallback(U,j)},qt.useContext=function(U){return de.current.useContext(U)},qt.useDebugValue=function(){},qt.useDeferredValue=function(U){return de.current.useDeferredValue(U)},qt.useEffect=function(U,j){return de.current.useEffect(U,j)},qt.useId=function(){return de.current.useId()},qt.useImperativeHandle=function(U,j,ge){return de.current.useImperativeHandle(U,j,ge)},qt.useInsertionEffect=function(U,j){return de.current.useInsertionEffect(U,j)},qt.useLayoutEffect=function(U,j){return de.current.useLayoutEffect(U,j)},qt.useMemo=function(U,j){return de.current.useMemo(U,j)},qt.useReducer=function(U,j,ge){return de.current.useReducer(U,j,ge)},qt.useRef=function(U){return de.current.useRef(U)},qt.useState=function(U){return de.current.useState(U)},qt.useSyncExternalStore=function(U,j,ge){return de.current.useSyncExternalStore(U,j,ge)},qt.useTransition=function(){return de.current.useTransition()},qt.version="18.3.1",qt}var Nw;function z0(){return Nw||(Nw=1,Xy.exports=U2()),Xy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function H2(){if(zw)return Wh;zw=1;var r=z0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var p,m={},y=null,v=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(p in c)n.call(c,p)&&!s.hasOwnProperty(p)&&(m[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:e,type:l,key:y,ref:v,props:m,_owner:i.current}}return Wh.Fragment=t,Wh.jsx=o,Wh.jsxs=o,Wh}var Uw;function G2(){return Uw||(Uw=1,$y.exports=H2()),$y.exports}var Me=G2(),k=z0();const te=Dc(k),V2=z2({__proto__:null,default:te},[k]);var ag={},Ky={exports:{}},Vi={},Yy={exports:{}},Qy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function W2(){return Hw||(Hw=1,function(r){function e(z,K){var $=z.length;z.push(K);e:for(;0<$;){var U=$-1>>>1,j=z[U];if(0<i(j,K))z[U]=K,z[$]=j,$=U;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var K=z[0],$=z.pop();if($!==K){z[0]=$;e:for(var U=0,j=z.length,ge=j>>>1;U<ge;){var _e=2*(U+1)-1,Pe=z[_e],fe=_e+1,Ve=z[fe];if(0>i(Pe,$))fe<j&&0>i(Ve,Pe)?(z[U]=Ve,z[fe]=$,U=fe):(z[U]=Pe,z[_e]=$,U=_e);else if(fe<j&&0>i(Ve,$))z[U]=Ve,z[fe]=$,U=fe;else break e}}return K}function i(z,K){var $=z.sortIndex-K.sortIndex;return $!==0?$:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],p=1,m=null,y=3,v=!1,w=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var K=t(d);K!==null;){if(K.callback===null)n(d);else if(K.startTime<=z)n(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=t(d)}}function R(z){if(_=!1,T(z),!w)if(t(c)!==null)w=!0,he(L);else{var K=t(d);K!==null&&de(R,K.startTime-z)}}function L(z,K){w=!1,_&&(_=!1,b(I),I=-1),v=!0;var $=y;try{for(T(K),m=t(c);m!==null&&(!(m.expirationTime>K)||z&&!q());){var U=m.callback;if(typeof U=="function"){m.callback=null,y=m.priorityLevel;var j=U(m.expirationTime<=K);K=r.unstable_now(),typeof j=="function"?m.callback=j:m===t(c)&&n(c),T(K)}else n(c);m=t(c)}if(m!==null)var ge=!0;else{var _e=t(d);_e!==null&&de(R,_e.startTime-K),ge=!1}return ge}finally{m=null,y=$,v=!1}}var O=!1,F=null,I=-1,G=5,V=-1;function q(){return!(r.unstable_now()-V<G)}function ce(){if(F!==null){var z=r.unstable_now();V=z;var K=!0;try{K=F(!0,z)}finally{K?ee():(O=!1,F=null)}}else O=!1}var ee;if(typeof E=="function")ee=function(){E(ce)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,le=Z.port2;Z.port1.onmessage=ce,ee=function(){le.postMessage(null)}}else ee=function(){A(ce,0)};function he(z){F=z,O||(O=!0,ee())}function de(z,K){I=A(function(){z(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){w||v||(w=!0,he(L))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(z){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var $=y;y=K;try{return z()}finally{y=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=y;y=z;try{return K()}finally{y=$}},r.unstable_scheduleCallback=function(z,K,$){var U=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$+j,z={id:p++,callback:K,priorityLevel:z,startTime:$,expirationTime:j,sortIndex:-1},$>U?(z.sortIndex=$,e(d,z),t(c)===null&&z===t(d)&&(_?(b(I),I=-1):_=!0,de(R,$-U))):(z.sortIndex=j,e(c,z),w||v||(w=!0,he(L))),z},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(z){var K=y;return function(){var $=y;y=K;try{return z.apply(this,arguments)}finally{y=$}}}}(Qy)),Qy}var Gw;function j2(){return Gw||(Gw=1,Yy.exports=W2()),Yy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function J2(){if(Vw)return Vi;Vw=1;var r=z0(),e=j2();function t(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)n.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(a){return c.call(m,a)?!0:c.call(p,a)?!1:d.test(a)?m[a]=!0:(p[a]=!0,!1)}function v(a,u,g,S){if(g!==null&&g.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return S?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,g,S){if(u===null||typeof u>"u"||v(a,u,g,S))return!0;if(S)return!1;if(g!==null)switch(g.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function _(a,u,g,S,C,B,N){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=S,this.attributeNamespace=C,this.mustUseProperty=g,this.propertyName=a,this.type=u,this.sanitizeURL=B,this.removeEmptyString=N}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){A[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];A[u]=new _(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){A[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){A[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){A[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){A[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){A[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){A[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){A[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(b,E);A[u]=new _(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(b,E);A[u]=new _(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(b,E);A[u]=new _(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){A[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),A.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){A[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,u,g,S){var C=A.hasOwnProperty(u)?A[u]:null;(C!==null?C.type!==0:S||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,g,C,S)&&(g=null),S||C===null?y(u)&&(g===null?a.removeAttribute(u):a.setAttribute(u,""+g)):C.mustUseProperty?a[C.propertyName]=g===null?C.type===3?!1:"":g:(u=C.attributeName,S=C.attributeNamespace,g===null?a.removeAttribute(u):(C=C.type,g=C===3||C===4&&g===!0?"":""+g,S?a.setAttributeNS(S,u,g):a.setAttribute(u,g))))}var R=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),O=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),q=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),z=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var $=Object.assign,U;function j(a){if(U===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+a}var ge=!1;function _e(a,u){if(!a||ge)return"";ge=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Se){var S=Se}Reflect.construct(a,[],u)}else{try{u.call()}catch(Se){S=Se}a.call(u.prototype)}else{try{throw Error()}catch(Se){S=Se}a()}}catch(Se){if(Se&&S&&typeof Se.stack=="string"){for(var C=Se.stack.split(`
`),B=S.stack.split(`
`),N=C.length-1,Q=B.length-1;1<=N&&0<=Q&&C[N]!==B[Q];)Q--;for(;1<=N&&0<=Q;N--,Q--)if(C[N]!==B[Q]){if(N!==1||Q!==1)do if(N--,Q--,0>Q||C[N]!==B[Q]){var ie=`
`+C[N].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=N&&0<=Q);break}}}finally{ge=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?j(a):""}function Pe(a){switch(a.tag){case 5:return j(a.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function fe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case O:return"Portal";case G:return"Profiler";case I:return"StrictMode";case ee:return"Suspense";case Z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case q:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case ce:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case le:return u=a.displayName||null,u!==null?u:fe(a.type)||"Memo";case he:u=a._payload,a=a._init;try{return fe(a(u))}catch{}}return null}function Ve(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ke(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ye(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ue(a){var u=Ye(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),S=""+a[u];if(!a.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,B=g.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return C.call(this)},set:function(N){S=""+N,B.call(this,N)}}),Object.defineProperty(a,u,{enumerable:g.enumerable}),{getValue:function(){return S},setValue:function(N){S=""+N},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function ht(a){a._valueTracker||(a._valueTracker=Ue(a))}function Te(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var g=u.getValue(),S="";return a&&(S=Ye(a)?a.checked?"true":"false":a.value),a=S,a!==g?(u.setValue(a),!0):!1}function Ae(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ge(a,u){var g=u.checked;return $({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function et(a,u){var g=u.defaultValue==null?"":u.defaultValue,S=u.checked!=null?u.checked:u.defaultChecked;g=ke(u.value!=null?u.value:g),a._wrapperState={initialChecked:S,initialValue:g,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function $e(a,u){u=u.checked,u!=null&&T(a,"checked",u,!1)}function At(a,u){$e(a,u);var g=ke(u.value),S=u.type;if(g!=null)S==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(S==="submit"||S==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?lt(a,u.type,g):u.hasOwnProperty("defaultValue")&&lt(a,u.type,ke(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function gt(a,u,g){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var S=u.type;if(!(S!=="submit"&&S!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,g||u===a.value||(a.value=u),a.defaultValue=u}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function lt(a,u,g){(u!=="number"||Ae(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Gt=Array.isArray;function Nt(a,u,g,S){if(a=a.options,u){u={};for(var C=0;C<g.length;C++)u["$"+g[C]]=!0;for(g=0;g<a.length;g++)C=u.hasOwnProperty("$"+a[g].value),a[g].selected!==C&&(a[g].selected=C),C&&S&&(a[g].defaultSelected=!0)}else{for(g=""+ke(g),u=null,C=0;C<a.length;C++){if(a[C].value===g){a[C].selected=!0,S&&(a[C].defaultSelected=!0);return}u!==null||a[C].disabled||(u=a[C])}u!==null&&(u.selected=!0)}}function Y(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function H(a,u){var g=u.value;if(g==null){if(g=u.children,u=u.defaultValue,g!=null){if(u!=null)throw Error(t(92));if(Gt(g)){if(1<g.length)throw Error(t(93));g=g[0]}u=g}u==null&&(u=""),g=u}a._wrapperState={initialValue:ke(g)}}function ae(a,u){var g=ke(u.value),S=ke(u.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),u.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),S!=null&&(a.defaultValue=""+S)}function Le(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Fe(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Fe(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var pt,Qe=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,g,S,C){MSApp.execUnsafeLocalFunction(function(){return a(u,g,S,C)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=pt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Ce(a,u){if(u){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=u;return}}a.textContent=u}var at={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},St=["Webkit","ms","Moz","O"];Object.keys(at).forEach(function(a){St.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),at[u]=at[a]})});function st(a,u,g){return u==null||typeof u=="boolean"||u===""?"":g||typeof u!="number"||u===0||at.hasOwnProperty(a)&&at[a]?(""+u).trim():u+"px"}function yt(a,u){a=a.style;for(var g in u)if(u.hasOwnProperty(g)){var S=g.indexOf("--")===0,C=st(g,u[g],S);g==="float"&&(g="cssFloat"),S?a.setProperty(g,C):a[g]=C}}var ft=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function re(a,u){if(u){if(ft[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function De(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function ne(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var we=null,Oe=null,Xe=null;function vt(a){if(a=Ws(a)){if(typeof we!="function")throw Error(t(280));var u=a.stateNode;u&&(u=wf(u),we(a.stateNode,a.type,u))}}function Kt(a){Oe?Xe?Xe.push(a):Xe=[a]:Oe=a}function an(){if(Oe){var a=Oe,u=Xe;if(Xe=Oe=null,vt(a),u)for(a=0;a<u.length;a++)vt(u[a])}}function mn(a,u){return a(u)}function vr(){}var Zt=!1;function rr(a,u,g){if(Zt)return a(u,g);Zt=!0;try{return mn(a,u,g)}finally{Zt=!1,(Oe!==null||Xe!==null)&&(vr(),an())}}function In(a,u){var g=a.stateNode;if(g===null)return null;var S=wf(g);if(S===null)return null;g=S[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(a=a.type,S=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!S;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(t(231,u,typeof g));return g}var qa=!1;if(l)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){qa=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{qa=!1}function zc(a,u,g,S,C,B,N,Q,ie){var Se=Array.prototype.slice.call(arguments,3);try{u.apply(g,Se)}catch(ze){this.onError(ze)}}var Is=!1,J=null,ye=!1,Re=null,me={onError:function(a){Is=!0,J=a}};function Be(a,u,g,S,C,B,N,Q,ie){Is=!1,J=null,zc.apply(me,arguments)}function Mt(a,u,g,S,C,B,N,Q,ie){if(Be.apply(this,arguments),Is){if(Is){var Se=J;Is=!1,J=null}else throw Error(t(198));ye||(ye=!0,Re=Se)}}function Et(a){var u=a,g=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(g=u.return),a=u.return;while(a)}return u.tag===3?g:null}function zt(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Vt(a){if(Et(a)!==a)throw Error(t(188))}function en(a){var u=a.alternate;if(!u){if(u=Et(a),u===null)throw Error(t(188));return u!==a?null:a}for(var g=a,S=u;;){var C=g.return;if(C===null)break;var B=C.alternate;if(B===null){if(S=C.return,S!==null){g=S;continue}break}if(C.child===B.child){for(B=C.child;B;){if(B===g)return Vt(C),a;if(B===S)return Vt(C),u;B=B.sibling}throw Error(t(188))}if(g.return!==S.return)g=C,S=B;else{for(var N=!1,Q=C.child;Q;){if(Q===g){N=!0,g=C,S=B;break}if(Q===S){N=!0,S=C,g=B;break}Q=Q.sibling}if(!N){for(Q=B.child;Q;){if(Q===g){N=!0,g=B,S=C;break}if(Q===S){N=!0,S=B,g=C;break}Q=Q.sibling}if(!N)throw Error(t(189))}}if(g.alternate!==S)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?a:u}function Yt(a){return a=en(a),a!==null?Qt(a):null}function Qt(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Qt(a);if(u!==null)return u;a=a.sibling}return null}var Ln=e.unstable_scheduleCallback,Pr=e.unstable_cancelCallback,$i=e.unstable_shouldYield,Ls=e.unstable_requestPaint,Dt=e.unstable_now,Wt=e.unstable_getCurrentPriorityLevel,Ds=e.unstable_ImmediatePriority,Dn=e.unstable_UserBlockingPriority,Ri=e.unstable_NormalPriority,Za=e.unstable_LowPriority,ci=e.unstable_IdlePriority,Ur=null,Ct=null;function nn(a){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Ur,a,void 0,(a.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:Os,dn=Math.log,ur=Math.LN2;function Os(a){return a>>>=0,a===0?32:31-(dn(a)/ur|0)|0}var Pi=64,xr=4194304;function So(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function au(a,u){var g=a.pendingLanes;if(g===0)return 0;var S=0,C=a.suspendedLanes,B=a.pingedLanes,N=g&268435455;if(N!==0){var Q=N&~C;Q!==0?S=So(Q):(B&=N,B!==0&&(S=So(B)))}else N=g&~C,N!==0?S=So(N):B!==0&&(S=So(B));if(S===0)return 0;if(u!==0&&u!==S&&!(u&C)&&(C=S&-S,B=u&-u,C>=B||C===16&&(B&4194240)!==0))return u;if(S&4&&(S|=g&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=S;0<u;)g=31-Fn(u),C=1<<g,S|=a[g],u&=~C;return S}function pm(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uc(a,u){for(var g=a.suspendedLanes,S=a.pingedLanes,C=a.expirationTimes,B=a.pendingLanes;0<B;){var N=31-Fn(B),Q=1<<N,ie=C[N];ie===-1?(!(Q&g)||Q&S)&&(C[N]=pm(Q,u)):ie<=u&&(a.expiredLanes|=Q),B&=~Q}}function Hc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Bi(){var a=Pi;return Pi<<=1,!(Pi&4194240)&&(Pi=64),a}function Kd(a){for(var u=[],g=0;31>g;g++)u.push(a);return u}function lu(a,u,g){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Fn(u),a[u]=g}function yy(a,u){var g=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var S=a.eventTimes;for(a=a.expirationTimes;0<g;){var C=31-Fn(g),B=1<<C;u[C]=0,S[C]=-1,a[C]=-1,g&=~B}}function el(a,u){var g=a.entangledLanes|=u;for(a=a.entanglements;g;){var S=31-Fn(g),C=1<<S;C&u|a[S]&u&&(a[S]|=u),g&=~C}}var ln=0;function tl(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var uu,Yd,mm,Gc,Vc,Jo=!1,Wc=[],hs=null,$t=null,ks=null,$o=new Map,nl=new Map,Ao=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ir(a,u){switch(a){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":$o.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(u.pointerId)}}function Xo(a,u,g,S,C,B){return a===null||a.nativeEvent!==B?(a={blockedOn:u,domEventName:g,eventSystemFlags:S,nativeEvent:B,targetContainers:[C]},u!==null&&(u=Ws(u),u!==null&&Yd(u)),a):(a.eventSystemFlags|=S,u=a.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),a)}function xy(a,u,g,S,C){switch(u){case"focusin":return hs=Xo(hs,a,u,g,S,C),!0;case"dragenter":return $t=Xo($t,a,u,g,S,C),!0;case"mouseover":return ks=Xo(ks,a,u,g,S,C),!0;case"pointerover":var B=C.pointerId;return $o.set(B,Xo($o.get(B)||null,a,u,g,S,C)),!0;case"gotpointercapture":return B=C.pointerId,nl.set(B,Xo(nl.get(B)||null,a,u,g,S,C)),!0}return!1}function jc(a){var u=Po(a.target);if(u!==null){var g=Et(u);if(g!==null){if(u=g.tag,u===13){if(u=zt(g),u!==null){a.blockedOn=u,Vc(a.priority,function(){mm(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Jc(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var g=Li(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var S=new g.constructor(g.type,g);nt=S,g.target.dispatchEvent(S),nt=null}else return u=Ws(g),u!==null&&Yd(u),a.blockedOn=g,!1;u.shift()}return!0}function cu(a,u,g){Jc(a)&&g.delete(u)}function ps(){Jo=!1,hs!==null&&Jc(hs)&&(hs=null),$t!==null&&Jc($t)&&($t=null),ks!==null&&Jc(ks)&&(ks=null),$o.forEach(cu),nl.forEach(cu)}function fu(a,u){a.blockedOn===u&&(a.blockedOn=null,Jo||(Jo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ps)))}function du(a){function u(C){return fu(C,a)}if(0<Wc.length){fu(Wc[0],a);for(var g=1;g<Wc.length;g++){var S=Wc[g];S.blockedOn===a&&(S.blockedOn=null)}}for(hs!==null&&fu(hs,a),$t!==null&&fu($t,a),ks!==null&&fu(ks,a),$o.forEach(u),nl.forEach(u),g=0;g<Ao.length;g++)S=Ao[g],S.blockedOn===a&&(S.blockedOn=null);for(;0<Ao.length&&(g=Ao[0],g.blockedOn===null);)jc(g),g.blockedOn===null&&Ao.shift()}var Hr=R.ReactCurrentBatchConfig,Ii=!0;function $c(a,u,g,S){var C=ln,B=Hr.transition;Hr.transition=null;try{ln=1,Xc(a,u,g,S)}finally{ln=C,Hr.transition=B}}function Qd(a,u,g,S){var C=ln,B=Hr.transition;Hr.transition=null;try{ln=4,Xc(a,u,g,S)}finally{ln=C,Hr.transition=B}}function Xc(a,u,g,S){if(Ii){var C=Li(a,u,g,S);if(C===null)mf(a,u,S,Kc,g),ir(a,S);else if(xy(C,a,u,g,S))S.stopPropagation();else if(ir(a,S),u&4&&-1<vy.indexOf(a)){for(;C!==null;){var B=Ws(C);if(B!==null&&uu(B),B=Li(a,u,g,S),B===null&&mf(a,u,S,Kc,g),B===C)break;C=B}C!==null&&S.stopPropagation()}else mf(a,u,S,null,g)}}var Kc=null;function Li(a,u,g,S){if(Kc=null,a=ne(S),a=Po(a),a!==null)if(u=Et(a),u===null)a=null;else if(g=u.tag,g===13){if(a=zt(u),a!==null)return a;a=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Kc=a,null}function gm(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wt()){case Ds:return 1;case Dn:return 4;case Ri:case Za:return 16;case ci:return 536870912;default:return 16}default:return 16}}var Xi=null,qd=null,qr=null;function hu(){if(qr)return qr;var a,u=qd,g=u.length,S,C="value"in Xi?Xi.value:Xi.textContent,B=C.length;for(a=0;a<g&&u[a]===C[a];a++);var N=g-a;for(S=1;S<=N&&u[g-S]===C[B-S];S++);return qr=C.slice(a,1<S?1-S:void 0)}function Ko(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Fs(){return!0}function Yc(){return!1}function Gr(a){function u(g,S,C,B,N){this._reactName=g,this._targetInst=C,this.type=S,this.nativeEvent=B,this.target=N,this.currentTarget=null;for(var Q in a)a.hasOwnProperty(Q)&&(g=a[Q],this[Q]=g?g(B):B[Q]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Fs:Yc,this.isPropagationStopped=Yc,this}return $(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),u}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=Gr(Yo),Qo=$({},Yo,{view:0,detail:0}),rl=Gr(Qo),Zr,Di,Oi,il=$({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Oi&&(Oi&&a.type==="mousemove"?(Zr=a.screenX-Oi.screenX,Di=a.screenY-Oi.screenY):Di=Zr=0,Oi=a),Zr)},movementY:function(a){return"movementY"in a?a.movementY:Di}}),Zd=Gr(il),Ns=$({},il,{dataTransfer:0}),Mo=Gr(Ns),Qc=$({},Qo,{relatedTarget:0}),qc=Gr(Qc),Zc=$({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),ym=Gr(Zc),vm=$({},Yo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),eh=Gr(vm),ef=$({},Yo,{data:0}),th=Gr(ef),xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=nh[a])?!!u[a]:!1}function bo(){return sl}var tf=$({},Qo,{key:function(a){if(a.key){var u=xm[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Ko(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_m[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(a){return a.type==="keypress"?Ko(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ko(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),nf=Gr(tf),ki=$({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fi=Gr(ki),qo=$({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),zs=Gr(qo),Us=$({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zo=Gr(Us),wm=$({},il,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),rh=Gr(wm),ih=[9,13,27,32],Vr=l&&"CompositionEvent"in window,_r=null;l&&"documentMode"in document&&(_r=document.documentMode);var Rn=l&&"TextEvent"in window&&!_r,ol=l&&(!Vr||_r&&8<_r&&11>=_r),Fi=" ",sh=!1;function oh(a,u){switch(a){case"keyup":return ih.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Eo=!1;function Sm(a,u){switch(a){case"compositionend":return rf(u);case"keypress":return u.which!==32?null:(sh=!0,Fi);case"textInput":return a=u.data,a===Fi&&sh?null:a;default:return null}}function mu(a,u){if(Eo)return a==="compositionend"||!Vr&&oh(a,u)?(a=hu(),qr=qd=Xi=null,Eo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ol&&u.locale!=="ko"?null:u.data;default:return null}}var al={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!al[a.type]:u==="textarea"}function ll(a,u,g,S){Kt(S),u=gf(u,"onChange"),0<u.length&&(g=new pu("onChange","change",null,g,S),a.push({event:g,listeners:u}))}var Co=null,ul=null;function Am(a){hl(a,0)}function Hs(a){var u=Gn(a);if(Te(u))return a}function Mm(a,u){if(a==="change")return u}var cl=!1;if(l){var ei;if(l){var ea="oninput"in document;if(!ea){var ta=document.createElement("div");ta.setAttribute("oninput","return;"),ea=typeof ta.oninput=="function"}ei=ea}else ei=!1;cl=ei&&(!document.documentMode||9<document.documentMode)}function Ki(){Co&&(Co.detachEvent("onpropertychange",of),ul=Co=null)}function of(a){if(a.propertyName==="value"&&Hs(ul)){var u=[];ll(u,ul,a,ne(a)),rr(Am,u)}}function fl(a,u,g){a==="focusin"?(Ki(),Co=u,ul=g,Co.attachEvent("onpropertychange",of)):a==="focusout"&&Ki()}function bm(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Hs(ul)}function ah(a,u){if(a==="click")return Hs(u)}function On(a,u){if(a==="input"||a==="change")return Hs(u)}function af(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var di=typeof Object.is=="function"?Object.is:af;function na(a,u){if(di(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var g=Object.keys(a),S=Object.keys(u);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var C=g[S];if(!c.call(u,C)||!di(a[C],u[C]))return!1}return!0}function gu(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function hi(a,u){var g=gu(a);a=0;for(var S;g;){if(g.nodeType===3){if(S=a+g.textContent.length,a<=u&&S>=u)return{node:g,offset:u-a};a=S}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=gu(g)}}function ra(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?ra(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function kn(){for(var a=window,u=Ae();u instanceof a.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)a=u.contentWindow;else break;u=Ae(a.document)}return u}function cr(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function fr(a){var u=kn(),g=a.focusedElem,S=a.selectionRange;if(u!==g&&g&&g.ownerDocument&&ra(g.ownerDocument.documentElement,g)){if(S!==null&&cr(g)){if(u=S.start,a=S.end,a===void 0&&(a=u),"selectionStart"in g)g.selectionStart=u,g.selectionEnd=Math.min(a,g.value.length);else if(a=(u=g.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var C=g.textContent.length,B=Math.min(S.start,C);S=S.end===void 0?B:Math.min(S.end,C),!a.extend&&B>S&&(C=S,S=B,B=C),C=hi(g,B);var N=hi(g,S);C&&N&&(a.rangeCount!==1||a.anchorNode!==C.node||a.anchorOffset!==C.offset||a.focusNode!==N.node||a.focusOffset!==N.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),a.removeAllRanges(),B>S?(a.addRange(u),a.extend(N.node,N.offset)):(u.setEnd(N.node,N.offset),a.addRange(u)))}}for(u=[],a=g;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<u.length;g++)a=u[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var lf=l&&"documentMode"in document&&11>=document.documentMode,ms=null,ia=null,yu=null,dr=!1;function uf(a,u,g){var S=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;dr||ms==null||ms!==Ae(S)||(S=ms,"selectionStart"in S&&cr(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),yu&&na(yu,S)||(yu=S,S=gf(ia,"onSelect"),0<S.length&&(u=new pu("onSelect","select",null,u,g),a.push({event:u,listeners:S}),u.target=ms)))}function dl(a,u){var g={};return g[a.toLowerCase()]=u.toLowerCase(),g["Webkit"+a]="webkit"+u,g["Moz"+a]="moz"+u,g}var To={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},Yi={},Qi={};l&&(Qi=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function gs(a){if(Yi[a])return Yi[a];if(!To[a])return a;var u=To[a],g;for(g in u)if(u.hasOwnProperty(g)&&g in Qi)return Yi[a]=u[g];return a}var vu=gs("animationend"),xu=gs("animationiteration"),lh=gs("animationstart"),uh=gs("transitionend"),ch=new Map,fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(a,u){ch.set(a,u),s(u,[a])}for(var cf=0;cf<fh.length;cf++){var _u=fh[cf],wu=_u.toLowerCase(),Em=_u[0].toUpperCase()+_u.slice(1);Gs(wu,"on"+Em)}Gs(vu,"onAnimationEnd"),Gs(xu,"onAnimationIteration"),Gs(lh,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(uh,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ff=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function df(a,u,g){var S=a.type||"unknown-event";a.currentTarget=g,Mt(S,u,void 0,a),a.currentTarget=null}function hl(a,u){u=(u&4)!==0;for(var g=0;g<a.length;g++){var S=a[g],C=S.event;S=S.listeners;e:{var B=void 0;if(u)for(var N=S.length-1;0<=N;N--){var Q=S[N],ie=Q.instance,Se=Q.currentTarget;if(Q=Q.listener,ie!==B&&C.isPropagationStopped())break e;df(C,Q,Se),B=ie}else for(N=0;N<S.length;N++){if(Q=S[N],ie=Q.instance,Se=Q.currentTarget,Q=Q.listener,ie!==B&&C.isPropagationStopped())break e;df(C,Q,Se),B=ie}}}if(ye)throw a=Re,ye=!1,Re=null,a}function _n(a,u){var g=u[aa];g===void 0&&(g=u[aa]=new Set);var S=a+"__bubble";g.has(S)||(pf(u,a,2,!1),g.add(S))}function hf(a,u,g){var S=0;u&&(S|=4),pf(g,a,S,u)}var Su="_reactListening"+Math.random().toString(36).slice(2);function pl(a){if(!a[Su]){a[Su]=!0,n.forEach(function(g){g!=="selectionchange"&&(ff.has(g)||hf(g,!1,a),hf(g,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Su]||(u[Su]=!0,hf("selectionchange",!1,u))}}function pf(a,u,g,S){switch(gm(u)){case 1:var C=$c;break;case 4:C=Qd;break;default:C=Xc}g=C.bind(null,u,g,a),C=void 0,!qa||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),S?C!==void 0?a.addEventListener(u,g,{capture:!0,passive:C}):a.addEventListener(u,g,!0):C!==void 0?a.addEventListener(u,g,{passive:C}):a.addEventListener(u,g,!1)}function mf(a,u,g,S,C){var B=S;if(!(u&1)&&!(u&2)&&S!==null)e:for(;;){if(S===null)return;var N=S.tag;if(N===3||N===4){var Q=S.stateNode.containerInfo;if(Q===C||Q.nodeType===8&&Q.parentNode===C)break;if(N===4)for(N=S.return;N!==null;){var ie=N.tag;if((ie===3||ie===4)&&(ie=N.stateNode.containerInfo,ie===C||ie.nodeType===8&&ie.parentNode===C))return;N=N.return}for(;Q!==null;){if(N=Po(Q),N===null)return;if(ie=N.tag,ie===5||ie===6){S=B=N;continue e}Q=Q.parentNode}}S=S.return}rr(function(){var Se=B,ze=ne(g),He=[];e:{var Ne=ch.get(a);if(Ne!==void 0){var it=pu,dt=a;switch(a){case"keypress":if(Ko(g)===0)break e;case"keydown":case"keyup":it=nf;break;case"focusin":dt="focus",it=qc;break;case"focusout":dt="blur",it=qc;break;case"beforeblur":case"afterblur":it=qc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=zs;break;case vu:case xu:case lh:it=ym;break;case uh:it=Zo;break;case"scroll":it=rl;break;case"wheel":it=rh;break;case"copy":case"cut":case"paste":it=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=fi}var mt=(u&4)!==0,or=!mt&&a==="scroll",pe=mt?Ne!==null?Ne+"Capture":null:Ne;mt=[];for(var se=Se,ve;se!==null;){ve=se;var Je=ve.stateNode;if(ve.tag===5&&Je!==null&&(ve=Je,pe!==null&&(Je=In(se,pe),Je!=null&&mt.push(ml(se,Je,ve)))),or)break;se=se.return}0<mt.length&&(Ne=new it(Ne,dt,null,g,ze),He.push({event:Ne,listeners:mt}))}}if(!(u&7)){e:{if(Ne=a==="mouseover"||a==="pointerover",it=a==="mouseout"||a==="pointerout",Ne&&g!==nt&&(dt=g.relatedTarget||g.fromElement)&&(Po(dt)||dt[pi]))break e;if((it||Ne)&&(Ne=ze.window===ze?ze:(Ne=ze.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,it?(dt=g.relatedTarget||g.toElement,it=Se,dt=dt?Po(dt):null,dt!==null&&(or=Et(dt),dt!==or||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(it=null,dt=Se),it!==dt)){if(mt=Zd,Je="onMouseLeave",pe="onMouseEnter",se="mouse",(a==="pointerout"||a==="pointerover")&&(mt=fi,Je="onPointerLeave",pe="onPointerEnter",se="pointer"),or=it==null?Ne:Gn(it),ve=dt==null?Ne:Gn(dt),Ne=new mt(Je,se+"leave",it,g,ze),Ne.target=or,Ne.relatedTarget=ve,Je=null,Po(ze)===Se&&(mt=new mt(pe,se+"enter",dt,g,ze),mt.target=ve,mt.relatedTarget=or,Je=mt),or=Je,it&&dt)t:{for(mt=it,pe=dt,se=0,ve=mt;ve;ve=sa(ve))se++;for(ve=0,Je=pe;Je;Je=sa(Je))ve++;for(;0<se-ve;)mt=sa(mt),se--;for(;0<ve-se;)pe=sa(pe),ve--;for(;se--;){if(mt===pe||pe!==null&&mt===pe.alternate)break t;mt=sa(mt),pe=sa(pe)}mt=null}else mt=null;it!==null&&Cm(He,Ne,it,mt,!1),dt!==null&&or!==null&&Cm(He,or,dt,mt,!0)}}e:{if(Ne=Se?Gn(Se):window,it=Ne.nodeName&&Ne.nodeName.toLowerCase(),it==="select"||it==="input"&&Ne.type==="file")var wt=Mm;else if(sf(Ne))if(cl)wt=On;else{wt=bm;var Tt=fl}else(it=Ne.nodeName)&&it.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(wt=ah);if(wt&&(wt=wt(a,Se))){ll(He,wt,g,ze);break e}Tt&&Tt(a,Ne,Se),a==="focusout"&&(Tt=Ne._wrapperState)&&Tt.controlled&&Ne.type==="number"&&lt(Ne,"number",Ne.value)}switch(Tt=Se?Gn(Se):window,a){case"focusin":(sf(Tt)||Tt.contentEditable==="true")&&(ms=Tt,ia=Se,yu=null);break;case"focusout":yu=ia=ms=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,uf(He,g,ze);break;case"selectionchange":if(lf)break;case"keydown":case"keyup":uf(He,g,ze)}var Rt;if(Vr)e:{switch(a){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else Eo?oh(a,g)&&(Lt="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Lt="onCompositionStart");Lt&&(ol&&g.locale!=="ko"&&(Eo||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Eo&&(Rt=hu()):(Xi=ze,qd="value"in Xi?Xi.value:Xi.textContent,Eo=!0)),Tt=gf(Se,Lt),0<Tt.length&&(Lt=new th(Lt,a,null,g,ze),He.push({event:Lt,listeners:Tt}),Rt?Lt.data=Rt:(Rt=rf(g),Rt!==null&&(Lt.data=Rt)))),(Rt=Rn?Sm(a,g):mu(a,g))&&(Se=gf(Se,"onBeforeInput"),0<Se.length&&(ze=new th("onBeforeInput","beforeinput",null,g,ze),He.push({event:ze,listeners:Se}),ze.data=Rt))}hl(He,u)})}function ml(a,u,g){return{instance:a,listener:u,currentTarget:g}}function gf(a,u){for(var g=u+"Capture",S=[];a!==null;){var C=a,B=C.stateNode;C.tag===5&&B!==null&&(C=B,B=In(a,g),B!=null&&S.unshift(ml(a,B,C)),B=In(a,u),B!=null&&S.push(ml(a,B,C))),a=a.return}return S}function sa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Cm(a,u,g,S,C){for(var B=u._reactName,N=[];g!==null&&g!==S;){var Q=g,ie=Q.alternate,Se=Q.stateNode;if(ie!==null&&ie===S)break;Q.tag===5&&Se!==null&&(Q=Se,C?(ie=In(g,B),ie!=null&&N.unshift(ml(g,ie,Q))):C||(ie=In(g,B),ie!=null&&N.push(ml(g,ie,Q)))),g=g.return}N.length!==0&&a.push({event:u,listeners:N})}var _y=/\r\n?/g,Tm=/\u0000|\uFFFD/g;function dh(a){return(typeof a=="string"?a:""+a).replace(_y,`
`).replace(Tm,"")}function Au(a,u,g){if(u=dh(u),dh(a)!==u&&g)throw Error(t(425))}function Mu(){}var gl=null,hh=null;function ph(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,gh=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,wy=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(a){return yf.resolve(null).then(a).catch(Rm)}:mh;function Rm(a){setTimeout(function(){throw a})}function vf(a,u){var g=u,S=0;do{var C=g.nextSibling;if(a.removeChild(g),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(S===0){a.removeChild(C),du(u);return}S--}else g!=="$"&&g!=="$?"&&g!=="$!"||S++;g=C}while(g);du(u)}function Vs(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function yh(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return a;u--}else g==="/$"&&u++}a=a.previousSibling}return null}var oa=Math.random().toString(36).slice(2),sr="__reactFiber$"+oa,yl="__reactProps$"+oa,pi="__reactContainer$"+oa,aa="__reactEvents$"+oa,xf="__reactListeners$"+oa,_f="__reactHandles$"+oa;function Po(a){var u=a[sr];if(u)return u;for(var g=a.parentNode;g;){if(u=g[pi]||g[sr]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(a=yh(a);a!==null;){if(g=a[sr])return g;a=yh(a)}return u}a=g,g=a.parentNode}return null}function Ws(a){return a=a[sr]||a[pi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Gn(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function wf(a){return a[yl]||null}var vh=[],hr=-1;function Nn(a){return{current:a}}function wn(a){0>hr||(a.current=vh[hr],vh[hr]=null,hr--)}function vn(a,u){hr++,vh[hr]=a.current,a.current=u}var js={},wr=Nn(js),Wr=Nn(!1),Js=js;function la(a,u){var g=a.type.contextTypes;if(!g)return js;var S=a.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===u)return S.__reactInternalMemoizedMaskedChildContext;var C={},B;for(B in g)C[B]=u[B];return S&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=C),C}function Br(a){return a=a.childContextTypes,a!=null}function bu(){wn(Wr),wn(wr)}function xh(a,u,g){if(wr.current!==js)throw Error(t(168));vn(wr,u),vn(Wr,g)}function Eu(a,u,g){var S=a.stateNode;if(u=u.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var C in S)if(!(C in u))throw Error(t(108,Ve(a)||"Unknown",C));return $({},g,S)}function ua(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||js,Js=wr.current,vn(wr,a),vn(Wr,Wr.current),!0}function _h(a,u,g){var S=a.stateNode;if(!S)throw Error(t(169));g?(a=Eu(a,u,Js),S.__reactInternalMemoizedMergedChildContext=a,wn(Wr),wn(wr),vn(wr,a)):wn(Wr),vn(Wr,g)}var qi=null,Cu=!1,Sf=!1;function Tu(a){qi===null?qi=[a]:qi.push(a)}function Pm(a){Cu=!0,Tu(a)}function ys(){if(!Sf&&qi!==null){Sf=!0;var a=0,u=ln;try{var g=qi;for(ln=1;a<g.length;a++){var S=g[a];do S=S(!0);while(S!==null)}qi=null,Cu=!1}catch(C){throw qi!==null&&(qi=qi.slice(a+1)),Ln(Ds,ys),C}finally{ln=u,Sf=!1}}return null}var ca=[],ti=0,Af=null,Mf=0,jr=[],pr=0,fa=null,Ke=1,Ni="";function $s(a,u){ca[ti++]=Mf,ca[ti++]=Af,Af=a,Mf=u}function wh(a,u,g){jr[pr++]=Ke,jr[pr++]=Ni,jr[pr++]=fa,fa=a;var S=Ke;a=Ni;var C=32-Fn(S)-1;S&=~(1<<C),g+=1;var B=32-Fn(u)+C;if(30<B){var N=C-C%5;B=(S&(1<<N)-1).toString(32),S>>=N,C-=N,Ke=1<<32-Fn(u)+C|g<<C|S,Ni=B+a}else Ke=1<<B|g<<C|S,Ni=a}function Sh(a){a.return!==null&&($s(a,1),wh(a,1,0))}function Xs(a){for(;a===Af;)Af=ca[--ti],ca[ti]=null,Mf=ca[--ti],ca[ti]=null;for(;a===fa;)fa=jr[--pr],jr[pr]=null,Ni=jr[--pr],jr[pr]=null,Ke=jr[--pr],jr[pr]=null}var Sr=null,Jr=null,En=!1,zi=null;function Ah(a,u){var g=Ss(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=a,u=a.deletions,u===null?(a.deletions=[g],a.flags|=16):u.push(g)}function Mh(a,u){switch(a.tag){case 5:var g=a.type;return u=u.nodeType!==1||g.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Sr=a,Jr=Vs(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Sr=a,Jr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(g=fa!==null?{id:Ke,overflow:Ni}:null,a.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=Ss(18,null,null,0),g.stateNode=u,g.return=a,a.child=g,Sr=a,Jr=null,!0):!1;default:return!1}}function bf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ef(a){if(En){var u=Jr;if(u){var g=u;if(!Mh(a,u)){if(bf(a))throw Error(t(418));u=Vs(g.nextSibling);var S=Sr;u&&Mh(a,u)?Ah(S,g):(a.flags=a.flags&-4097|2,En=!1,Sr=a)}}else{if(bf(a))throw Error(t(418));a.flags=a.flags&-4097|2,En=!1,Sr=a}}}function Cf(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Sr=a}function vl(a){if(a!==Sr)return!1;if(!En)return Cf(a),En=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!ph(a.type,a.memoizedProps)),u&&(u=Jr)){if(bf(a))throw bh(),Error(t(418));for(;u;)Ah(a,u),u=Vs(u.nextSibling)}if(Cf(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(u===0){Jr=Vs(a.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++}a=a.nextSibling}Jr=null}}else Jr=Sr?Vs(a.stateNode.nextSibling):null;return!0}function bh(){for(var a=Jr;a;)a=Vs(a.nextSibling)}function Bo(){Jr=Sr=null,En=!1}function xl(a){zi===null?zi=[a]:zi.push(a)}var Sy=R.ReactCurrentBatchConfig;function Ru(a,u,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var S=g.stateNode}if(!S)throw Error(t(147,a));var C=S,B=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===B?u.ref:(u=function(N){var Q=C.refs;N===null?delete Q[B]:Q[B]=N},u._stringRef=B,u)}if(typeof a!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,a))}return a}function Pu(a,u){throw a=Object.prototype.toString.call(u),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Eh(a){var u=a._init;return u(a._payload)}function Ch(a){function u(pe,se){if(a){var ve=pe.deletions;ve===null?(pe.deletions=[se],pe.flags|=16):ve.push(se)}}function g(pe,se){if(!a)return null;for(;se!==null;)u(pe,se),se=se.sibling;return null}function S(pe,se){for(pe=new Map;se!==null;)se.key!==null?pe.set(se.key,se):pe.set(se.index,se),se=se.sibling;return pe}function C(pe,se){return pe=Pl(pe,se),pe.index=0,pe.sibling=null,pe}function B(pe,se,ve){return pe.index=ve,a?(ve=pe.alternate,ve!==null?(ve=ve.index,ve<se?(pe.flags|=2,se):ve):(pe.flags|=2,se)):(pe.flags|=1048576,se)}function N(pe){return a&&pe.alternate===null&&(pe.flags|=2),pe}function Q(pe,se,ve,Je){return se===null||se.tag!==6?(se=Hy(ve,pe.mode,Je),se.return=pe,se):(se=C(se,ve),se.return=pe,se)}function ie(pe,se,ve,Je){var wt=ve.type;return wt===F?ze(pe,se,ve.props.children,Je,ve.key):se!==null&&(se.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===he&&Eh(wt)===se.type)?(Je=C(se,ve.props),Je.ref=Ru(pe,se,ve),Je.return=pe,Je):(Je=Zm(ve.type,ve.key,ve.props,null,pe.mode,Je),Je.ref=Ru(pe,se,ve),Je.return=pe,Je)}function Se(pe,se,ve,Je){return se===null||se.tag!==4||se.stateNode.containerInfo!==ve.containerInfo||se.stateNode.implementation!==ve.implementation?(se=Gy(ve,pe.mode,Je),se.return=pe,se):(se=C(se,ve.children||[]),se.return=pe,se)}function ze(pe,se,ve,Je,wt){return se===null||se.tag!==7?(se=$u(ve,pe.mode,Je,wt),se.return=pe,se):(se=C(se,ve),se.return=pe,se)}function He(pe,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Hy(""+se,pe.mode,ve),se.return=pe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case L:return ve=Zm(se.type,se.key,se.props,null,pe.mode,ve),ve.ref=Ru(pe,null,se),ve.return=pe,ve;case O:return se=Gy(se,pe.mode,ve),se.return=pe,se;case he:var Je=se._init;return He(pe,Je(se._payload),ve)}if(Gt(se)||K(se))return se=$u(se,pe.mode,ve,null),se.return=pe,se;Pu(pe,se)}return null}function Ne(pe,se,ve,Je){var wt=se!==null?se.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return wt!==null?null:Q(pe,se,""+ve,Je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case L:return ve.key===wt?ie(pe,se,ve,Je):null;case O:return ve.key===wt?Se(pe,se,ve,Je):null;case he:return wt=ve._init,Ne(pe,se,wt(ve._payload),Je)}if(Gt(ve)||K(ve))return wt!==null?null:ze(pe,se,ve,Je,null);Pu(pe,ve)}return null}function it(pe,se,ve,Je,wt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return pe=pe.get(ve)||null,Q(se,pe,""+Je,wt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case L:return pe=pe.get(Je.key===null?ve:Je.key)||null,ie(se,pe,Je,wt);case O:return pe=pe.get(Je.key===null?ve:Je.key)||null,Se(se,pe,Je,wt);case he:var Tt=Je._init;return it(pe,se,ve,Tt(Je._payload),wt)}if(Gt(Je)||K(Je))return pe=pe.get(ve)||null,ze(se,pe,Je,wt,null);Pu(se,Je)}return null}function dt(pe,se,ve,Je){for(var wt=null,Tt=null,Rt=se,Lt=se=0,Or=null;Rt!==null&&Lt<ve.length;Lt++){Rt.index>Lt?(Or=Rt,Rt=null):Or=Rt.sibling;var hn=Ne(pe,Rt,ve[Lt],Je);if(hn===null){Rt===null&&(Rt=Or);break}a&&Rt&&hn.alternate===null&&u(pe,Rt),se=B(hn,se,Lt),Tt===null?wt=hn:Tt.sibling=hn,Tt=hn,Rt=Or}if(Lt===ve.length)return g(pe,Rt),En&&$s(pe,Lt),wt;if(Rt===null){for(;Lt<ve.length;Lt++)Rt=He(pe,ve[Lt],Je),Rt!==null&&(se=B(Rt,se,Lt),Tt===null?wt=Rt:Tt.sibling=Rt,Tt=Rt);return En&&$s(pe,Lt),wt}for(Rt=S(pe,Rt);Lt<ve.length;Lt++)Or=it(Rt,pe,Lt,ve[Lt],Je),Or!==null&&(a&&Or.alternate!==null&&Rt.delete(Or.key===null?Lt:Or.key),se=B(Or,se,Lt),Tt===null?wt=Or:Tt.sibling=Or,Tt=Or);return a&&Rt.forEach(function(Bl){return u(pe,Bl)}),En&&$s(pe,Lt),wt}function mt(pe,se,ve,Je){var wt=K(ve);if(typeof wt!="function")throw Error(t(150));if(ve=wt.call(ve),ve==null)throw Error(t(151));for(var Tt=wt=null,Rt=se,Lt=se=0,Or=null,hn=ve.next();Rt!==null&&!hn.done;Lt++,hn=ve.next()){Rt.index>Lt?(Or=Rt,Rt=null):Or=Rt.sibling;var Bl=Ne(pe,Rt,hn.value,Je);if(Bl===null){Rt===null&&(Rt=Or);break}a&&Rt&&Bl.alternate===null&&u(pe,Rt),se=B(Bl,se,Lt),Tt===null?wt=Bl:Tt.sibling=Bl,Tt=Bl,Rt=Or}if(hn.done)return g(pe,Rt),En&&$s(pe,Lt),wt;if(Rt===null){for(;!hn.done;Lt++,hn=ve.next())hn=He(pe,hn.value,Je),hn!==null&&(se=B(hn,se,Lt),Tt===null?wt=hn:Tt.sibling=hn,Tt=hn);return En&&$s(pe,Lt),wt}for(Rt=S(pe,Rt);!hn.done;Lt++,hn=ve.next())hn=it(Rt,pe,Lt,hn.value,Je),hn!==null&&(a&&hn.alternate!==null&&Rt.delete(hn.key===null?Lt:hn.key),se=B(hn,se,Lt),Tt===null?wt=hn:Tt.sibling=hn,Tt=hn);return a&&Rt.forEach(function(N2){return u(pe,N2)}),En&&$s(pe,Lt),wt}function or(pe,se,ve,Je){if(typeof ve=="object"&&ve!==null&&ve.type===F&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case L:e:{for(var wt=ve.key,Tt=se;Tt!==null;){if(Tt.key===wt){if(wt=ve.type,wt===F){if(Tt.tag===7){g(pe,Tt.sibling),se=C(Tt,ve.props.children),se.return=pe,pe=se;break e}}else if(Tt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===he&&Eh(wt)===Tt.type){g(pe,Tt.sibling),se=C(Tt,ve.props),se.ref=Ru(pe,Tt,ve),se.return=pe,pe=se;break e}g(pe,Tt);break}else u(pe,Tt);Tt=Tt.sibling}ve.type===F?(se=$u(ve.props.children,pe.mode,Je,ve.key),se.return=pe,pe=se):(Je=Zm(ve.type,ve.key,ve.props,null,pe.mode,Je),Je.ref=Ru(pe,se,ve),Je.return=pe,pe=Je)}return N(pe);case O:e:{for(Tt=ve.key;se!==null;){if(se.key===Tt)if(se.tag===4&&se.stateNode.containerInfo===ve.containerInfo&&se.stateNode.implementation===ve.implementation){g(pe,se.sibling),se=C(se,ve.children||[]),se.return=pe,pe=se;break e}else{g(pe,se);break}else u(pe,se);se=se.sibling}se=Gy(ve,pe.mode,Je),se.return=pe,pe=se}return N(pe);case he:return Tt=ve._init,or(pe,se,Tt(ve._payload),Je)}if(Gt(ve))return dt(pe,se,ve,Je);if(K(ve))return mt(pe,se,ve,Je);Pu(pe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,se!==null&&se.tag===6?(g(pe,se.sibling),se=C(se,ve),se.return=pe,pe=se):(g(pe,se),se=Hy(ve,pe.mode,Je),se.return=pe,pe=se),N(pe)):g(pe,se)}return or}var da=Ch(!0),Bu=Ch(!1),ha=Nn(null),pa=null,Ks=null,_l=null;function ma(){_l=Ks=pa=null}function Iu(a){var u=ha.current;wn(ha),a._currentValue=u}function Lu(a,u,g){for(;a!==null;){var S=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,S!==null&&(S.childLanes|=u)):S!==null&&(S.childLanes&u)!==u&&(S.childLanes|=u),a===g)break;a=a.return}}function Io(a,u){pa=a,_l=Ks=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(jt=!0),a.firstContext=null)}function mi(a){var u=a._currentValue;if(_l!==a)if(a={context:a,memoizedValue:u,next:null},Ks===null){if(pa===null)throw Error(t(308));Ks=a,pa.dependencies={lanes:0,firstContext:a}}else Ks=Ks.next=a;return u}var Ys=null;function Th(a){Ys===null?Ys=[a]:Ys.push(a)}function Du(a,u,g,S){var C=u.interleaved;return C===null?(g.next=g,Th(u)):(g.next=C.next,C.next=g),u.interleaved=g,Zi(a,S)}function Zi(a,u){a.lanes|=u;var g=a.alternate;for(g!==null&&(g.lanes|=u),g=a,a=a.return;a!==null;)a.childLanes|=u,g=a.alternate,g!==null&&(g.childLanes|=u),g=a,a=a.return;return g.tag===3?g.stateNode:null}var gn=!1;function Ut(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vn(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function yn(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Pn(a,u,g){var S=a.updateQueue;if(S===null)return null;if(S=S.shared,fn&2){var C=S.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),S.pending=u,Zi(a,g)}return C=S.interleaved,C===null?(u.next=u,Th(S)):(u.next=C.next,C.next=u),S.interleaved=u,Zi(a,g)}function Ir(a,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var S=u.lanes;S&=a.pendingLanes,g|=S,u.lanes=g,el(a,g)}}function ga(a,u){var g=a.updateQueue,S=a.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var C=null,B=null;if(g=g.firstBaseUpdate,g!==null){do{var N={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};B===null?C=B=N:B=B.next=N,g=g.next}while(g!==null);B===null?C=B=u:B=B.next=u}else C=B=u;g={baseState:S.baseState,firstBaseUpdate:C,lastBaseUpdate:B,shared:S.shared,effects:S.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=u:a.next=u,g.lastBaseUpdate=u}function zn(a,u,g,S){var C=a.updateQueue;gn=!1;var B=C.firstBaseUpdate,N=C.lastBaseUpdate,Q=C.shared.pending;if(Q!==null){C.shared.pending=null;var ie=Q,Se=ie.next;ie.next=null,N===null?B=Se:N.next=Se,N=ie;var ze=a.alternate;ze!==null&&(ze=ze.updateQueue,Q=ze.lastBaseUpdate,Q!==N&&(Q===null?ze.firstBaseUpdate=Se:Q.next=Se,ze.lastBaseUpdate=ie))}if(B!==null){var He=C.baseState;N=0,ze=Se=ie=null,Q=B;do{var Ne=Q.lane,it=Q.eventTime;if((S&Ne)===Ne){ze!==null&&(ze=ze.next={eventTime:it,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var dt=a,mt=Q;switch(Ne=u,it=g,mt.tag){case 1:if(dt=mt.payload,typeof dt=="function"){He=dt.call(it,He,Ne);break e}He=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=mt.payload,Ne=typeof dt=="function"?dt.call(it,He,Ne):dt,Ne==null)break e;He=$({},He,Ne);break e;case 2:gn=!0}}Q.callback!==null&&Q.lane!==0&&(a.flags|=64,Ne=C.effects,Ne===null?C.effects=[Q]:Ne.push(Q))}else it={eventTime:it,lane:Ne,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ze===null?(Se=ze=it,ie=He):ze=ze.next=it,N|=Ne;if(Q=Q.next,Q===null){if(Q=C.shared.pending,Q===null)break;Ne=Q,Q=Ne.next,Ne.next=null,C.lastBaseUpdate=Ne,C.shared.pending=null}}while(!0);if(ze===null&&(ie=He),C.baseState=ie,C.firstBaseUpdate=Se,C.lastBaseUpdate=ze,u=C.shared.interleaved,u!==null){C=u;do N|=C.lane,C=C.next;while(C!==u)}else B===null&&(C.shared.lanes=0);Vu|=N,a.lanes=N,a.memoizedState=He}}function wl(a,u,g){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var S=a[u],C=S.callback;if(C!==null){if(S.callback=null,S=g,typeof C!="function")throw Error(t(191,C));C.call(S)}}}var vs={},gi=Nn(vs),ya=Nn(vs),Qs=Nn(vs);function Kn(a){if(a===vs)throw Error(t(174));return a}function Ou(a,u){switch(vn(Qs,u),vn(ya,a),vn(gi,vs),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:We(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=We(u,a)}wn(gi),vn(gi,u)}function Lo(){wn(gi),wn(ya),wn(Qs)}function va(a){Kn(Qs.current);var u=Kn(gi.current),g=We(u,a.type);u!==g&&(vn(ya,a),vn(gi,g))}function Sl(a){ya.current===a&&(wn(gi),wn(ya))}var Cn=Nn(0);function es(a){for(var u=a;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Al=[];function xs(){for(var a=0;a<Al.length;a++)Al[a]._workInProgressVersionPrimary=null;Al.length=0}var xa=R.ReactCurrentDispatcher,_a=R.ReactCurrentBatchConfig,qs=0,Sn=null,Un=null,un=null,ts=!1,Lr=!1,Do=0,ni=0;function Ar(){throw Error(t(321))}function ku(a,u){if(u===null)return!1;for(var g=0;g<u.length&&g<a.length;g++)if(!di(a[g],u[g]))return!1;return!0}function Fu(a,u,g,S,C,B){if(qs=B,Sn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,xa.current=a===null||a.memoizedState===null?Fm:Nm,a=g(S,C),Lr){B=0;do{if(Lr=!1,Do=0,25<=B)throw Error(t(301));B+=1,un=Un=null,u.updateQueue=null,xa.current=zm,a=g(S,C)}while(Lr)}if(xa.current=Df,u=Un!==null&&Un.next!==null,qs=0,un=Un=Sn=null,ts=!1,u)throw Error(t(300));return a}function Rh(){var a=Do!==0;return Do=0,a}function Mr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Sn.memoizedState=un=a:un=un.next=a,un}function yi(){if(Un===null){var a=Sn.alternate;a=a!==null?a.memoizedState:null}else a=Un.next;var u=un===null?Sn.memoizedState:un.next;if(u!==null)un=u,Un=a;else{if(a===null)throw Error(t(310));Un=a,a={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},un===null?Sn.memoizedState=un=a:un=un.next=a}return un}function Ml(a,u){return typeof u=="function"?u(a):u}function Nu(a){var u=yi(),g=u.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var S=Un,C=S.baseQueue,B=g.pending;if(B!==null){if(C!==null){var N=C.next;C.next=B.next,B.next=N}S.baseQueue=C=B,g.pending=null}if(C!==null){B=C.next,S=S.baseState;var Q=N=null,ie=null,Se=B;do{var ze=Se.lane;if((qs&ze)===ze)ie!==null&&(ie=ie.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),S=Se.hasEagerState?Se.eagerState:a(S,Se.action);else{var He={lane:ze,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};ie===null?(Q=ie=He,N=S):ie=ie.next=He,Sn.lanes|=ze,Vu|=ze}Se=Se.next}while(Se!==null&&Se!==B);ie===null?N=S:ie.next=Q,di(S,u.memoizedState)||(jt=!0),u.memoizedState=S,u.baseState=N,u.baseQueue=ie,g.lastRenderedState=S}if(a=g.interleaved,a!==null){C=a;do B=C.lane,Sn.lanes|=B,Vu|=B,C=C.next;while(C!==a)}else C===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function Zs(a){var u=yi(),g=u.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var S=g.dispatch,C=g.pending,B=u.memoizedState;if(C!==null){g.pending=null;var N=C=C.next;do B=a(B,N.action),N=N.next;while(N!==C);di(B,u.memoizedState)||(jt=!0),u.memoizedState=B,u.baseQueue===null&&(u.baseState=B),g.lastRenderedState=B}return[B,S]}function Ph(){}function Bh(a,u){var g=Sn,S=yi(),C=u(),B=!di(S.memoizedState,C);if(B&&(S.memoizedState=C,jt=!0),S=S.queue,Dh(Bm.bind(null,g,S,a),[a]),S.getSnapshot!==u||B||un!==null&&un.memoizedState.tag&1){if(g.flags|=2048,ns(9,zu.bind(null,g,S,C,u),void 0,null),Dr===null)throw Error(t(349));qs&30||Tf(g,u,C)}return C}function Tf(a,u,g){a.flags|=16384,a={getSnapshot:u,value:g},u=Sn.updateQueue,u===null?(u={lastEffect:null,stores:null},Sn.updateQueue=u,u.stores=[a]):(g=u.stores,g===null?u.stores=[a]:g.push(a))}function zu(a,u,g,S){u.value=g,u.getSnapshot=S,Im(u)&&Ih(a)}function Bm(a,u,g){return g(function(){Im(u)&&Ih(a)})}function Im(a){var u=a.getSnapshot;a=a.value;try{var g=u();return!di(a,g)}catch{return!0}}function Ih(a){var u=Zi(a,1);u!==null&&io(u,a,1,-1)}function Lh(a){var u=Mr();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:a},u.queue=a,a=a.dispatch=wa.bind(null,Sn,a),[u.memoizedState,a]}function ns(a,u,g,S){return a={tag:a,create:u,destroy:g,deps:S,next:null},u=Sn.updateQueue,u===null?(u={lastEffect:null,stores:null},Sn.updateQueue=u,u.lastEffect=a.next=a):(g=u.lastEffect,g===null?u.lastEffect=a.next=a:(S=g.next,g.next=a,a.next=S,u.lastEffect=a)),a}function Lm(){return yi().memoizedState}function _s(a,u,g,S){var C=Mr();Sn.flags|=a,C.memoizedState=ns(1|u,g,void 0,S===void 0?null:S)}function Uu(a,u,g,S){var C=yi();S=S===void 0?null:S;var B=void 0;if(Un!==null){var N=Un.memoizedState;if(B=N.destroy,S!==null&&ku(S,N.deps)){C.memoizedState=ns(u,g,B,S);return}}Sn.flags|=a,C.memoizedState=ns(1|u,g,B,S)}function $r(a,u){return _s(8390656,8,a,u)}function Dh(a,u){return Uu(2048,8,a,u)}function Oh(a,u){return Uu(4,2,a,u)}function Dm(a,u){return Uu(4,4,a,u)}function Om(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function kh(a,u,g){return g=g!=null?g.concat([a]):null,Uu(4,4,Om.bind(null,u,a),g)}function Rf(){}function km(a,u){var g=yi();u=u===void 0?null:u;var S=g.memoizedState;return S!==null&&u!==null&&ku(u,S[1])?S[0]:(g.memoizedState=[a,u],a)}function vi(a,u){var g=yi();u=u===void 0?null:u;var S=g.memoizedState;return S!==null&&u!==null&&ku(u,S[1])?S[0]:(a=a(),g.memoizedState=[a,u],a)}function Pf(a,u,g){return qs&21?(di(g,u)||(g=Bi(),Sn.lanes|=g,Vu|=g,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,jt=!0),a.memoizedState=g)}function Ay(a,u){var g=ln;ln=g!==0&&4>g?g:4,a(!0);var S=_a.transition;_a.transition={};try{a(!1),u()}finally{ln=g,_a.transition=S}}function eo(){return yi().memoizedState}function Bf(a,u,g){var S=Tl(a);if(g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},Hu(a))If(u,g);else if(g=Du(a,u,g,S),g!==null){var C=_i();io(g,a,S,C),Lf(g,u,S)}}function wa(a,u,g){var S=Tl(a),C={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(Hu(a))If(u,C);else{var B=a.alternate;if(a.lanes===0&&(B===null||B.lanes===0)&&(B=u.lastRenderedReducer,B!==null))try{var N=u.lastRenderedState,Q=B(N,g);if(C.hasEagerState=!0,C.eagerState=Q,di(Q,N)){var ie=u.interleaved;ie===null?(C.next=C,Th(u)):(C.next=ie.next,ie.next=C),u.interleaved=C;return}}catch{}finally{}g=Du(a,u,C,S),g!==null&&(C=_i(),io(g,a,S,C),Lf(g,u,S))}}function Hu(a){var u=a.alternate;return a===Sn||u!==null&&u===Sn}function If(a,u){Lr=ts=!0;var g=a.pending;g===null?u.next=u:(u.next=g.next,g.next=u),a.pending=u}function Lf(a,u,g){if(g&4194240){var S=u.lanes;S&=a.pendingLanes,g|=S,u.lanes=g,el(a,g)}}var Df={readContext:mi,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},Fm={readContext:mi,useCallback:function(a,u){return Mr().memoizedState=[a,u===void 0?null:u],a},useContext:mi,useEffect:$r,useImperativeHandle:function(a,u,g){return g=g!=null?g.concat([a]):null,_s(4194308,4,Om.bind(null,u,a),g)},useLayoutEffect:function(a,u){return _s(4194308,4,a,u)},useInsertionEffect:function(a,u){return _s(4,2,a,u)},useMemo:function(a,u){var g=Mr();return u=u===void 0?null:u,a=a(),g.memoizedState=[a,u],a},useReducer:function(a,u,g){var S=Mr();return u=g!==void 0?g(u):u,S.memoizedState=S.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},S.queue=a,a=a.dispatch=Bf.bind(null,Sn,a),[S.memoizedState,a]},useRef:function(a){var u=Mr();return a={current:a},u.memoizedState=a},useState:Lh,useDebugValue:Rf,useDeferredValue:function(a){return Mr().memoizedState=a},useTransition:function(){var a=Lh(!1),u=a[0];return a=Ay.bind(null,a[1]),Mr().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,g){var S=Sn,C=Mr();if(En){if(g===void 0)throw Error(t(407));g=g()}else{if(g=u(),Dr===null)throw Error(t(349));qs&30||Tf(S,u,g)}C.memoizedState=g;var B={value:g,getSnapshot:u};return C.queue=B,$r(Bm.bind(null,S,B,a),[a]),S.flags|=2048,ns(9,zu.bind(null,S,B,g,u),void 0,null),g},useId:function(){var a=Mr(),u=Dr.identifierPrefix;if(En){var g=Ni,S=Ke;g=(S&~(1<<32-Fn(S)-1)).toString(32)+g,u=":"+u+"R"+g,g=Do++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=ni++,u=":"+u+"r"+g.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},Nm={readContext:mi,useCallback:km,useContext:mi,useEffect:Dh,useImperativeHandle:kh,useInsertionEffect:Oh,useLayoutEffect:Dm,useMemo:vi,useReducer:Nu,useRef:Lm,useState:function(){return Nu(Ml)},useDebugValue:Rf,useDeferredValue:function(a){var u=yi();return Pf(u,Un.memoizedState,a)},useTransition:function(){var a=Nu(Ml)[0],u=yi().memoizedState;return[a,u]},useMutableSource:Ph,useSyncExternalStore:Bh,useId:eo,unstable_isNewReconciler:!1},zm={readContext:mi,useCallback:km,useContext:mi,useEffect:Dh,useImperativeHandle:kh,useInsertionEffect:Oh,useLayoutEffect:Dm,useMemo:vi,useReducer:Zs,useRef:Lm,useState:function(){return Zs(Ml)},useDebugValue:Rf,useDeferredValue:function(a){var u=yi();return Un===null?u.memoizedState=a:Pf(u,Un.memoizedState,a)},useTransition:function(){var a=Zs(Ml)[0],u=yi().memoizedState;return[a,u]},useMutableSource:Ph,useSyncExternalStore:Bh,useId:eo,unstable_isNewReconciler:!1};function Ui(a,u){if(a&&a.defaultProps){u=$({},u),a=a.defaultProps;for(var g in a)u[g]===void 0&&(u[g]=a[g]);return u}return u}function Gu(a,u,g,S){u=a.memoizedState,g=g(S,u),g=g==null?u:$({},u,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Of={isMounted:function(a){return(a=a._reactInternals)?Et(a)===a:!1},enqueueSetState:function(a,u,g){a=a._reactInternals;var S=_i(),C=Tl(a),B=yn(S,C);B.payload=u,g!=null&&(B.callback=g),u=Pn(a,B,C),u!==null&&(io(u,a,C,S),Ir(u,a,C))},enqueueReplaceState:function(a,u,g){a=a._reactInternals;var S=_i(),C=Tl(a),B=yn(S,C);B.tag=1,B.payload=u,g!=null&&(B.callback=g),u=Pn(a,B,C),u!==null&&(io(u,a,C,S),Ir(u,a,C))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var g=_i(),S=Tl(a),C=yn(g,S);C.tag=2,u!=null&&(C.callback=u),u=Pn(a,C,S),u!==null&&(io(u,a,S,g),Ir(u,a,S))}};function Um(a,u,g,S,C,B,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(S,B,N):u.prototype&&u.prototype.isPureReactComponent?!na(g,S)||!na(C,B):!0}function f(a,u,g){var S=!1,C=js,B=u.contextType;return typeof B=="object"&&B!==null?B=mi(B):(C=Br(u)?Js:wr.current,S=u.contextTypes,B=(S=S!=null)?la(a,C):js),u=new u(g,B),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Of,a.stateNode=u,u._reactInternals=a,S&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=C,a.__reactInternalMemoizedMaskedChildContext=B),u}function h(a,u,g,S){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,S),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,S),u.state!==a&&Of.enqueueReplaceState(u,u.state,null)}function x(a,u,g,S){var C=a.stateNode;C.props=g,C.state=a.memoizedState,C.refs={},Ut(a);var B=u.contextType;typeof B=="object"&&B!==null?C.context=mi(B):(B=Br(u)?Js:wr.current,C.context=la(a,B)),C.state=a.memoizedState,B=u.getDerivedStateFromProps,typeof B=="function"&&(Gu(a,u,B,g),C.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&Of.enqueueReplaceState(C,C.state,null),zn(a,g,C,S),C.state=a.memoizedState),typeof C.componentDidMount=="function"&&(a.flags|=4194308)}function M(a,u){try{var g="",S=u;do g+=Pe(S),S=S.return;while(S);var C=g}catch(B){C=`
Error generating stack: `+B.message+`
`+B.stack}return{value:a,source:u,stack:C,digest:null}}function P(a,u,g){return{value:a,source:null,stack:g??null,digest:u??null}}function D(a,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var X=typeof WeakMap=="function"?WeakMap:Map;function oe(a,u,g){g=yn(-1,g),g.tag=3,g.payload={element:null};var S=u.value;return g.callback=function(){$m||($m=!0,Ly=S),D(a,u)},g}function Ee(a,u,g){g=yn(-1,g),g.tag=3;var S=a.type.getDerivedStateFromError;if(typeof S=="function"){var C=u.value;g.payload=function(){return S(C)},g.callback=function(){D(a,u)}}var B=a.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(g.callback=function(){D(a,u),typeof S!="function"&&(El===null?El=new Set([this]):El.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})}),g}function je(a,u,g){var S=a.pingCache;if(S===null){S=a.pingCache=new X;var C=new Set;S.set(u,C)}else C=S.get(u),C===void 0&&(C=new Set,S.set(u,C));C.has(g)||(C.add(g),a=T2.bind(null,a,u,g),u.then(a,a))}function ot(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function Ot(a,u,g,S,C){return a.mode&1?(a.flags|=65536,a.lanes=C,a):(a===u?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=yn(-1,1),u.tag=2,Pn(g,u,1))),g.lanes|=1),a)}var bt=R.ReactCurrentOwner,jt=!1;function rt(a,u,g,S){u.child=a===null?Bu(u,null,g,S):da(u,a.child,g,S)}function br(a,u,g,S,C){g=g.render;var B=u.ref;return Io(u,C),S=Fu(a,u,g,S,B,C),g=Rh(),a!==null&&!jt?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~C,Sa(a,u,C)):(En&&g&&Sh(u),u.flags|=1,rt(a,u,S,C),u.child)}function xi(a,u,g,S,C){if(a===null){var B=g.type;return typeof B=="function"&&!Uy(B)&&B.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=B,xe(a,u,B,S,C)):(a=Zm(g.type,null,S,u,u.mode,C),a.ref=u.ref,a.return=u,u.child=a)}if(B=a.child,!(a.lanes&C)){var N=B.memoizedProps;if(g=g.compare,g=g!==null?g:na,g(N,S)&&a.ref===u.ref)return Sa(a,u,C)}return u.flags|=1,a=Pl(B,S),a.ref=u.ref,a.return=u,u.child=a}function xe(a,u,g,S,C){if(a!==null){var B=a.memoizedProps;if(na(B,S)&&a.ref===u.ref)if(jt=!1,u.pendingProps=S=B,(a.lanes&C)!==0)a.flags&131072&&(jt=!0);else return u.lanes=a.lanes,Sa(a,u,C)}return Ze(a,u,g,S,C)}function ue(a,u,g){var S=u.pendingProps,C=S.children,B=a!==null?a.memoizedState:null;if(S.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(Ff,rs),rs|=g;else{if(!(g&1073741824))return a=B!==null?B.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,vn(Ff,rs),rs|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=B!==null?B.baseLanes:g,vn(Ff,rs),rs|=S}else B!==null?(S=B.baseLanes|g,u.memoizedState=null):S=g,vn(Ff,rs),rs|=S;return rt(a,u,C,g),u.child}function be(a,u){var g=u.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function Ze(a,u,g,S,C){var B=Br(g)?Js:wr.current;return B=la(u,B),Io(u,C),g=Fu(a,u,g,S,B,C),S=Rh(),a!==null&&!jt?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~C,Sa(a,u,C)):(En&&S&&Sh(u),u.flags|=1,rt(a,u,g,C),u.child)}function xt(a,u,g,S,C){if(Br(g)){var B=!0;ua(u)}else B=!1;if(Io(u,C),u.stateNode===null)Gm(a,u),f(u,g,S),x(u,g,S,C),S=!0;else if(a===null){var N=u.stateNode,Q=u.memoizedProps;N.props=Q;var ie=N.context,Se=g.contextType;typeof Se=="object"&&Se!==null?Se=mi(Se):(Se=Br(g)?Js:wr.current,Se=la(u,Se));var ze=g.getDerivedStateFromProps,He=typeof ze=="function"||typeof N.getSnapshotBeforeUpdate=="function";He||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Q!==S||ie!==Se)&&h(u,N,S,Se),gn=!1;var Ne=u.memoizedState;N.state=Ne,zn(u,S,N,C),ie=u.memoizedState,Q!==S||Ne!==ie||Wr.current||gn?(typeof ze=="function"&&(Gu(u,g,ze,S),ie=u.memoizedState),(Q=gn||Um(u,g,Q,S,Ne,ie,Se))?(He||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=S,u.memoizedState=ie),N.props=S,N.state=ie,N.context=Se,S=Q):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),S=!1)}else{N=u.stateNode,Vn(a,u),Q=u.memoizedProps,Se=u.type===u.elementType?Q:Ui(u.type,Q),N.props=Se,He=u.pendingProps,Ne=N.context,ie=g.contextType,typeof ie=="object"&&ie!==null?ie=mi(ie):(ie=Br(g)?Js:wr.current,ie=la(u,ie));var it=g.getDerivedStateFromProps;(ze=typeof it=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Q!==He||Ne!==ie)&&h(u,N,S,ie),gn=!1,Ne=u.memoizedState,N.state=Ne,zn(u,S,N,C);var dt=u.memoizedState;Q!==He||Ne!==dt||Wr.current||gn?(typeof it=="function"&&(Gu(u,g,it,S),dt=u.memoizedState),(Se=gn||Um(u,g,Se,S,Ne,dt,ie)||!1)?(ze||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(S,dt,ie),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(S,dt,ie)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||Q===a.memoizedProps&&Ne===a.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&Ne===a.memoizedState||(u.flags|=1024),u.memoizedProps=S,u.memoizedState=dt),N.props=S,N.state=dt,N.context=ie,S=Se):(typeof N.componentDidUpdate!="function"||Q===a.memoizedProps&&Ne===a.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&Ne===a.memoizedState||(u.flags|=1024),S=!1)}return Ft(a,u,g,S,B,C)}function Ft(a,u,g,S,C,B){be(a,u);var N=(u.flags&128)!==0;if(!S&&!N)return C&&_h(u,g,!1),Sa(a,u,B);S=u.stateNode,bt.current=u;var Q=N&&typeof g.getDerivedStateFromError!="function"?null:S.render();return u.flags|=1,a!==null&&N?(u.child=da(u,a.child,null,B),u.child=da(u,null,Q,B)):rt(a,u,Q,B),u.memoizedState=S.state,C&&_h(u,g,!0),u.child}function kt(a){var u=a.stateNode;u.pendingContext?xh(a,u.pendingContext,u.pendingContext!==u.context):u.context&&xh(a,u.context,!1),Ou(a,u.containerInfo)}function sn(a,u,g,S,C){return Bo(),xl(C),u.flags|=256,rt(a,u,g,S),u.child}var Yn={dehydrated:null,treeContext:null,retryLane:0};function rn(a){return{baseLanes:a,cachePool:null,transitions:null}}function to(a,u,g){var S=u.pendingProps,C=Cn.current,B=!1,N=(u.flags&128)!==0,Q;if((Q=N)||(Q=a!==null&&a.memoizedState===null?!1:(C&2)!==0),Q?(B=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(C|=1),vn(Cn,C&1),a===null)return Ef(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(N=S.children,a=S.fallback,B?(S=u.mode,B=u.child,N={mode:"hidden",children:N},!(S&1)&&B!==null?(B.childLanes=0,B.pendingProps=N):B=eg(N,S,0,null),a=$u(a,S,g,null),B.return=u,a.return=u,B.sibling=a,u.child=B,u.child.memoizedState=rn(g),u.memoizedState=Yn,a):Fh(u,N));if(C=a.memoizedState,C!==null&&(Q=C.dehydrated,Q!==null))return g2(a,u,N,S,Q,C,g);if(B){B=S.fallback,N=u.mode,C=a.child,Q=C.sibling;var ie={mode:"hidden",children:S.children};return!(N&1)&&u.child!==C?(S=u.child,S.childLanes=0,S.pendingProps=ie,u.deletions=null):(S=Pl(C,ie),S.subtreeFlags=C.subtreeFlags&14680064),Q!==null?B=Pl(Q,B):(B=$u(B,N,g,null),B.flags|=2),B.return=u,S.return=u,S.sibling=B,u.child=S,S=B,B=u.child,N=a.child.memoizedState,N=N===null?rn(g):{baseLanes:N.baseLanes|g,cachePool:null,transitions:N.transitions},B.memoizedState=N,B.childLanes=a.childLanes&~g,u.memoizedState=Yn,S}return B=a.child,a=B.sibling,S=Pl(B,{mode:"visible",children:S.children}),!(u.mode&1)&&(S.lanes=g),S.return=u,S.sibling=null,a!==null&&(g=u.deletions,g===null?(u.deletions=[a],u.flags|=16):g.push(a)),u.child=S,u.memoizedState=null,S}function Fh(a,u){return u=eg({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Hm(a,u,g,S){return S!==null&&xl(S),da(u,a.child,null,g),a=Fh(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function g2(a,u,g,S,C,B,N){if(g)return u.flags&256?(u.flags&=-257,S=P(Error(t(422))),Hm(a,u,N,S)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(B=S.fallback,C=u.mode,S=eg({mode:"visible",children:S.children},C,0,null),B=$u(B,C,N,null),B.flags|=2,S.return=u,B.return=u,S.sibling=B,u.child=S,u.mode&1&&da(u,a.child,null,N),u.child.memoizedState=rn(N),u.memoizedState=Yn,B);if(!(u.mode&1))return Hm(a,u,N,null);if(C.data==="$!"){if(S=C.nextSibling&&C.nextSibling.dataset,S)var Q=S.dgst;return S=Q,B=Error(t(419)),S=P(B,S,void 0),Hm(a,u,N,S)}if(Q=(N&a.childLanes)!==0,jt||Q){if(S=Dr,S!==null){switch(N&-N){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(S.suspendedLanes|N)?0:C,C!==0&&C!==B.retryLane&&(B.retryLane=C,Zi(a,C),io(S,a,C,-1))}return zy(),S=P(Error(t(421))),Hm(a,u,N,S)}return C.data==="$?"?(u.flags|=128,u.child=a.child,u=R2.bind(null,a),C._reactRetry=u,null):(a=B.treeContext,Jr=Vs(C.nextSibling),Sr=u,En=!0,zi=null,a!==null&&(jr[pr++]=Ke,jr[pr++]=Ni,jr[pr++]=fa,Ke=a.id,Ni=a.overflow,fa=u),u=Fh(u,S.children),u.flags|=4096,u)}function ow(a,u,g){a.lanes|=u;var S=a.alternate;S!==null&&(S.lanes|=u),Lu(a.return,u,g)}function My(a,u,g,S,C){var B=a.memoizedState;B===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:C}:(B.isBackwards=u,B.rendering=null,B.renderingStartTime=0,B.last=S,B.tail=g,B.tailMode=C)}function aw(a,u,g){var S=u.pendingProps,C=S.revealOrder,B=S.tail;if(rt(a,u,S.children,g),S=Cn.current,S&2)S=S&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ow(a,g,u);else if(a.tag===19)ow(a,g,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}S&=1}if(vn(Cn,S),!(u.mode&1))u.memoizedState=null;else switch(C){case"forwards":for(g=u.child,C=null;g!==null;)a=g.alternate,a!==null&&es(a)===null&&(C=g),g=g.sibling;g=C,g===null?(C=u.child,u.child=null):(C=g.sibling,g.sibling=null),My(u,!1,C,g,B);break;case"backwards":for(g=null,C=u.child,u.child=null;C!==null;){if(a=C.alternate,a!==null&&es(a)===null){u.child=C;break}a=C.sibling,C.sibling=g,g=C,C=a}My(u,!0,g,null,B);break;case"together":My(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Gm(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Sa(a,u,g){if(a!==null&&(u.dependencies=a.dependencies),Vu|=u.lanes,!(g&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(t(153));if(u.child!==null){for(a=u.child,g=Pl(a,a.pendingProps),u.child=g,g.return=u;a.sibling!==null;)a=a.sibling,g=g.sibling=Pl(a,a.pendingProps),g.return=u;g.sibling=null}return u.child}function y2(a,u,g){switch(u.tag){case 3:kt(u),Bo();break;case 5:va(u);break;case 1:Br(u.type)&&ua(u);break;case 4:Ou(u,u.stateNode.containerInfo);break;case 10:var S=u.type._context,C=u.memoizedProps.value;vn(ha,S._currentValue),S._currentValue=C;break;case 13:if(S=u.memoizedState,S!==null)return S.dehydrated!==null?(vn(Cn,Cn.current&1),u.flags|=128,null):g&u.child.childLanes?to(a,u,g):(vn(Cn,Cn.current&1),a=Sa(a,u,g),a!==null?a.sibling:null);vn(Cn,Cn.current&1);break;case 19:if(S=(g&u.childLanes)!==0,a.flags&128){if(S)return aw(a,u,g);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),vn(Cn,Cn.current),S)break;return null;case 22:case 23:return u.lanes=0,ue(a,u,g)}return Sa(a,u,g)}var lw,by,uw,cw;lw=function(a,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},by=function(){},uw=function(a,u,g,S){var C=a.memoizedProps;if(C!==S){a=u.stateNode,Kn(gi.current);var B=null;switch(g){case"input":C=Ge(a,C),S=Ge(a,S),B=[];break;case"select":C=$({},C,{value:void 0}),S=$({},S,{value:void 0}),B=[];break;case"textarea":C=Y(a,C),S=Y(a,S),B=[];break;default:typeof C.onClick!="function"&&typeof S.onClick=="function"&&(a.onclick=Mu)}re(g,S);var N;g=null;for(Se in C)if(!S.hasOwnProperty(Se)&&C.hasOwnProperty(Se)&&C[Se]!=null)if(Se==="style"){var Q=C[Se];for(N in Q)Q.hasOwnProperty(N)&&(g||(g={}),g[N]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?B||(B=[]):(B=B||[]).push(Se,null));for(Se in S){var ie=S[Se];if(Q=C!=null?C[Se]:void 0,S.hasOwnProperty(Se)&&ie!==Q&&(ie!=null||Q!=null))if(Se==="style")if(Q){for(N in Q)!Q.hasOwnProperty(N)||ie&&ie.hasOwnProperty(N)||(g||(g={}),g[N]="");for(N in ie)ie.hasOwnProperty(N)&&Q[N]!==ie[N]&&(g||(g={}),g[N]=ie[N])}else g||(B||(B=[]),B.push(Se,g)),g=ie;else Se==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,Q=Q?Q.__html:void 0,ie!=null&&Q!==ie&&(B=B||[]).push(Se,ie)):Se==="children"?typeof ie!="string"&&typeof ie!="number"||(B=B||[]).push(Se,""+ie):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(ie!=null&&Se==="onScroll"&&_n("scroll",a),B||Q===ie||(B=[])):(B=B||[]).push(Se,ie))}g&&(B=B||[]).push("style",g);var Se=B;(u.updateQueue=Se)&&(u.flags|=4)}},cw=function(a,u,g,S){g!==S&&(u.flags|=4)};function Nh(a,u){if(!En)switch(a.tailMode){case"hidden":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:S.sibling=null}}function ri(a){var u=a.alternate!==null&&a.alternate.child===a.child,g=0,S=0;if(u)for(var C=a.child;C!==null;)g|=C.lanes|C.childLanes,S|=C.subtreeFlags&14680064,S|=C.flags&14680064,C.return=a,C=C.sibling;else for(C=a.child;C!==null;)g|=C.lanes|C.childLanes,S|=C.subtreeFlags,S|=C.flags,C.return=a,C=C.sibling;return a.subtreeFlags|=S,a.childLanes=g,u}function v2(a,u,g){var S=u.pendingProps;switch(Xs(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(u),null;case 1:return Br(u.type)&&bu(),ri(u),null;case 3:return S=u.stateNode,Lo(),wn(Wr),wn(wr),xs(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(a===null||a.child===null)&&(vl(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,zi!==null&&(ky(zi),zi=null))),by(a,u),ri(u),null;case 5:Sl(u);var C=Kn(Qs.current);if(g=u.type,a!==null&&u.stateNode!=null)uw(a,u,g,S,C),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!S){if(u.stateNode===null)throw Error(t(166));return ri(u),null}if(a=Kn(gi.current),vl(u)){S=u.stateNode,g=u.type;var B=u.memoizedProps;switch(S[sr]=u,S[yl]=B,a=(u.mode&1)!==0,g){case"dialog":_n("cancel",S),_n("close",S);break;case"iframe":case"object":case"embed":_n("load",S);break;case"video":case"audio":for(C=0;C<Ro.length;C++)_n(Ro[C],S);break;case"source":_n("error",S);break;case"img":case"image":case"link":_n("error",S),_n("load",S);break;case"details":_n("toggle",S);break;case"input":et(S,B),_n("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!B.multiple},_n("invalid",S);break;case"textarea":H(S,B),_n("invalid",S)}re(g,B),C=null;for(var N in B)if(B.hasOwnProperty(N)){var Q=B[N];N==="children"?typeof Q=="string"?S.textContent!==Q&&(B.suppressHydrationWarning!==!0&&Au(S.textContent,Q,a),C=["children",Q]):typeof Q=="number"&&S.textContent!==""+Q&&(B.suppressHydrationWarning!==!0&&Au(S.textContent,Q,a),C=["children",""+Q]):i.hasOwnProperty(N)&&Q!=null&&N==="onScroll"&&_n("scroll",S)}switch(g){case"input":ht(S),gt(S,B,!0);break;case"textarea":ht(S),Le(S);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(S.onclick=Mu)}S=C,u.updateQueue=S,S!==null&&(u.flags|=4)}else{N=C.nodeType===9?C:C.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Fe(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=N.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof S.is=="string"?a=N.createElement(g,{is:S.is}):(a=N.createElement(g),g==="select"&&(N=a,S.multiple?N.multiple=!0:S.size&&(N.size=S.size))):a=N.createElementNS(a,g),a[sr]=u,a[yl]=S,lw(a,u,!1,!1),u.stateNode=a;e:{switch(N=De(g,S),g){case"dialog":_n("cancel",a),_n("close",a),C=S;break;case"iframe":case"object":case"embed":_n("load",a),C=S;break;case"video":case"audio":for(C=0;C<Ro.length;C++)_n(Ro[C],a);C=S;break;case"source":_n("error",a),C=S;break;case"img":case"image":case"link":_n("error",a),_n("load",a),C=S;break;case"details":_n("toggle",a),C=S;break;case"input":et(a,S),C=Ge(a,S),_n("invalid",a);break;case"option":C=S;break;case"select":a._wrapperState={wasMultiple:!!S.multiple},C=$({},S,{value:void 0}),_n("invalid",a);break;case"textarea":H(a,S),C=Y(a,S),_n("invalid",a);break;default:C=S}re(g,C),Q=C;for(B in Q)if(Q.hasOwnProperty(B)){var ie=Q[B];B==="style"?yt(a,ie):B==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&Qe(a,ie)):B==="children"?typeof ie=="string"?(g!=="textarea"||ie!=="")&&Ce(a,ie):typeof ie=="number"&&Ce(a,""+ie):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?ie!=null&&B==="onScroll"&&_n("scroll",a):ie!=null&&T(a,B,ie,N))}switch(g){case"input":ht(a),gt(a,S,!1);break;case"textarea":ht(a),Le(a);break;case"option":S.value!=null&&a.setAttribute("value",""+ke(S.value));break;case"select":a.multiple=!!S.multiple,B=S.value,B!=null?Nt(a,!!S.multiple,B,!1):S.defaultValue!=null&&Nt(a,!!S.multiple,S.defaultValue,!0);break;default:typeof C.onClick=="function"&&(a.onclick=Mu)}switch(g){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ri(u),null;case 6:if(a&&u.stateNode!=null)cw(a,u,a.memoizedProps,S);else{if(typeof S!="string"&&u.stateNode===null)throw Error(t(166));if(g=Kn(Qs.current),Kn(gi.current),vl(u)){if(S=u.stateNode,g=u.memoizedProps,S[sr]=u,(B=S.nodeValue!==g)&&(a=Sr,a!==null))switch(a.tag){case 3:Au(S.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Au(S.nodeValue,g,(a.mode&1)!==0)}B&&(u.flags|=4)}else S=(g.nodeType===9?g:g.ownerDocument).createTextNode(S),S[sr]=u,u.stateNode=S}return ri(u),null;case 13:if(wn(Cn),S=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(En&&Jr!==null&&u.mode&1&&!(u.flags&128))bh(),Bo(),u.flags|=98560,B=!1;else if(B=vl(u),S!==null&&S.dehydrated!==null){if(a===null){if(!B)throw Error(t(318));if(B=u.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(t(317));B[sr]=u}else Bo(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;ri(u),B=!1}else zi!==null&&(ky(zi),zi=null),B=!0;if(!B)return u.flags&65536?u:null}return u.flags&128?(u.lanes=g,u):(S=S!==null,S!==(a!==null&&a.memoizedState!==null)&&S&&(u.child.flags|=8192,u.mode&1&&(a===null||Cn.current&1?Er===0&&(Er=3):zy())),u.updateQueue!==null&&(u.flags|=4),ri(u),null);case 4:return Lo(),by(a,u),a===null&&pl(u.stateNode.containerInfo),ri(u),null;case 10:return Iu(u.type._context),ri(u),null;case 17:return Br(u.type)&&bu(),ri(u),null;case 19:if(wn(Cn),B=u.memoizedState,B===null)return ri(u),null;if(S=(u.flags&128)!==0,N=B.rendering,N===null)if(S)Nh(B,!1);else{if(Er!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(N=es(a),N!==null){for(u.flags|=128,Nh(B,!1),S=N.updateQueue,S!==null&&(u.updateQueue=S,u.flags|=4),u.subtreeFlags=0,S=g,g=u.child;g!==null;)B=g,a=S,B.flags&=14680066,N=B.alternate,N===null?(B.childLanes=0,B.lanes=a,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=N.childLanes,B.lanes=N.lanes,B.child=N.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=N.memoizedProps,B.memoizedState=N.memoizedState,B.updateQueue=N.updateQueue,B.type=N.type,a=N.dependencies,B.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return vn(Cn,Cn.current&1|2),u.child}a=a.sibling}B.tail!==null&&Dt()>Nf&&(u.flags|=128,S=!0,Nh(B,!1),u.lanes=4194304)}else{if(!S)if(a=es(N),a!==null){if(u.flags|=128,S=!0,g=a.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),Nh(B,!0),B.tail===null&&B.tailMode==="hidden"&&!N.alternate&&!En)return ri(u),null}else 2*Dt()-B.renderingStartTime>Nf&&g!==1073741824&&(u.flags|=128,S=!0,Nh(B,!1),u.lanes=4194304);B.isBackwards?(N.sibling=u.child,u.child=N):(g=B.last,g!==null?g.sibling=N:u.child=N,B.last=N)}return B.tail!==null?(u=B.tail,B.rendering=u,B.tail=u.sibling,B.renderingStartTime=Dt(),u.sibling=null,g=Cn.current,vn(Cn,S?g&1|2:g&1),u):(ri(u),null);case 22:case 23:return Ny(),S=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==S&&(u.flags|=8192),S&&u.mode&1?rs&1073741824&&(ri(u),u.subtreeFlags&6&&(u.flags|=8192)):ri(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function x2(a,u){switch(Xs(u),u.tag){case 1:return Br(u.type)&&bu(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Lo(),wn(Wr),wn(wr),xs(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return Sl(u),null;case 13:if(wn(Cn),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Bo()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return wn(Cn),null;case 4:return Lo(),null;case 10:return Iu(u.type._context),null;case 22:case 23:return Ny(),null;case 24:return null;default:return null}}var Vm=!1,ii=!1,_2=typeof WeakSet=="function"?WeakSet:Set,ut=null;function kf(a,u){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){Qn(a,u,S)}else g.current=null}function Ey(a,u,g){try{g()}catch(S){Qn(a,u,S)}}var fw=!1;function w2(a,u){if(gl=Ii,a=kn(),cr(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var S=g.getSelection&&g.getSelection();if(S&&S.rangeCount!==0){g=S.anchorNode;var C=S.anchorOffset,B=S.focusNode;S=S.focusOffset;try{g.nodeType,B.nodeType}catch{g=null;break e}var N=0,Q=-1,ie=-1,Se=0,ze=0,He=a,Ne=null;t:for(;;){for(var it;He!==g||C!==0&&He.nodeType!==3||(Q=N+C),He!==B||S!==0&&He.nodeType!==3||(ie=N+S),He.nodeType===3&&(N+=He.nodeValue.length),(it=He.firstChild)!==null;)Ne=He,He=it;for(;;){if(He===a)break t;if(Ne===g&&++Se===C&&(Q=N),Ne===B&&++ze===S&&(ie=N),(it=He.nextSibling)!==null)break;He=Ne,Ne=He.parentNode}He=it}g=Q===-1||ie===-1?null:{start:Q,end:ie}}else g=null}g=g||{start:0,end:0}}else g=null;for(hh={focusedElem:a,selectionRange:g},Ii=!1,ut=u;ut!==null;)if(u=ut,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,ut=a;else for(;ut!==null;){u=ut;try{var dt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var mt=dt.memoizedProps,or=dt.memoizedState,pe=u.stateNode,se=pe.getSnapshotBeforeUpdate(u.elementType===u.type?mt:Ui(u.type,mt),or);pe.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var ve=u.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Je){Qn(u,u.return,Je)}if(a=u.sibling,a!==null){a.return=u.return,ut=a;break}ut=u.return}return dt=fw,fw=!1,dt}function zh(a,u,g){var S=u.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var C=S=S.next;do{if((C.tag&a)===a){var B=C.destroy;C.destroy=void 0,B!==void 0&&Ey(u,g,B)}C=C.next}while(C!==S)}}function Wm(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&a)===a){var S=g.create;g.destroy=S()}g=g.next}while(g!==u)}}function Cy(a){var u=a.ref;if(u!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof u=="function"?u(a):u.current=a}}function dw(a){var u=a.alternate;u!==null&&(a.alternate=null,dw(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[sr],delete u[yl],delete u[aa],delete u[xf],delete u[_f])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function hw(a){return a.tag===5||a.tag===3||a.tag===4}function pw(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ty(a,u,g){var S=a.tag;if(S===5||S===6)a=a.stateNode,u?g.nodeType===8?g.parentNode.insertBefore(a,u):g.insertBefore(a,u):(g.nodeType===8?(u=g.parentNode,u.insertBefore(a,g)):(u=g,u.appendChild(a)),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=Mu));else if(S!==4&&(a=a.child,a!==null))for(Ty(a,u,g),a=a.sibling;a!==null;)Ty(a,u,g),a=a.sibling}function Ry(a,u,g){var S=a.tag;if(S===5||S===6)a=a.stateNode,u?g.insertBefore(a,u):g.appendChild(a);else if(S!==4&&(a=a.child,a!==null))for(Ry(a,u,g),a=a.sibling;a!==null;)Ry(a,u,g),a=a.sibling}var Xr=null,no=!1;function bl(a,u,g){for(g=g.child;g!==null;)mw(a,u,g),g=g.sibling}function mw(a,u,g){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Ur,g)}catch{}switch(g.tag){case 5:ii||kf(g,u);case 6:var S=Xr,C=no;Xr=null,bl(a,u,g),Xr=S,no=C,Xr!==null&&(no?(a=Xr,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):Xr.removeChild(g.stateNode));break;case 18:Xr!==null&&(no?(a=Xr,g=g.stateNode,a.nodeType===8?vf(a.parentNode,g):a.nodeType===1&&vf(a,g),du(a)):vf(Xr,g.stateNode));break;case 4:S=Xr,C=no,Xr=g.stateNode.containerInfo,no=!0,bl(a,u,g),Xr=S,no=C;break;case 0:case 11:case 14:case 15:if(!ii&&(S=g.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){C=S=S.next;do{var B=C,N=B.destroy;B=B.tag,N!==void 0&&(B&2||B&4)&&Ey(g,u,N),C=C.next}while(C!==S)}bl(a,u,g);break;case 1:if(!ii&&(kf(g,u),S=g.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=g.memoizedProps,S.state=g.memoizedState,S.componentWillUnmount()}catch(Q){Qn(g,u,Q)}bl(a,u,g);break;case 21:bl(a,u,g);break;case 22:g.mode&1?(ii=(S=ii)||g.memoizedState!==null,bl(a,u,g),ii=S):bl(a,u,g);break;default:bl(a,u,g)}}function gw(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new _2),u.forEach(function(S){var C=P2.bind(null,a,S);g.has(S)||(g.add(S),S.then(C,C))})}}function ro(a,u){var g=u.deletions;if(g!==null)for(var S=0;S<g.length;S++){var C=g[S];try{var B=a,N=u,Q=N;e:for(;Q!==null;){switch(Q.tag){case 5:Xr=Q.stateNode,no=!1;break e;case 3:Xr=Q.stateNode.containerInfo,no=!0;break e;case 4:Xr=Q.stateNode.containerInfo,no=!0;break e}Q=Q.return}if(Xr===null)throw Error(t(160));mw(B,N,C),Xr=null,no=!1;var ie=C.alternate;ie!==null&&(ie.return=null),C.return=null}catch(Se){Qn(C,u,Se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)yw(u,a),u=u.sibling}function yw(a,u){var g=a.alternate,S=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ro(u,a),Oo(a),S&4){try{zh(3,a,a.return),Wm(3,a)}catch(mt){Qn(a,a.return,mt)}try{zh(5,a,a.return)}catch(mt){Qn(a,a.return,mt)}}break;case 1:ro(u,a),Oo(a),S&512&&g!==null&&kf(g,g.return);break;case 5:if(ro(u,a),Oo(a),S&512&&g!==null&&kf(g,g.return),a.flags&32){var C=a.stateNode;try{Ce(C,"")}catch(mt){Qn(a,a.return,mt)}}if(S&4&&(C=a.stateNode,C!=null)){var B=a.memoizedProps,N=g!==null?g.memoizedProps:B,Q=a.type,ie=a.updateQueue;if(a.updateQueue=null,ie!==null)try{Q==="input"&&B.type==="radio"&&B.name!=null&&$e(C,B),De(Q,N);var Se=De(Q,B);for(N=0;N<ie.length;N+=2){var ze=ie[N],He=ie[N+1];ze==="style"?yt(C,He):ze==="dangerouslySetInnerHTML"?Qe(C,He):ze==="children"?Ce(C,He):T(C,ze,He,Se)}switch(Q){case"input":At(C,B);break;case"textarea":ae(C,B);break;case"select":var Ne=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!B.multiple;var it=B.value;it!=null?Nt(C,!!B.multiple,it,!1):Ne!==!!B.multiple&&(B.defaultValue!=null?Nt(C,!!B.multiple,B.defaultValue,!0):Nt(C,!!B.multiple,B.multiple?[]:"",!1))}C[yl]=B}catch(mt){Qn(a,a.return,mt)}}break;case 6:if(ro(u,a),Oo(a),S&4){if(a.stateNode===null)throw Error(t(162));C=a.stateNode,B=a.memoizedProps;try{C.nodeValue=B}catch(mt){Qn(a,a.return,mt)}}break;case 3:if(ro(u,a),Oo(a),S&4&&g!==null&&g.memoizedState.isDehydrated)try{du(u.containerInfo)}catch(mt){Qn(a,a.return,mt)}break;case 4:ro(u,a),Oo(a);break;case 13:ro(u,a),Oo(a),C=a.child,C.flags&8192&&(B=C.memoizedState!==null,C.stateNode.isHidden=B,!B||C.alternate!==null&&C.alternate.memoizedState!==null||(Iy=Dt())),S&4&&gw(a);break;case 22:if(ze=g!==null&&g.memoizedState!==null,a.mode&1?(ii=(Se=ii)||ze,ro(u,a),ii=Se):ro(u,a),Oo(a),S&8192){if(Se=a.memoizedState!==null,(a.stateNode.isHidden=Se)&&!ze&&a.mode&1)for(ut=a,ze=a.child;ze!==null;){for(He=ut=ze;ut!==null;){switch(Ne=ut,it=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:zh(4,Ne,Ne.return);break;case 1:kf(Ne,Ne.return);var dt=Ne.stateNode;if(typeof dt.componentWillUnmount=="function"){S=Ne,g=Ne.return;try{u=S,dt.props=u.memoizedProps,dt.state=u.memoizedState,dt.componentWillUnmount()}catch(mt){Qn(S,g,mt)}}break;case 5:kf(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){_w(He);continue}}it!==null?(it.return=Ne,ut=it):_w(He)}ze=ze.sibling}e:for(ze=null,He=a;;){if(He.tag===5){if(ze===null){ze=He;try{C=He.stateNode,Se?(B=C.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(Q=He.stateNode,ie=He.memoizedProps.style,N=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,Q.style.display=st("display",N))}catch(mt){Qn(a,a.return,mt)}}}else if(He.tag===6){if(ze===null)try{He.stateNode.nodeValue=Se?"":He.memoizedProps}catch(mt){Qn(a,a.return,mt)}}else if((He.tag!==22&&He.tag!==23||He.memoizedState===null||He===a)&&He.child!==null){He.child.return=He,He=He.child;continue}if(He===a)break e;for(;He.sibling===null;){if(He.return===null||He.return===a)break e;ze===He&&(ze=null),He=He.return}ze===He&&(ze=null),He.sibling.return=He.return,He=He.sibling}}break;case 19:ro(u,a),Oo(a),S&4&&gw(a);break;case 21:break;default:ro(u,a),Oo(a)}}function Oo(a){var u=a.flags;if(u&2){try{e:{for(var g=a.return;g!==null;){if(hw(g)){var S=g;break e}g=g.return}throw Error(t(160))}switch(S.tag){case 5:var C=S.stateNode;S.flags&32&&(Ce(C,""),S.flags&=-33);var B=pw(a);Ry(a,B,C);break;case 3:case 4:var N=S.stateNode.containerInfo,Q=pw(a);Ty(a,Q,N);break;default:throw Error(t(161))}}catch(ie){Qn(a,a.return,ie)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function S2(a,u,g){ut=a,vw(a)}function vw(a,u,g){for(var S=(a.mode&1)!==0;ut!==null;){var C=ut,B=C.child;if(C.tag===22&&S){var N=C.memoizedState!==null||Vm;if(!N){var Q=C.alternate,ie=Q!==null&&Q.memoizedState!==null||ii;Q=Vm;var Se=ii;if(Vm=N,(ii=ie)&&!Se)for(ut=C;ut!==null;)N=ut,ie=N.child,N.tag===22&&N.memoizedState!==null?ww(C):ie!==null?(ie.return=N,ut=ie):ww(C);for(;B!==null;)ut=B,vw(B),B=B.sibling;ut=C,Vm=Q,ii=Se}xw(a)}else C.subtreeFlags&8772&&B!==null?(B.return=C,ut=B):xw(a)}}function xw(a){for(;ut!==null;){var u=ut;if(u.flags&8772){var g=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ii||Wm(5,u);break;case 1:var S=u.stateNode;if(u.flags&4&&!ii)if(g===null)S.componentDidMount();else{var C=u.elementType===u.type?g.memoizedProps:Ui(u.type,g.memoizedProps);S.componentDidUpdate(C,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var B=u.updateQueue;B!==null&&wl(u,B,S);break;case 3:var N=u.updateQueue;if(N!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}wl(u,N,g)}break;case 5:var Q=u.stateNode;if(g===null&&u.flags&4){g=Q;var ie=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&g.focus();break;case"img":ie.src&&(g.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Se=u.alternate;if(Se!==null){var ze=Se.memoizedState;if(ze!==null){var He=ze.dehydrated;He!==null&&du(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ii||u.flags&512&&Cy(u)}catch(Ne){Qn(u,u.return,Ne)}}if(u===a){ut=null;break}if(g=u.sibling,g!==null){g.return=u.return,ut=g;break}ut=u.return}}function _w(a){for(;ut!==null;){var u=ut;if(u===a){ut=null;break}var g=u.sibling;if(g!==null){g.return=u.return,ut=g;break}ut=u.return}}function ww(a){for(;ut!==null;){var u=ut;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{Wm(4,u)}catch(ie){Qn(u,g,ie)}break;case 1:var S=u.stateNode;if(typeof S.componentDidMount=="function"){var C=u.return;try{S.componentDidMount()}catch(ie){Qn(u,C,ie)}}var B=u.return;try{Cy(u)}catch(ie){Qn(u,B,ie)}break;case 5:var N=u.return;try{Cy(u)}catch(ie){Qn(u,N,ie)}}}catch(ie){Qn(u,u.return,ie)}if(u===a){ut=null;break}var Q=u.sibling;if(Q!==null){Q.return=u.return,ut=Q;break}ut=u.return}}var A2=Math.ceil,jm=R.ReactCurrentDispatcher,Py=R.ReactCurrentOwner,ws=R.ReactCurrentBatchConfig,fn=0,Dr=null,mr=null,Kr=0,rs=0,Ff=Nn(0),Er=0,Uh=null,Vu=0,Jm=0,By=0,Hh=null,Hi=null,Iy=0,Nf=1/0,Aa=null,$m=!1,Ly=null,El=null,Xm=!1,Cl=null,Km=0,Gh=0,Dy=null,Ym=-1,Qm=0;function _i(){return fn&6?Dt():Ym!==-1?Ym:Ym=Dt()}function Tl(a){return a.mode&1?fn&2&&Kr!==0?Kr&-Kr:Sy.transition!==null?(Qm===0&&(Qm=Bi()),Qm):(a=ln,a!==0||(a=window.event,a=a===void 0?16:gm(a.type)),a):1}function io(a,u,g,S){if(50<Gh)throw Gh=0,Dy=null,Error(t(185));lu(a,g,S),(!(fn&2)||a!==Dr)&&(a===Dr&&(!(fn&2)&&(Jm|=g),Er===4&&Rl(a,Kr)),Gi(a,S),g===1&&fn===0&&!(u.mode&1)&&(Nf=Dt()+500,Cu&&ys()))}function Gi(a,u){var g=a.callbackNode;Uc(a,u);var S=au(a,a===Dr?Kr:0);if(S===0)g!==null&&Pr(g),a.callbackNode=null,a.callbackPriority=0;else if(u=S&-S,a.callbackPriority!==u){if(g!=null&&Pr(g),u===1)a.tag===0?Pm(Aw.bind(null,a)):Tu(Aw.bind(null,a)),wy(function(){!(fn&6)&&ys()}),g=null;else{switch(tl(S)){case 1:g=Ds;break;case 4:g=Dn;break;case 16:g=Ri;break;case 536870912:g=ci;break;default:g=Ri}g=Bw(g,Sw.bind(null,a))}a.callbackPriority=u,a.callbackNode=g}}function Sw(a,u){if(Ym=-1,Qm=0,fn&6)throw Error(t(327));var g=a.callbackNode;if(zf()&&a.callbackNode!==g)return null;var S=au(a,a===Dr?Kr:0);if(S===0)return null;if(S&30||S&a.expiredLanes||u)u=qm(a,S);else{u=S;var C=fn;fn|=2;var B=bw();(Dr!==a||Kr!==u)&&(Aa=null,Nf=Dt()+500,ju(a,u));do try{E2();break}catch(Q){Mw(a,Q)}while(!0);ma(),jm.current=B,fn=C,mr!==null?u=0:(Dr=null,Kr=0,u=Er)}if(u!==0){if(u===2&&(C=Hc(a),C!==0&&(S=C,u=Oy(a,C))),u===1)throw g=Uh,ju(a,0),Rl(a,S),Gi(a,Dt()),g;if(u===6)Rl(a,S);else{if(C=a.current.alternate,!(S&30)&&!M2(C)&&(u=qm(a,S),u===2&&(B=Hc(a),B!==0&&(S=B,u=Oy(a,B))),u===1))throw g=Uh,ju(a,0),Rl(a,S),Gi(a,Dt()),g;switch(a.finishedWork=C,a.finishedLanes=S,u){case 0:case 1:throw Error(t(345));case 2:Ju(a,Hi,Aa);break;case 3:if(Rl(a,S),(S&130023424)===S&&(u=Iy+500-Dt(),10<u)){if(au(a,0)!==0)break;if(C=a.suspendedLanes,(C&S)!==S){_i(),a.pingedLanes|=a.suspendedLanes&C;break}a.timeoutHandle=mh(Ju.bind(null,a,Hi,Aa),u);break}Ju(a,Hi,Aa);break;case 4:if(Rl(a,S),(S&4194240)===S)break;for(u=a.eventTimes,C=-1;0<S;){var N=31-Fn(S);B=1<<N,N=u[N],N>C&&(C=N),S&=~B}if(S=C,S=Dt()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*A2(S/1960))-S,10<S){a.timeoutHandle=mh(Ju.bind(null,a,Hi,Aa),S);break}Ju(a,Hi,Aa);break;case 5:Ju(a,Hi,Aa);break;default:throw Error(t(329))}}}return Gi(a,Dt()),a.callbackNode===g?Sw.bind(null,a):null}function Oy(a,u){var g=Hh;return a.current.memoizedState.isDehydrated&&(ju(a,u).flags|=256),a=qm(a,u),a!==2&&(u=Hi,Hi=g,u!==null&&ky(u)),a}function ky(a){Hi===null?Hi=a:Hi.push.apply(Hi,a)}function M2(a){for(var u=a;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var C=g[S],B=C.getSnapshot;C=C.value;try{if(!di(B(),C))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Rl(a,u){for(u&=~By,u&=~Jm,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var g=31-Fn(u),S=1<<g;a[g]=-1,u&=~S}}function Aw(a){if(fn&6)throw Error(t(327));zf();var u=au(a,0);if(!(u&1))return Gi(a,Dt()),null;var g=qm(a,u);if(a.tag!==0&&g===2){var S=Hc(a);S!==0&&(u=S,g=Oy(a,S))}if(g===1)throw g=Uh,ju(a,0),Rl(a,u),Gi(a,Dt()),g;if(g===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ju(a,Hi,Aa),Gi(a,Dt()),null}function Fy(a,u){var g=fn;fn|=1;try{return a(u)}finally{fn=g,fn===0&&(Nf=Dt()+500,Cu&&ys())}}function Wu(a){Cl!==null&&Cl.tag===0&&!(fn&6)&&zf();var u=fn;fn|=1;var g=ws.transition,S=ln;try{if(ws.transition=null,ln=1,a)return a()}finally{ln=S,ws.transition=g,fn=u,!(fn&6)&&ys()}}function Ny(){rs=Ff.current,wn(Ff)}function ju(a,u){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,gh(g)),mr!==null)for(g=mr.return;g!==null;){var S=g;switch(Xs(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&bu();break;case 3:Lo(),wn(Wr),wn(wr),xs();break;case 5:Sl(S);break;case 4:Lo();break;case 13:wn(Cn);break;case 19:wn(Cn);break;case 10:Iu(S.type._context);break;case 22:case 23:Ny()}g=g.return}if(Dr=a,mr=a=Pl(a.current,null),Kr=rs=u,Er=0,Uh=null,By=Jm=Vu=0,Hi=Hh=null,Ys!==null){for(u=0;u<Ys.length;u++)if(g=Ys[u],S=g.interleaved,S!==null){g.interleaved=null;var C=S.next,B=g.pending;if(B!==null){var N=B.next;B.next=C,S.next=N}g.pending=S}Ys=null}return a}function Mw(a,u){do{var g=mr;try{if(ma(),xa.current=Df,ts){for(var S=Sn.memoizedState;S!==null;){var C=S.queue;C!==null&&(C.pending=null),S=S.next}ts=!1}if(qs=0,un=Un=Sn=null,Lr=!1,Do=0,Py.current=null,g===null||g.return===null){Er=1,Uh=u,mr=null;break}e:{var B=a,N=g.return,Q=g,ie=u;if(u=Kr,Q.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Se=ie,ze=Q,He=ze.tag;if(!(ze.mode&1)&&(He===0||He===11||He===15)){var Ne=ze.alternate;Ne?(ze.updateQueue=Ne.updateQueue,ze.memoizedState=Ne.memoizedState,ze.lanes=Ne.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var it=ot(N);if(it!==null){it.flags&=-257,Ot(it,N,Q,B,u),it.mode&1&&je(B,Se,u),u=it,ie=Se;var dt=u.updateQueue;if(dt===null){var mt=new Set;mt.add(ie),u.updateQueue=mt}else dt.add(ie);break e}else{if(!(u&1)){je(B,Se,u),zy();break e}ie=Error(t(426))}}else if(En&&Q.mode&1){var or=ot(N);if(or!==null){!(or.flags&65536)&&(or.flags|=256),Ot(or,N,Q,B,u),xl(M(ie,Q));break e}}B=ie=M(ie,Q),Er!==4&&(Er=2),Hh===null?Hh=[B]:Hh.push(B),B=N;do{switch(B.tag){case 3:B.flags|=65536,u&=-u,B.lanes|=u;var pe=oe(B,ie,u);ga(B,pe);break e;case 1:Q=ie;var se=B.type,ve=B.stateNode;if(!(B.flags&128)&&(typeof se.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(El===null||!El.has(ve)))){B.flags|=65536,u&=-u,B.lanes|=u;var Je=Ee(B,Q,u);ga(B,Je);break e}}B=B.return}while(B!==null)}Cw(g)}catch(wt){u=wt,mr===g&&g!==null&&(mr=g=g.return);continue}break}while(!0)}function bw(){var a=jm.current;return jm.current=Df,a===null?Df:a}function zy(){(Er===0||Er===3||Er===2)&&(Er=4),Dr===null||!(Vu&268435455)&&!(Jm&268435455)||Rl(Dr,Kr)}function qm(a,u){var g=fn;fn|=2;var S=bw();(Dr!==a||Kr!==u)&&(Aa=null,ju(a,u));do try{b2();break}catch(C){Mw(a,C)}while(!0);if(ma(),fn=g,jm.current=S,mr!==null)throw Error(t(261));return Dr=null,Kr=0,Er}function b2(){for(;mr!==null;)Ew(mr)}function E2(){for(;mr!==null&&!$i();)Ew(mr)}function Ew(a){var u=Pw(a.alternate,a,rs);a.memoizedProps=a.pendingProps,u===null?Cw(a):mr=u,Py.current=null}function Cw(a){var u=a;do{var g=u.alternate;if(a=u.return,u.flags&32768){if(g=x2(g,u),g!==null){g.flags&=32767,mr=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Er=6,mr=null;return}}else if(g=v2(g,u,rs),g!==null){mr=g;return}if(u=u.sibling,u!==null){mr=u;return}mr=u=a}while(u!==null);Er===0&&(Er=5)}function Ju(a,u,g){var S=ln,C=ws.transition;try{ws.transition=null,ln=1,C2(a,u,g,S)}finally{ws.transition=C,ln=S}return null}function C2(a,u,g,S){do zf();while(Cl!==null);if(fn&6)throw Error(t(327));g=a.finishedWork;var C=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var B=g.lanes|g.childLanes;if(yy(a,B),a===Dr&&(mr=Dr=null,Kr=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||Xm||(Xm=!0,Bw(Ri,function(){return zf(),null})),B=(g.flags&15990)!==0,g.subtreeFlags&15990||B){B=ws.transition,ws.transition=null;var N=ln;ln=1;var Q=fn;fn|=4,Py.current=null,w2(a,g),yw(g,a),fr(hh),Ii=!!gl,hh=gl=null,a.current=g,S2(g),Ls(),fn=Q,ln=N,ws.transition=B}else a.current=g;if(Xm&&(Xm=!1,Cl=a,Km=C),B=a.pendingLanes,B===0&&(El=null),nn(g.stateNode),Gi(a,Dt()),u!==null)for(S=a.onRecoverableError,g=0;g<u.length;g++)C=u[g],S(C.value,{componentStack:C.stack,digest:C.digest});if($m)throw $m=!1,a=Ly,Ly=null,a;return Km&1&&a.tag!==0&&zf(),B=a.pendingLanes,B&1?a===Dy?Gh++:(Gh=0,Dy=a):Gh=0,ys(),null}function zf(){if(Cl!==null){var a=tl(Km),u=ws.transition,g=ln;try{if(ws.transition=null,ln=16>a?16:a,Cl===null)var S=!1;else{if(a=Cl,Cl=null,Km=0,fn&6)throw Error(t(331));var C=fn;for(fn|=4,ut=a.current;ut!==null;){var B=ut,N=B.child;if(ut.flags&16){var Q=B.deletions;if(Q!==null){for(var ie=0;ie<Q.length;ie++){var Se=Q[ie];for(ut=Se;ut!==null;){var ze=ut;switch(ze.tag){case 0:case 11:case 15:zh(8,ze,B)}var He=ze.child;if(He!==null)He.return=ze,ut=He;else for(;ut!==null;){ze=ut;var Ne=ze.sibling,it=ze.return;if(dw(ze),ze===Se){ut=null;break}if(Ne!==null){Ne.return=it,ut=Ne;break}ut=it}}}var dt=B.alternate;if(dt!==null){var mt=dt.child;if(mt!==null){dt.child=null;do{var or=mt.sibling;mt.sibling=null,mt=or}while(mt!==null)}}ut=B}}if(B.subtreeFlags&2064&&N!==null)N.return=B,ut=N;else e:for(;ut!==null;){if(B=ut,B.flags&2048)switch(B.tag){case 0:case 11:case 15:zh(9,B,B.return)}var pe=B.sibling;if(pe!==null){pe.return=B.return,ut=pe;break e}ut=B.return}}var se=a.current;for(ut=se;ut!==null;){N=ut;var ve=N.child;if(N.subtreeFlags&2064&&ve!==null)ve.return=N,ut=ve;else e:for(N=se;ut!==null;){if(Q=ut,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Wm(9,Q)}}catch(wt){Qn(Q,Q.return,wt)}if(Q===N){ut=null;break e}var Je=Q.sibling;if(Je!==null){Je.return=Q.return,ut=Je;break e}ut=Q.return}}if(fn=C,ys(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Ur,a)}catch{}S=!0}return S}finally{ln=g,ws.transition=u}}return!1}function Tw(a,u,g){u=M(g,u),u=oe(a,u,1),a=Pn(a,u,1),u=_i(),a!==null&&(lu(a,1,u),Gi(a,u))}function Qn(a,u,g){if(a.tag===3)Tw(a,a,g);else for(;u!==null;){if(u.tag===3){Tw(u,a,g);break}else if(u.tag===1){var S=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(El===null||!El.has(S))){a=M(g,a),a=Ee(u,a,1),u=Pn(u,a,1),a=_i(),u!==null&&(lu(u,1,a),Gi(u,a));break}}u=u.return}}function T2(a,u,g){var S=a.pingCache;S!==null&&S.delete(u),u=_i(),a.pingedLanes|=a.suspendedLanes&g,Dr===a&&(Kr&g)===g&&(Er===4||Er===3&&(Kr&130023424)===Kr&&500>Dt()-Iy?ju(a,0):By|=g),Gi(a,u)}function Rw(a,u){u===0&&(a.mode&1?(u=xr,xr<<=1,!(xr&130023424)&&(xr=4194304)):u=1);var g=_i();a=Zi(a,u),a!==null&&(lu(a,u,g),Gi(a,g))}function R2(a){var u=a.memoizedState,g=0;u!==null&&(g=u.retryLane),Rw(a,g)}function P2(a,u){var g=0;switch(a.tag){case 13:var S=a.stateNode,C=a.memoizedState;C!==null&&(g=C.retryLane);break;case 19:S=a.stateNode;break;default:throw Error(t(314))}S!==null&&S.delete(u),Rw(a,g)}var Pw;Pw=function(a,u,g){if(a!==null)if(a.memoizedProps!==u.pendingProps||Wr.current)jt=!0;else{if(!(a.lanes&g)&&!(u.flags&128))return jt=!1,y2(a,u,g);jt=!!(a.flags&131072)}else jt=!1,En&&u.flags&1048576&&wh(u,Mf,u.index);switch(u.lanes=0,u.tag){case 2:var S=u.type;Gm(a,u),a=u.pendingProps;var C=la(u,wr.current);Io(u,g),C=Fu(null,u,S,a,C,g);var B=Rh();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Br(S)?(B=!0,ua(u)):B=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Ut(u),C.updater=Of,u.stateNode=C,C._reactInternals=u,x(u,S,a,g),u=Ft(null,u,S,!0,B,g)):(u.tag=0,En&&B&&Sh(u),rt(null,u,C,g),u=u.child),u;case 16:S=u.elementType;e:{switch(Gm(a,u),a=u.pendingProps,C=S._init,S=C(S._payload),u.type=S,C=u.tag=I2(S),a=Ui(S,a),C){case 0:u=Ze(null,u,S,a,g);break e;case 1:u=xt(null,u,S,a,g);break e;case 11:u=br(null,u,S,a,g);break e;case 14:u=xi(null,u,S,Ui(S.type,a),g);break e}throw Error(t(306,S,""))}return u;case 0:return S=u.type,C=u.pendingProps,C=u.elementType===S?C:Ui(S,C),Ze(a,u,S,C,g);case 1:return S=u.type,C=u.pendingProps,C=u.elementType===S?C:Ui(S,C),xt(a,u,S,C,g);case 3:e:{if(kt(u),a===null)throw Error(t(387));S=u.pendingProps,B=u.memoizedState,C=B.element,Vn(a,u),zn(u,S,null,g);var N=u.memoizedState;if(S=N.element,B.isDehydrated)if(B={element:S,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},u.updateQueue.baseState=B,u.memoizedState=B,u.flags&256){C=M(Error(t(423)),u),u=sn(a,u,S,g,C);break e}else if(S!==C){C=M(Error(t(424)),u),u=sn(a,u,S,g,C);break e}else for(Jr=Vs(u.stateNode.containerInfo.firstChild),Sr=u,En=!0,zi=null,g=Bu(u,null,S,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Bo(),S===C){u=Sa(a,u,g);break e}rt(a,u,S,g)}u=u.child}return u;case 5:return va(u),a===null&&Ef(u),S=u.type,C=u.pendingProps,B=a!==null?a.memoizedProps:null,N=C.children,ph(S,C)?N=null:B!==null&&ph(S,B)&&(u.flags|=32),be(a,u),rt(a,u,N,g),u.child;case 6:return a===null&&Ef(u),null;case 13:return to(a,u,g);case 4:return Ou(u,u.stateNode.containerInfo),S=u.pendingProps,a===null?u.child=da(u,null,S,g):rt(a,u,S,g),u.child;case 11:return S=u.type,C=u.pendingProps,C=u.elementType===S?C:Ui(S,C),br(a,u,S,C,g);case 7:return rt(a,u,u.pendingProps,g),u.child;case 8:return rt(a,u,u.pendingProps.children,g),u.child;case 12:return rt(a,u,u.pendingProps.children,g),u.child;case 10:e:{if(S=u.type._context,C=u.pendingProps,B=u.memoizedProps,N=C.value,vn(ha,S._currentValue),S._currentValue=N,B!==null)if(di(B.value,N)){if(B.children===C.children&&!Wr.current){u=Sa(a,u,g);break e}}else for(B=u.child,B!==null&&(B.return=u);B!==null;){var Q=B.dependencies;if(Q!==null){N=B.child;for(var ie=Q.firstContext;ie!==null;){if(ie.context===S){if(B.tag===1){ie=yn(-1,g&-g),ie.tag=2;var Se=B.updateQueue;if(Se!==null){Se=Se.shared;var ze=Se.pending;ze===null?ie.next=ie:(ie.next=ze.next,ze.next=ie),Se.pending=ie}}B.lanes|=g,ie=B.alternate,ie!==null&&(ie.lanes|=g),Lu(B.return,g,u),Q.lanes|=g;break}ie=ie.next}}else if(B.tag===10)N=B.type===u.type?null:B.child;else if(B.tag===18){if(N=B.return,N===null)throw Error(t(341));N.lanes|=g,Q=N.alternate,Q!==null&&(Q.lanes|=g),Lu(N,g,u),N=B.sibling}else N=B.child;if(N!==null)N.return=B;else for(N=B;N!==null;){if(N===u){N=null;break}if(B=N.sibling,B!==null){B.return=N.return,N=B;break}N=N.return}B=N}rt(a,u,C.children,g),u=u.child}return u;case 9:return C=u.type,S=u.pendingProps.children,Io(u,g),C=mi(C),S=S(C),u.flags|=1,rt(a,u,S,g),u.child;case 14:return S=u.type,C=Ui(S,u.pendingProps),C=Ui(S.type,C),xi(a,u,S,C,g);case 15:return xe(a,u,u.type,u.pendingProps,g);case 17:return S=u.type,C=u.pendingProps,C=u.elementType===S?C:Ui(S,C),Gm(a,u),u.tag=1,Br(S)?(a=!0,ua(u)):a=!1,Io(u,g),f(u,S,C),x(u,S,C,g),Ft(null,u,S,!0,a,g);case 19:return aw(a,u,g);case 22:return ue(a,u,g)}throw Error(t(156,u.tag))};function Bw(a,u){return Ln(a,u)}function B2(a,u,g,S){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(a,u,g,S){return new B2(a,u,g,S)}function Uy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function I2(a){if(typeof a=="function")return Uy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===ce)return 11;if(a===le)return 14}return 2}function Pl(a,u){var g=a.alternate;return g===null?(g=Ss(a.tag,u,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=u,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,u=a.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function Zm(a,u,g,S,C,B){var N=2;if(S=a,typeof a=="function")Uy(a)&&(N=1);else if(typeof a=="string")N=5;else e:switch(a){case F:return $u(g.children,C,B,u);case I:N=8,C|=8;break;case G:return a=Ss(12,g,u,C|2),a.elementType=G,a.lanes=B,a;case ee:return a=Ss(13,g,u,C),a.elementType=ee,a.lanes=B,a;case Z:return a=Ss(19,g,u,C),a.elementType=Z,a.lanes=B,a;case de:return eg(g,C,B,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:N=10;break e;case q:N=9;break e;case ce:N=11;break e;case le:N=14;break e;case he:N=16,S=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return u=Ss(N,g,u,C),u.elementType=a,u.type=S,u.lanes=B,u}function $u(a,u,g,S){return a=Ss(7,a,S,u),a.lanes=g,a}function eg(a,u,g,S){return a=Ss(22,a,S,u),a.elementType=de,a.lanes=g,a.stateNode={isHidden:!1},a}function Hy(a,u,g){return a=Ss(6,a,null,u),a.lanes=g,a}function Gy(a,u,g){return u=Ss(4,a.children!==null?a.children:[],a.key,u),u.lanes=g,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function L2(a,u,g,S,C){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=S,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Vy(a,u,g,S,C,B,N,Q,ie){return a=new L2(a,u,g,Q,ie),u===1?(u=1,B===!0&&(u|=8)):u=0,B=Ss(3,null,null,u),a.current=B,B.stateNode=a,B.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ut(B),a}function D2(a,u,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:S==null?null:""+S,children:a,containerInfo:u,implementation:g}}function Iw(a){if(!a)return js;a=a._reactInternals;e:{if(Et(a)!==a||a.tag!==1)throw Error(t(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Br(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(a.tag===1){var g=a.type;if(Br(g))return Eu(a,g,u)}return u}function Lw(a,u,g,S,C,B,N,Q,ie){return a=Vy(g,S,!0,a,C,B,N,Q,ie),a.context=Iw(null),g=a.current,S=_i(),C=Tl(g),B=yn(S,C),B.callback=u??null,Pn(g,B,C),a.current.lanes=C,lu(a,C,S),Gi(a,S),a}function tg(a,u,g,S){var C=u.current,B=_i(),N=Tl(C);return g=Iw(g),u.context===null?u.context=g:u.pendingContext=g,u=yn(B,N),u.payload={element:a},S=S===void 0?null:S,S!==null&&(u.callback=S),a=Pn(C,u,N),a!==null&&(io(a,C,N,B),Ir(a,C,N)),N}function ng(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Dw(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<u?g:u}}function Wy(a,u){Dw(a,u),(a=a.alternate)&&Dw(a,u)}var Ow=typeof reportError=="function"?reportError:function(a){console.error(a)};function jy(a){this._internalRoot=a}rg.prototype.render=jy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(t(409));tg(a,u,null,null)},rg.prototype.unmount=jy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Wu(function(){tg(null,a,null,null)}),u[pi]=null}};function rg(a){this._internalRoot=a}rg.prototype.unstable_scheduleHydration=function(a){if(a){var u=Gc();a={blockedOn:null,target:a,priority:u};for(var g=0;g<Ao.length&&u!==0&&u<Ao[g].priority;g++);Ao.splice(g,0,a),g===0&&jc(a)}};function Jy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ig(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function kw(){}function O2(a,u,g,S,C){if(C){if(typeof S=="function"){var B=S;S=function(){var Se=ng(N);B.call(Se)}}var N=Lw(u,S,a,0,null,!1,!1,"",kw);return a._reactRootContainer=N,a[pi]=N.current,pl(a.nodeType===8?a.parentNode:a),Wu(),N}for(;C=a.lastChild;)a.removeChild(C);if(typeof S=="function"){var Q=S;S=function(){var Se=ng(ie);Q.call(Se)}}var ie=Vy(a,0,!1,null,null,!1,!1,"",kw);return a._reactRootContainer=ie,a[pi]=ie.current,pl(a.nodeType===8?a.parentNode:a),Wu(function(){tg(u,ie,g,S)}),ie}function sg(a,u,g,S,C){var B=g._reactRootContainer;if(B){var N=B;if(typeof C=="function"){var Q=C;C=function(){var ie=ng(N);Q.call(ie)}}tg(u,N,a,C)}else N=O2(g,u,a,C,S);return ng(N)}uu=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var g=So(u.pendingLanes);g!==0&&(el(u,g|1),Gi(u,Dt()),!(fn&6)&&(Nf=Dt()+500,ys()))}break;case 13:Wu(function(){var S=Zi(a,1);if(S!==null){var C=_i();io(S,a,1,C)}}),Wy(a,1)}},Yd=function(a){if(a.tag===13){var u=Zi(a,134217728);if(u!==null){var g=_i();io(u,a,134217728,g)}Wy(a,134217728)}},mm=function(a){if(a.tag===13){var u=Tl(a),g=Zi(a,u);if(g!==null){var S=_i();io(g,a,u,S)}Wy(a,u)}},Gc=function(){return ln},Vc=function(a,u){var g=ln;try{return ln=a,u()}finally{ln=g}},we=function(a,u,g){switch(u){case"input":if(At(a,g),u=g.name,g.type==="radio"&&u!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<g.length;u++){var S=g[u];if(S!==a&&S.form===a.form){var C=wf(S);if(!C)throw Error(t(90));Te(S),At(S,C)}}}break;case"textarea":ae(a,g);break;case"select":u=g.value,u!=null&&Nt(a,!!g.multiple,u,!1)}},mn=Fy,vr=Wu;var k2={usingClientEntryPoint:!1,Events:[Ws,Gn,wf,Kt,an,Fy]},Vh={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F2={bundleType:Vh.bundleType,version:Vh.version,rendererPackageName:Vh.rendererPackageName,rendererConfig:Vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Yt(a),a===null?null:a.stateNode},findFiberByHostInstance:Vh.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{Ur=og.inject(F2),Ct=og}catch{}}return Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k2,Vi.createPortal=function(a,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jy(u))throw Error(t(200));return D2(a,u,null,g)},Vi.createRoot=function(a,u){if(!Jy(a))throw Error(t(299));var g=!1,S="",C=Ow;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=Vy(a,1,!1,null,null,g,!1,S,C),a[pi]=u.current,pl(a.nodeType===8?a.parentNode:a),new jy(u)},Vi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Yt(u),a=a===null?null:a.stateNode,a},Vi.flushSync=function(a){return Wu(a)},Vi.hydrate=function(a,u,g){if(!ig(u))throw Error(t(200));return sg(null,a,u,!0,g)},Vi.hydrateRoot=function(a,u,g){if(!Jy(a))throw Error(t(405));var S=g!=null&&g.hydratedSources||null,C=!1,B="",N=Ow;if(g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(B=g.identifierPrefix),g.onRecoverableError!==void 0&&(N=g.onRecoverableError)),u=Lw(u,null,a,1,g??null,C,!1,B,N),a[pi]=u.current,pl(a),S)for(a=0;a<S.length;a++)g=S[a],C=g._getVersion,C=C(g._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[g,C]:u.mutableSourceEagerHydrationData.push(g,C);return new rg(u)},Vi.render=function(a,u,g){if(!ig(u))throw Error(t(200));return sg(null,a,u,!1,g)},Vi.unmountComponentAtNode=function(a){if(!ig(a))throw Error(t(40));return a._reactRootContainer?(Wu(function(){sg(null,null,a,!1,function(){a._reactRootContainer=null,a[pi]=null})}),!0):!1},Vi.unstable_batchedUpdates=Fy,Vi.unstable_renderSubtreeIntoContainer=function(a,u,g,S){if(!ig(g))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return sg(a,u,g,!1,S)},Vi.version="18.3.1-next-f1338f8080-20240426",Vi}var Ww;function kb(){if(Ww)return Ky.exports;Ww=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ky.exports=J2(),Ky.exports}var jw;function $2(){if(jw)return ag;jw=1;var r=kb();return ag.createRoot=r.createRoot,ag.hydrateRoot=r.hydrateRoot,ag}var X2=$2();/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g0(){return g0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},g0.apply(this,arguments)}var Ul;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ul||(Ul={}));const Jw="popstate";function K2(r){r===void 0&&(r={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return Ex("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Fb(i)}return Q2(e,t,null,r)}function Ji(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Y2(){return Math.random().toString(36).substr(2,8)}function $w(r,e){return{usr:r.state,key:r.key,idx:e}}function Ex(r,e,t,n){return t===void 0&&(t=null),g0({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?U0(e):e,{state:t,key:e&&e.key||n||Y2()})}function Fb(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function U0(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Q2(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Ul.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(g0({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function m(){l=Ul.Pop;let A=p(),b=A==null?null:A-d;d=A,c&&c({action:l,location:_.location,delta:b})}function y(A,b){l=Ul.Push;let E=Ex(_.location,A,b);d=p()+1;let T=$w(E,d),R=_.createHref(E);try{o.pushState(T,"",R)}catch{i.location.assign(R)}s&&c&&c({action:l,location:_.location,delta:1})}function v(A,b){l=Ul.Replace;let E=Ex(_.location,A,b);d=p();let T=$w(E,d),R=_.createHref(E);o.replaceState(T,"",R),s&&c&&c({action:l,location:_.location,delta:0})}function w(A){let b=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof A=="string"?A:Fb(A);return Ji(b,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,b)}let _={get action(){return l},get location(){return r(i,o)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Jw,m),c=A,()=>{i.removeEventListener(Jw,m),c=null}},createHref(A){return e(i,A)},createURL:w,encodeLocation(A){let b=w(A);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:v,go(A){return o.go(A)}};return _}var Xw;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Xw||(Xw={}));function q2(r,e,t){t===void 0&&(t="/");let n=typeof e=="string"?U0(e):e,i=Ub(n.pathname||"/",t);if(i==null)return null;let s=Nb(r);Z2(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=lP(s[l],fP(i));return o}function Nb(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ji(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=gd([n,c.relativePath]),p=t.concat(c);s.children&&s.children.length>0&&(Ji(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Nb(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:oP(d,s.index),routesMeta:p})};return r.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of zb(s.path))i(s,o,c)}),e}function zb(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=zb(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function Z2(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:aP(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const eP=/^:\w+$/,tP=3,nP=2,rP=1,iP=10,sP=-2,Kw=r=>r==="*";function oP(r,e){let t=r.split("/"),n=t.length;return t.some(Kw)&&(n+=sP),e&&(n+=nP),t.filter(i=>!Kw(i)).reduce((i,s)=>i+(eP.test(s)?tP:s===""?rP:iP),n)}function aP(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function lP(r,e){let{routesMeta:t}=r,n={},i="/",s=[];for(let o=0;o<t.length;++o){let l=t[o],c=o===t.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=uP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!p)return null;Object.assign(n,p.params);let m=l.route;s.push({params:n,pathname:gd([i,p.pathname]),pathnameBase:hP(gd([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=gd([i,p.pathnameBase]))}return s}function uP(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=cP(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,p,m)=>{if(p==="*"){let y=l[m]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return d[p]=dP(l[m]||"",p),d},{}),pathname:s,pathnameBase:o,pattern:r}}function cP(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),H_(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(n.push(l),"/([^\\/]+)"));return r.endsWith("*")?(n.push("*"),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function fP(r){try{return decodeURI(r)}catch(e){return H_(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function dP(r,e){try{return decodeURIComponent(r)}catch(t){return H_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),r}}function Ub(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function H_(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}const gd=r=>r.join("/").replace(/\/\/+/g,"/"),hP=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/");function pP(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Hb=["post","put","patch","delete"];new Set(Hb);const mP=["get",...Hb];new Set(mP);/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cx(){return Cx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Cx.apply(this,arguments)}const Gb=k.createContext(null),Vb=k.createContext(null),Wb=k.createContext(null),H0=k.createContext(null),G0=k.createContext({outlet:null,matches:[]}),jb=k.createContext(null);function G_(){return k.useContext(H0)!=null}function gP(){return G_()||Ji(!1),k.useContext(H0).location}function yP(r,e){G_()||Ji(!1);let{navigator:t}=k.useContext(Wb),n=k.useContext(Vb),{matches:i}=k.useContext(G0),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=gP(),d;if(e){var p;let _=typeof e=="string"?U0(e):e;l==="/"||(p=_.pathname)!=null&&p.startsWith(l)||Ji(!1),d=_}else d=c;let m=d.pathname||"/",y=l==="/"?m:m.slice(l.length)||"/",v=q2(r,{pathname:y}),w=wP(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:gd([l,t.encodeLocation?t.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:gd([l,t.encodeLocation?t.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n||void 0);return e&&w?k.createElement(H0.Provider,{value:{location:Cx({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ul.Pop}},w):w}function vP(){let r=bP(),e=pP(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:i},t):null,null)}class xP extends k.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?k.createElement(G0.Provider,{value:this.props.routeContext},k.createElement(jb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _P(r){let{routeContext:e,match:t,children:n}=r,i=k.useContext(Gb);return i&&i.static&&i.staticContext&&t.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(G0.Provider,{value:e},n)}function wP(r,e,t){if(e===void 0&&(e=[]),r==null)if(t!=null&&t.errors)r=t.matches;else return null;let n=r,i=t==null?void 0:t.errors;if(i!=null){let s=n.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ji(!1),n=n.slice(0,Math.min(n.length,s+1))}return n.reduceRight((s,o,l)=>{let c=o.route.id?i==null?void 0:i[o.route.id]:null,d=t?o.route.errorElement||k.createElement(vP,null):null,p=e.concat(n.slice(0,l+1)),m=()=>k.createElement(_P,{match:o,routeContext:{outlet:s,matches:p}},c?d:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||l===0)?k.createElement(xP,{location:t.location,component:d,error:c,children:m(),routeContext:{outlet:null,matches:p}}):m()},null)}var Yw;(function(r){r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator"})(Yw||(Yw={}));var y0;(function(r){r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator"})(y0||(y0={}));function SP(r){let e=k.useContext(Vb);return e||Ji(!1),e}function AP(r){let e=k.useContext(G0);return e||Ji(!1),e}function MP(r){let e=AP(),t=e.matches[e.matches.length-1];return t.route.id||Ji(!1),t.route.id}function bP(){var r;let e=k.useContext(jb),t=SP(y0.UseRouteError),n=MP(y0.UseRouteError);return e||((r=t.errors)==null?void 0:r[n])}function rc(r){Ji(!1)}function EP(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Ul.Pop,navigator:s,static:o=!1}=r;G_()&&Ji(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof n=="string"&&(n=U0(n));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:v="default"}=n,w=k.useMemo(()=>{let _=Ub(d,l);return _==null?null:{pathname:_,search:p,hash:m,state:y,key:v}},[l,d,p,m,y,v]);return w==null?null:k.createElement(Wb.Provider,{value:c},k.createElement(H0.Provider,{children:t,value:{location:w,navigationType:i}}))}function CP(r){let{children:e,location:t}=r,n=k.useContext(Gb),i=n&&!e?n.router.routes:Tx(e);return yP(i,t)}var Qw;(function(r){r[r.pending=0]="pending",r[r.success=1]="success",r[r.error=2]="error"})(Qw||(Qw={}));new Promise(()=>{});function Tx(r,e){e===void 0&&(e=[]);let t=[];return k.Children.forEach(r,(n,i)=>{if(!k.isValidElement(n))return;if(n.type===k.Fragment){t.push.apply(t,Tx(n.props.children,e));return}n.type!==rc&&Ji(!1),!n.props.index||!n.props.children||Ji(!1);let s=[...e,i],o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(o.children=Tx(n.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function TP(r){let{basename:e,children:t,window:n}=r,i=k.useRef();i.current==null&&(i.current=K2({window:n,v5Compat:!0}));let s=i.current,[o,l]=k.useState({action:s.action,location:s.location});return k.useLayoutEffect(()=>s.listen(l),[s]),k.createElement(EP,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var qw;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmitImpl="useSubmitImpl",r.UseFetcher="useFetcher"})(qw||(qw={}));var Zw;(function(r){r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Zw||(Zw={}));/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const kp="148",ic={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},sc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Jb=0,Rx=1,$b=2,RP=3,PP=0,V_=1,W_=2,fd=3,Va=0,us=1,Fp=2,up=3,za=0,mc=1,Px=2,Bx=3,Ix=4,Xb=5,ac=100,Kb=101,Yb=102,Lx=103,Dx=104,Qb=200,qb=201,Zb=202,eE=203,j_=204,J_=205,tE=206,nE=207,rE=208,iE=209,sE=210,oE=0,aE=1,lE=2,v0=3,uE=4,cE=5,fE=6,dE=7,Np=0,hE=1,pE=2,po=0,mE=1,gE=2,yE=3,$_=4,vE=5,V0=300,Wl=301,jl=302,xp=303,_p=304,Id=306,Jl=1e3,Yr=1001,Sd=1002,er=1003,wp=1004,BP=1004,yd=1005,IP=1005,Jn=1006,W0=1007,LP=1007,Uo=1008,DP=1008,$l=1009,xE=1010,_E=1011,X_=1012,wE=1013,Hl=1014,Fa=1015,Ad=1016,SE=1017,AE=1018,gc=1020,ME=1021,bE=1022,as=1023,EE=1024,CE=1025,Gl=1026,Mc=1027,TE=1028,RE=1029,PE=1030,BE=1031,IE=1033,o0=33776,a0=33777,l0=33778,u0=33779,Ox=35840,kx=35841,Fx=35842,Nx=35843,LE=36196,zx=37492,Ux=37496,Hx=37808,Gx=37809,Vx=37810,Wx=37811,jx=37812,Jx=37813,$x=37814,Xx=37815,Kx=37816,Yx=37817,Qx=37818,qx=37819,Zx=37820,e_=37821,t_=36492,DE=2200,OE=2201,kE=2202,Md=2300,bc=2301,c0=2302,uc=2400,cc=2401,Sp=2402,j0=2500,K_=2501,FE=0,Y_=1,x0=2,Wa=3e3,Mn=3001,NE=3200,zE=3201,eu=0,UE=1,OP="",uo="srgb",bd="srgb-linear",kP=0,f0=7680,FP=7681,NP=7682,zP=7683,UP=34055,HP=34056,GP=5386,VP=512,WP=513,jP=514,JP=515,$P=516,XP=517,KP=518,HE=519,Ap=35044,YP=35048,QP=35040,qP=35045,ZP=35049,eB=35041,tB=35046,nB=35050,rB=35042,iB="100",n_="300 es",_0=1035;let Ka=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let eS=1234567;const yc=Math.PI/180,Mp=180/Math.PI;function cs(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(si[r&255]+si[r>>8&255]+si[r>>16&255]+si[r>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[t&63|128]+si[t>>8&255]+"-"+si[t>>16&255]+si[t>>24&255]+si[n&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]).toLowerCase()}function lr(r,e,t){return Math.max(e,Math.min(t,r))}function Q_(r,e){return(r%e+e)%e}function sB(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function oB(r,e,t){return r!==e?(t-r)/(e-r):0}function hp(r,e,t){return(1-t)*r+t*e}function aB(r,e,t,n){return hp(r,e,1-Math.exp(-t*n))}function lB(r,e=1){return e-Math.abs(Q_(r,e*2)-e)}function uB(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function cB(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function fB(r,e){return r+Math.floor(Math.random()*(e-r+1))}function dB(r,e){return r+Math.random()*(e-r)}function hB(r){return r*(.5-Math.random())}function pB(r){r!==void 0&&(eS=r);let e=eS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function mB(r){return r*yc}function gB(r){return r*Mp}function r_(r){return(r&r-1)===0&&r!==0}function GE(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function w0(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function yB(r,e,t,n,i){const s=Math.cos,o=Math.sin,l=s(t/2),c=o(t/2),d=s((e+n)/2),p=o((e+n)/2),m=s((e-n)/2),y=o((e-n)/2),v=s((n-e)/2),w=o((n-e)/2);switch(i){case"XYX":r.set(l*p,c*m,c*y,l*d);break;case"YZY":r.set(c*y,l*p,c*m,l*d);break;case"ZXZ":r.set(c*m,c*y,l*p,l*d);break;case"XZX":r.set(l*p,c*w,c*v,l*d);break;case"YXY":r.set(c*v,l*p,c*w,l*d);break;case"ZYZ":r.set(c*w,c*v,l*p,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Na(r,e){switch(e.constructor){case Float32Array:return r;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function Tn(r,e){switch(e.constructor){case Float32Array:return r;case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}var VE=Object.freeze({__proto__:null,DEG2RAD:yc,RAD2DEG:Mp,generateUUID:cs,clamp:lr,euclideanModulo:Q_,mapLinear:sB,inverseLerp:oB,lerp:hp,damp:aB,pingpong:lB,smoothstep:uB,smootherstep:cB,randInt:fB,randFloat:dB,randFloatSpread:hB,seededRandom:pB,degToRad:mB,radToDeg:gB,isPowerOfTwo:r_,ceilPowerOfTwo:GE,floorPowerOfTwo:w0,setQuaternionFromProperEuler:yB,normalize:Tn,denormalize:Na});class Ie{constructor(e=0,t=0){Ie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*i+e.x,this.y=s*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ei{constructor(){Ei.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,s,o,l,c,d){const p=this.elements;return p[0]=e,p[1]=i,p[2]=l,p[3]=t,p[4]=s,p[5]=c,p[6]=n,p[7]=o,p[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],l=n[3],c=n[6],d=n[1],p=n[4],m=n[7],y=n[2],v=n[5],w=n[8],_=i[0],A=i[3],b=i[6],E=i[1],T=i[4],R=i[7],L=i[2],O=i[5],F=i[8];return s[0]=o*_+l*E+c*L,s[3]=o*A+l*T+c*O,s[6]=o*b+l*R+c*F,s[1]=d*_+p*E+m*L,s[4]=d*A+p*T+m*O,s[7]=d*b+p*R+m*F,s[2]=y*_+v*E+w*L,s[5]=y*A+v*T+w*O,s[8]=y*b+v*R+w*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],p=e[8];return t*o*p-t*l*d-n*s*p+n*l*c+i*s*d-i*o*c}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],p=e[8],m=p*o-l*d,y=l*c-p*s,v=d*s-o*c,w=t*m+n*y+i*v;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/w;return e[0]=m*_,e[1]=(i*d-p*n)*_,e[2]=(l*n-i*o)*_,e[3]=y*_,e[4]=(p*t-i*c)*_,e[5]=(i*s-l*t)*_,e[6]=v*_,e[7]=(n*c-d*t)*_,e[8]=(o*t-n*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,s,o,l){const c=Math.cos(s),d=Math.sin(s);return this.set(n*c,n*d,-n*(c*o+d*l)+o+e,-i*d,i*c,-i*(-d*o+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(qy.makeScale(e,t)),this}rotate(e){return this.premultiply(qy.makeRotation(-e)),this}translate(e,t){return this.premultiply(qy.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const qy=new Ei;function WE(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const vB={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function dd(r,e){return new vB[r](e)}function bp(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function vc(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function d0(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}const Zy={[uo]:{[bd]:vc},[bd]:{[uo]:d0}},oi={legacyMode:!0,get workingColorSpace(){return bd},set workingColorSpace(r){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(r,e,t){if(this.legacyMode||e===t||!e||!t)return r;if(Zy[e]&&Zy[e][t]!==void 0){const n=Zy[e][t];return r.r=n(r.r),r.g=n(r.g),r.b=n(r.b),r}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(r,e){return this.convert(r,this.workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this.workingColorSpace)}},jE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cr={r:0,g:0,b:0},so={h:0,s:0,l:0},lg={h:0,s:0,l:0};function ev(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}function ug(r,e){return e.r=r.r,e.g=r.g,e.b=r.b,e}let tt=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=uo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,oi.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=oi.workingColorSpace){return this.r=e,this.g=t,this.b=n,oi.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=oi.workingColorSpace){if(e=Q_(e,1),t=lr(t,0,1),n=lr(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=ev(o,s,e+1/3),this.g=ev(o,s,e),this.b=ev(o,s,e-1/3)}return oi.toWorkingColorSpace(this,i),this}setStyle(e,t=uo){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],l=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,oi.toWorkingColorSpace(this,t),n(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,oi.toWorkingColorSpace(this,t),n(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const c=parseFloat(s[1])/360,d=parseFloat(s[2])/100,p=parseFloat(s[3])/100;return n(s[4]),this.setHSL(c,d,p,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,oi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,oi.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=uo){const n=jE[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=vc(e.r),this.g=vc(e.g),this.b=vc(e.b),this}copyLinearToSRGB(e){return this.r=d0(e.r),this.g=d0(e.g),this.b=d0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=uo){return oi.fromWorkingColorSpace(ug(this,Cr),e),lr(Cr.r*255,0,255)<<16^lr(Cr.g*255,0,255)<<8^lr(Cr.b*255,0,255)<<0}getHexString(e=uo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=oi.workingColorSpace){oi.fromWorkingColorSpace(ug(this,Cr),t);const n=Cr.r,i=Cr.g,s=Cr.b,o=Math.max(n,i,s),l=Math.min(n,i,s);let c,d;const p=(l+o)/2;if(l===o)c=0,d=0;else{const m=o-l;switch(d=p<=.5?m/(o+l):m/(2-o-l),o){case n:c=(i-s)/m+(i<s?6:0);break;case i:c=(s-n)/m+2;break;case s:c=(n-i)/m+4;break}c/=6}return e.h=c,e.s=d,e.l=p,e}getRGB(e,t=oi.workingColorSpace){return oi.fromWorkingColorSpace(ug(this,Cr),t),e.r=Cr.r,e.g=Cr.g,e.b=Cr.b,e}getStyle(e=uo){return oi.fromWorkingColorSpace(ug(this,Cr),e),e!==uo?`color(${e} ${Cr.r} ${Cr.g} ${Cr.b})`:`rgb(${Cr.r*255|0},${Cr.g*255|0},${Cr.b*255|0})`}offsetHSL(e,t,n){return this.getHSL(so),so.h+=e,so.s+=t,so.l+=n,this.setHSL(so.h,so.s,so.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(so),e.getHSL(lg);const n=hp(so.h,lg.h,t),i=hp(so.s,lg.s,t),s=hp(so.l,lg.l,t);return this.setHSL(n,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};tt.NAMES=jE;let Uf;class q_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Uf===void 0&&(Uf=bp("canvas")),Uf.width=e.width,Uf.height=e.height;const n=Uf.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Uf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=bp("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=vc(s[o]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(vc(t[n]/255)*255):t[n]=vc(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class fc{constructor(e=null){this.isSource=!0,this.uuid=cs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,l=i.length;o<l;o++)i[o].isDataTexture?s.push(tv(i[o].image)):s.push(tv(i[o]))}else s=tv(i);n.url=s}return t||(e.images[this.uuid]=n),n}}function tv(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?q_.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let xB=0;class Hn extends Ka{constructor(e=Hn.DEFAULT_IMAGE,t=Hn.DEFAULT_MAPPING,n=Yr,i=Yr,s=Jn,o=Uo,l=as,c=$l,d=Hn.DEFAULT_ANISOTROPY,p=Wa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:xB++}),this.uuid=cs(),this.name="",this.source=new fc(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ei,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==V0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jl:e.x=e.x-Math.floor(e.x);break;case Yr:e.x=e.x<0?0:1;break;case Sd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jl:e.y=e.y-Math.floor(e.y);break;case Yr:e.y=e.y<0?0:1;break;case Sd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Hn.DEFAULT_IMAGE=null;Hn.DEFAULT_MAPPING=V0;Hn.DEFAULT_ANISOTROPY=1;class xn{constructor(e=0,t=0,n=0,i=1){xn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,s;const c=e.elements,d=c[0],p=c[4],m=c[8],y=c[1],v=c[5],w=c[9],_=c[2],A=c[6],b=c[10];if(Math.abs(p-y)<.01&&Math.abs(m-_)<.01&&Math.abs(w-A)<.01){if(Math.abs(p+y)<.1&&Math.abs(m+_)<.1&&Math.abs(w+A)<.1&&Math.abs(d+v+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(d+1)/2,R=(v+1)/2,L=(b+1)/2,O=(p+y)/4,F=(m+_)/4,I=(w+A)/4;return T>R&&T>L?T<.01?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(T),i=O/n,s=F/n):R>L?R<.01?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(R),n=O/i,s=I/i):L<.01?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(L),n=F/s,i=I/s),this.set(n,i,s,t),this}let E=Math.sqrt((A-w)*(A-w)+(m-_)*(m-_)+(y-p)*(y-p));return Math.abs(E)<.001&&(E=1),this.x=(A-w)/E,this.y=(m-_)/E,this.z=(y-p)/E,this.w=Math.acos((d+v+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Rs extends Ka{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new xn(0,0,e,t),this.scissorTest=!1,this.viewport=new xn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Hn(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Jn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new fc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zp extends Hn{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=er,this.minFilter=er,this.wrapR=Yr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _B extends Rs{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new zp(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class J0 extends Hn{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=er,this.minFilter=er,this.wrapR=Yr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wB extends Rs{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new J0(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class SB extends Rs{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class zr{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,s,o,l){let c=n[i+0],d=n[i+1],p=n[i+2],m=n[i+3];const y=s[o+0],v=s[o+1],w=s[o+2],_=s[o+3];if(l===0){e[t+0]=c,e[t+1]=d,e[t+2]=p,e[t+3]=m;return}if(l===1){e[t+0]=y,e[t+1]=v,e[t+2]=w,e[t+3]=_;return}if(m!==_||c!==y||d!==v||p!==w){let A=1-l;const b=c*y+d*v+p*w+m*_,E=b>=0?1:-1,T=1-b*b;if(T>Number.EPSILON){const L=Math.sqrt(T),O=Math.atan2(L,b*E);A=Math.sin(A*O)/L,l=Math.sin(l*O)/L}const R=l*E;if(c=c*A+y*R,d=d*A+v*R,p=p*A+w*R,m=m*A+_*R,A===1-l){const L=1/Math.sqrt(c*c+d*d+p*p+m*m);c*=L,d*=L,p*=L,m*=L}}e[t]=c,e[t+1]=d,e[t+2]=p,e[t+3]=m}static multiplyQuaternionsFlat(e,t,n,i,s,o){const l=n[i],c=n[i+1],d=n[i+2],p=n[i+3],m=s[o],y=s[o+1],v=s[o+2],w=s[o+3];return e[t]=l*w+p*m+c*v-d*y,e[t+1]=c*w+p*y+d*m-l*v,e[t+2]=d*w+p*v+l*y-c*m,e[t+3]=p*w-l*m-c*y-d*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,i=e._y,s=e._z,o=e._order,l=Math.cos,c=Math.sin,d=l(n/2),p=l(i/2),m=l(s/2),y=c(n/2),v=c(i/2),w=c(s/2);switch(o){case"XYZ":this._x=y*p*m+d*v*w,this._y=d*v*m-y*p*w,this._z=d*p*w+y*v*m,this._w=d*p*m-y*v*w;break;case"YXZ":this._x=y*p*m+d*v*w,this._y=d*v*m-y*p*w,this._z=d*p*w-y*v*m,this._w=d*p*m+y*v*w;break;case"ZXY":this._x=y*p*m-d*v*w,this._y=d*v*m+y*p*w,this._z=d*p*w+y*v*m,this._w=d*p*m-y*v*w;break;case"ZYX":this._x=y*p*m-d*v*w,this._y=d*v*m+y*p*w,this._z=d*p*w-y*v*m,this._w=d*p*m+y*v*w;break;case"YZX":this._x=y*p*m+d*v*w,this._y=d*v*m+y*p*w,this._z=d*p*w-y*v*m,this._w=d*p*m-y*v*w;break;case"XZY":this._x=y*p*m-d*v*w,this._y=d*v*m-y*p*w,this._z=d*p*w+y*v*m,this._w=d*p*m+y*v*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],s=t[8],o=t[1],l=t[5],c=t[9],d=t[2],p=t[6],m=t[10],y=n+l+m;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(p-c)*v,this._y=(s-d)*v,this._z=(o-i)*v}else if(n>l&&n>m){const v=2*Math.sqrt(1+n-l-m);this._w=(p-c)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+d)/v}else if(l>m){const v=2*Math.sqrt(1+l-n-m);this._w=(s-d)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(c+p)/v}else{const v=2*Math.sqrt(1+m-n-l);this._w=(o-i)/v,this._x=(s+d)/v,this._y=(c+p)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(lr(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,s=e._z,o=e._w,l=t._x,c=t._y,d=t._z,p=t._w;return this._x=n*p+o*l+i*d-s*c,this._y=i*p+o*c+s*l-n*d,this._z=s*p+o*d+n*c-i*l,this._w=o*p-n*l-i*c-s*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,s=this._z,o=this._w;let l=o*e._w+n*e._x+i*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=n,this._y=i,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*n+t*this._x,this._y=v*i+t*this._y,this._z=v*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(c),p=Math.atan2(d,l),m=Math.sin((1-t)*p)/d,y=Math.sin(t*p)/d;return this._w=o*m+this._w*y,this._x=n*m+this._x*y,this._y=i*m+this._y*y,this._z=s*m+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(s),n*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,t=0,n=0){W.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(tS.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(tS.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*i,this.y=s[1]*t+s[4]*n+s[7]*i,this.z=s[2]*t+s[5]*n+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,s=e.x,o=e.y,l=e.z,c=e.w,d=c*t+o*i-l*n,p=c*n+l*t-s*i,m=c*i+s*n-o*t,y=-s*t-o*n-l*i;return this.x=d*c+y*-s+p*-l-m*-o,this.y=p*c+y*-o+m*-s-d*-l,this.z=m*c+y*-l+d*-o-p*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i,this.y=s[1]*t+s[5]*n+s[9]*i,this.z=s[2]*t+s[6]*n+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,s=e.z,o=t.x,l=t.y,c=t.z;return this.x=i*c-s*l,this.y=s*o-n*c,this.z=n*l-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return nv.copy(this).projectOnVector(e),this.sub(nv)}reflect(e){return this.sub(nv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(lr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const nv=new W,tS=new zr;class tu{constructor(e=new W(1/0,1/0,1/0),t=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,s=-1/0,o=-1/0,l=-1/0;for(let c=0,d=e.length;c<d;c+=3){const p=e[c],m=e[c+1],y=e[c+2];p<t&&(t=p),m<n&&(n=m),y<i&&(i=y),p>s&&(s=p),m>o&&(o=m),y>l&&(l=y)}return this.min.set(t,n,i),this.max.set(s,o,l),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,s=-1/0,o=-1/0,l=-1/0;for(let c=0,d=e.count;c<d;c++){const p=e.getX(c),m=e.getY(c),y=e.getZ(c);p<t&&(t=p),m<n&&(n=m),y<i&&(i=y),p>s&&(s=p),m>o&&(o=m),y>l&&(l=y)}return this.min.set(t,n,i),this.max.set(s,o,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Xu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){const s=n.attributes.position;for(let o=0,l=s.count;o<l;o++)Xu.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Xu)}else n.boundingBox===null&&n.computeBoundingBox(),rv.copy(n.boundingBox),rv.applyMatrix4(e.matrixWorld),this.union(rv);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Xu),Xu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(jh),cg.subVectors(this.max,jh),Hf.subVectors(e.a,jh),Gf.subVectors(e.b,jh),Vf.subVectors(e.c,jh),Il.subVectors(Gf,Hf),Ll.subVectors(Vf,Gf),Ku.subVectors(Hf,Vf);let t=[0,-Il.z,Il.y,0,-Ll.z,Ll.y,0,-Ku.z,Ku.y,Il.z,0,-Il.x,Ll.z,0,-Ll.x,Ku.z,0,-Ku.x,-Il.y,Il.x,0,-Ll.y,Ll.x,0,-Ku.y,Ku.x,0];return!iv(t,Hf,Gf,Vf,cg)||(t=[1,0,0,0,1,0,0,0,1],!iv(t,Hf,Gf,Vf,cg))?!1:(fg.crossVectors(Il,Ll),t=[fg.x,fg.y,fg.z],iv(t,Hf,Gf,Vf,cg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Xu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Xu).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ma[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ma[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ma[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ma[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ma[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ma[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ma[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ma[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ma),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ma=[new W,new W,new W,new W,new W,new W,new W,new W],Xu=new W,rv=new tu,Hf=new W,Gf=new W,Vf=new W,Il=new W,Ll=new W,Ku=new W,jh=new W,cg=new W,fg=new W,Yu=new W;function iv(r,e,t,n,i){for(let s=0,o=r.length-3;s<=o;s+=3){Yu.fromArray(r,s);const l=i.x*Math.abs(Yu.x)+i.y*Math.abs(Yu.y)+i.z*Math.abs(Yu.z),c=e.dot(Yu),d=t.dot(Yu),p=n.dot(Yu);if(Math.max(-Math.max(c,d,p),Math.min(c,d,p))>l)return!1}return!0}const AB=new tu,Jh=new W,sv=new W;class nu{constructor(e=new W,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):AB.setFromPoints(e).getCenter(n);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Jh.subVectors(e,this.center);const t=Jh.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(Jh,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(sv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Jh.copy(e.center).add(sv)),this.expandByPoint(Jh.copy(e.center).sub(sv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ba=new W,ov=new W,dg=new W,Dl=new W,av=new W,hg=new W,lv=new W;class Ld{constructor(e=new W,t=new W(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ba)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ba.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ba.copy(this.direction).multiplyScalar(t).add(this.origin),ba.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){ov.copy(e).add(t).multiplyScalar(.5),dg.copy(t).sub(e).normalize(),Dl.copy(this.origin).sub(ov);const s=e.distanceTo(t)*.5,o=-this.direction.dot(dg),l=Dl.dot(this.direction),c=-Dl.dot(dg),d=Dl.lengthSq(),p=Math.abs(1-o*o);let m,y,v,w;if(p>0)if(m=o*c-l,y=o*l-c,w=s*p,m>=0)if(y>=-w)if(y<=w){const _=1/p;m*=_,y*=_,v=m*(m+o*y+2*l)+y*(o*m+y+2*c)+d}else y=s,m=Math.max(0,-(o*y+l)),v=-m*m+y*(y+2*c)+d;else y=-s,m=Math.max(0,-(o*y+l)),v=-m*m+y*(y+2*c)+d;else y<=-w?(m=Math.max(0,-(-o*s+l)),y=m>0?-s:Math.min(Math.max(-s,-c),s),v=-m*m+y*(y+2*c)+d):y<=w?(m=0,y=Math.min(Math.max(-s,-c),s),v=y*(y+2*c)+d):(m=Math.max(0,-(o*s+l)),y=m>0?s:Math.min(Math.max(-s,-c),s),v=-m*m+y*(y+2*c)+d);else y=o>0?-s:s,m=Math.max(0,-(o*y+l)),v=-m*m+y*(y+2*c)+d;return n&&n.copy(this.direction).multiplyScalar(m).add(this.origin),i&&i.copy(dg).multiplyScalar(y).add(ov),v}intersectSphere(e,t){ba.subVectors(e.center,this.origin);const n=ba.dot(this.direction),i=ba.dot(ba)-n*n,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),l=n-o,c=n+o;return l<0&&c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,s,o,l,c;const d=1/this.direction.x,p=1/this.direction.y,m=1/this.direction.z,y=this.origin;return d>=0?(n=(e.min.x-y.x)*d,i=(e.max.x-y.x)*d):(n=(e.max.x-y.x)*d,i=(e.min.x-y.x)*d),p>=0?(s=(e.min.y-y.y)*p,o=(e.max.y-y.y)*p):(s=(e.max.y-y.y)*p,o=(e.min.y-y.y)*p),n>o||s>i||((s>n||isNaN(n))&&(n=s),(o<i||isNaN(i))&&(i=o),m>=0?(l=(e.min.z-y.z)*m,c=(e.max.z-y.z)*m):(l=(e.max.z-y.z)*m,c=(e.min.z-y.z)*m),n>c||l>i)||((l>n||n!==n)&&(n=l),(c<i||i!==i)&&(i=c),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,ba)!==null}intersectTriangle(e,t,n,i,s){av.subVectors(t,e),hg.subVectors(n,e),lv.crossVectors(av,hg);let o=this.direction.dot(lv),l;if(o>0){if(i)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Dl.subVectors(this.origin,e);const c=l*this.direction.dot(hg.crossVectors(Dl,hg));if(c<0)return null;const d=l*this.direction.dot(av.cross(Dl));if(d<0||c+d>o)return null;const p=-l*Dl.dot(lv);return p<0?null:this.at(p/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class It{constructor(){It.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,s,o,l,c,d,p,m,y,v,w,_,A){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=i,b[1]=s,b[5]=o,b[9]=l,b[13]=c,b[2]=d,b[6]=p,b[10]=m,b[14]=y,b[3]=v,b[7]=w,b[11]=_,b[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new It().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Wf.setFromMatrixColumn(e,0).length(),s=1/Wf.setFromMatrixColumn(e,1).length(),o=1/Wf.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,s=e.z,o=Math.cos(n),l=Math.sin(n),c=Math.cos(i),d=Math.sin(i),p=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const y=o*p,v=o*m,w=l*p,_=l*m;t[0]=c*p,t[4]=-c*m,t[8]=d,t[1]=v+w*d,t[5]=y-_*d,t[9]=-l*c,t[2]=_-y*d,t[6]=w+v*d,t[10]=o*c}else if(e.order==="YXZ"){const y=c*p,v=c*m,w=d*p,_=d*m;t[0]=y+_*l,t[4]=w*l-v,t[8]=o*d,t[1]=o*m,t[5]=o*p,t[9]=-l,t[2]=v*l-w,t[6]=_+y*l,t[10]=o*c}else if(e.order==="ZXY"){const y=c*p,v=c*m,w=d*p,_=d*m;t[0]=y-_*l,t[4]=-o*m,t[8]=w+v*l,t[1]=v+w*l,t[5]=o*p,t[9]=_-y*l,t[2]=-o*d,t[6]=l,t[10]=o*c}else if(e.order==="ZYX"){const y=o*p,v=o*m,w=l*p,_=l*m;t[0]=c*p,t[4]=w*d-v,t[8]=y*d+_,t[1]=c*m,t[5]=_*d+y,t[9]=v*d-w,t[2]=-d,t[6]=l*c,t[10]=o*c}else if(e.order==="YZX"){const y=o*c,v=o*d,w=l*c,_=l*d;t[0]=c*p,t[4]=_-y*m,t[8]=w*m+v,t[1]=m,t[5]=o*p,t[9]=-l*p,t[2]=-d*p,t[6]=v*m+w,t[10]=y-_*m}else if(e.order==="XZY"){const y=o*c,v=o*d,w=l*c,_=l*d;t[0]=c*p,t[4]=-m,t[8]=d*p,t[1]=y*m+_,t[5]=o*p,t[9]=v*m-w,t[2]=w*m-v,t[6]=l*p,t[10]=_*m+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(MB,e,bB)}lookAt(e,t,n){const i=this.elements;return is.subVectors(e,t),is.lengthSq()===0&&(is.z=1),is.normalize(),Ol.crossVectors(n,is),Ol.lengthSq()===0&&(Math.abs(n.z)===1?is.x+=1e-4:is.z+=1e-4,is.normalize(),Ol.crossVectors(n,is)),Ol.normalize(),pg.crossVectors(is,Ol),i[0]=Ol.x,i[4]=pg.x,i[8]=is.x,i[1]=Ol.y,i[5]=pg.y,i[9]=is.y,i[2]=Ol.z,i[6]=pg.z,i[10]=is.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],l=n[4],c=n[8],d=n[12],p=n[1],m=n[5],y=n[9],v=n[13],w=n[2],_=n[6],A=n[10],b=n[14],E=n[3],T=n[7],R=n[11],L=n[15],O=i[0],F=i[4],I=i[8],G=i[12],V=i[1],q=i[5],ce=i[9],ee=i[13],Z=i[2],le=i[6],he=i[10],de=i[14],z=i[3],K=i[7],$=i[11],U=i[15];return s[0]=o*O+l*V+c*Z+d*z,s[4]=o*F+l*q+c*le+d*K,s[8]=o*I+l*ce+c*he+d*$,s[12]=o*G+l*ee+c*de+d*U,s[1]=p*O+m*V+y*Z+v*z,s[5]=p*F+m*q+y*le+v*K,s[9]=p*I+m*ce+y*he+v*$,s[13]=p*G+m*ee+y*de+v*U,s[2]=w*O+_*V+A*Z+b*z,s[6]=w*F+_*q+A*le+b*K,s[10]=w*I+_*ce+A*he+b*$,s[14]=w*G+_*ee+A*de+b*U,s[3]=E*O+T*V+R*Z+L*z,s[7]=E*F+T*q+R*le+L*K,s[11]=E*I+T*ce+R*he+L*$,s[15]=E*G+T*ee+R*de+L*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],s=e[12],o=e[1],l=e[5],c=e[9],d=e[13],p=e[2],m=e[6],y=e[10],v=e[14],w=e[3],_=e[7],A=e[11],b=e[15];return w*(+s*c*m-i*d*m-s*l*y+n*d*y+i*l*v-n*c*v)+_*(+t*c*v-t*d*y+s*o*y-i*o*v+i*d*p-s*c*p)+A*(+t*d*m-t*l*v-s*o*m+n*o*v+s*l*p-n*d*p)+b*(-i*l*p-t*c*m+t*l*y+i*o*m-n*o*y+n*c*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],p=e[8],m=e[9],y=e[10],v=e[11],w=e[12],_=e[13],A=e[14],b=e[15],E=m*A*d-_*y*d+_*c*v-l*A*v-m*c*b+l*y*b,T=w*y*d-p*A*d-w*c*v+o*A*v+p*c*b-o*y*b,R=p*_*d-w*m*d+w*l*v-o*_*v-p*l*b+o*m*b,L=w*m*c-p*_*c-w*l*y+o*_*y+p*l*A-o*m*A,O=t*E+n*T+i*R+s*L;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/O;return e[0]=E*F,e[1]=(_*y*s-m*A*s-_*i*v+n*A*v+m*i*b-n*y*b)*F,e[2]=(l*A*s-_*c*s+_*i*d-n*A*d-l*i*b+n*c*b)*F,e[3]=(m*c*s-l*y*s-m*i*d+n*y*d+l*i*v-n*c*v)*F,e[4]=T*F,e[5]=(p*A*s-w*y*s+w*i*v-t*A*v-p*i*b+t*y*b)*F,e[6]=(w*c*s-o*A*s-w*i*d+t*A*d+o*i*b-t*c*b)*F,e[7]=(o*y*s-p*c*s+p*i*d-t*y*d-o*i*v+t*c*v)*F,e[8]=R*F,e[9]=(w*m*s-p*_*s-w*n*v+t*_*v+p*n*b-t*m*b)*F,e[10]=(o*_*s-w*l*s+w*n*d-t*_*d-o*n*b+t*l*b)*F,e[11]=(p*l*s-o*m*s-p*n*d+t*m*d+o*n*v-t*l*v)*F,e[12]=L*F,e[13]=(p*_*i-w*m*i+w*n*y-t*_*y-p*n*A+t*m*A)*F,e[14]=(w*l*i-o*_*i-w*n*c+t*_*c+o*n*A-t*l*A)*F,e[15]=(o*m*i-p*l*i+p*n*c-t*m*c-o*n*y+t*l*y)*F,this}scale(e){const t=this.elements,n=e.x,i=e.y,s=e.z;return t[0]*=n,t[4]*=i,t[8]*=s,t[1]*=n,t[5]*=i,t[9]*=s,t[2]*=n,t[6]*=i,t[10]*=s,t[3]*=n,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),s=1-n,o=e.x,l=e.y,c=e.z,d=s*o,p=s*l;return this.set(d*o+n,d*l-i*c,d*c+i*l,0,d*l+i*c,p*l+n,p*c-i*o,0,d*c-i*l,p*c+i*o,s*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,s,o){return this.set(1,n,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,s=t._x,o=t._y,l=t._z,c=t._w,d=s+s,p=o+o,m=l+l,y=s*d,v=s*p,w=s*m,_=o*p,A=o*m,b=l*m,E=c*d,T=c*p,R=c*m,L=n.x,O=n.y,F=n.z;return i[0]=(1-(_+b))*L,i[1]=(v+R)*L,i[2]=(w-T)*L,i[3]=0,i[4]=(v-R)*O,i[5]=(1-(y+b))*O,i[6]=(A+E)*O,i[7]=0,i[8]=(w+T)*F,i[9]=(A-E)*F,i[10]=(1-(y+_))*F,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let s=Wf.set(i[0],i[1],i[2]).length();const o=Wf.set(i[4],i[5],i[6]).length(),l=Wf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],oo.copy(this);const d=1/s,p=1/o,m=1/l;return oo.elements[0]*=d,oo.elements[1]*=d,oo.elements[2]*=d,oo.elements[4]*=p,oo.elements[5]*=p,oo.elements[6]*=p,oo.elements[8]*=m,oo.elements[9]*=m,oo.elements[10]*=m,t.setFromRotationMatrix(oo),n.x=s,n.y=o,n.z=l,this}makePerspective(e,t,n,i,s,o){const l=this.elements,c=2*s/(t-e),d=2*s/(n-i),p=(t+e)/(t-e),m=(n+i)/(n-i),y=-(o+s)/(o-s),v=-2*o*s/(o-s);return l[0]=c,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=d,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=y,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,i,s,o){const l=this.elements,c=1/(t-e),d=1/(n-i),p=1/(o-s),m=(t+e)*c,y=(n+i)*d,v=(o+s)*p;return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-y,l[2]=0,l[6]=0,l[10]=-2*p,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Wf=new W,oo=new It,MB=new W(0,0,0),bB=new W(1,1,1),Ol=new W,pg=new W,is=new W,nS=new It,rS=new zr;class Dd{constructor(e=0,t=0,n=0,i=Dd.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,s=i[0],o=i[4],l=i[8],c=i[1],d=i[5],p=i[9],m=i[2],y=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(lr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-lr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(lr(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-m,v),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-lr(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(lr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,d),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-lr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-p,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return nS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(nS,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return rS.setFromEuler(this),this.setFromQuaternion(rS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Dd.DefaultOrder="XYZ";Dd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class xc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let EB=0;const iS=new W,jf=new zr,Ea=new It,mg=new W,$h=new W,CB=new W,TB=new zr,sS=new W(1,0,0),oS=new W(0,1,0),aS=new W(0,0,1),RB={type:"added"},lS={type:"removed"};class on extends Ka{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:EB++}),this.uuid=cs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=on.DefaultUp.clone();const e=new W,t=new Dd,n=new zr,i=new W(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new It},normalMatrix:{value:new Ei}}),this.matrix=new It,this.matrixWorld=new It,this.matrixAutoUpdate=on.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=on.DefaultMatrixWorldAutoUpdate,this.layers=new xc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return jf.setFromAxisAngle(e,t),this.quaternion.multiply(jf),this}rotateOnWorldAxis(e,t){return jf.setFromAxisAngle(e,t),this.quaternion.premultiply(jf),this}rotateX(e){return this.rotateOnAxis(sS,e)}rotateY(e){return this.rotateOnAxis(oS,e)}rotateZ(e){return this.rotateOnAxis(aS,e)}translateOnAxis(e,t){return iS.copy(e).applyQuaternion(this.quaternion),this.position.add(iS.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(sS,e)}translateY(e){return this.translateOnAxis(oS,e)}translateZ(e){return this.translateOnAxis(aS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ea.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?mg.copy(e):mg.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),$h.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ea.lookAt($h,mg,this.up):Ea.lookAt(mg,$h,this.up),this.quaternion.setFromRotationMatrix(Ea),i&&(Ea.extractRotation(i.matrixWorld),jf.setFromRotationMatrix(Ea),this.quaternion.premultiply(jf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(RB)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(lS)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(lS)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ea.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ea.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ea),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(n=n.concat(o))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($h,e,CB),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($h,TB,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const s=t[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const l=i[s];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let d=0,p=c.length;d<p;d++){const m=c[d];s(e.shapes,m)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(s(e.materials,this.material[c]));i.material=l}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];i.animations.push(s(e.animations,c))}}if(t){const l=o(e.geometries),c=o(e.materials),d=o(e.textures),p=o(e.images),m=o(e.shapes),y=o(e.skeletons),v=o(e.animations),w=o(e.nodes);l.length>0&&(n.geometries=l),c.length>0&&(n.materials=c),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),m.length>0&&(n.shapes=m),y.length>0&&(n.skeletons=y),v.length>0&&(n.animations=v),w.length>0&&(n.nodes=w)}return n.object=i,n;function o(l){const c=[];for(const d in l){const p=l[d];delete p.metadata,c.push(p)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}on.DefaultUp=new W(0,1,0);on.DefaultMatrixAutoUpdate=!0;on.DefaultMatrixWorldAutoUpdate=!0;const ao=new W,Ca=new W,uv=new W,Ta=new W,Jf=new W,$f=new W,uS=new W,cv=new W,fv=new W,dv=new W;class Cs{constructor(e=new W,t=new W,n=new W){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),ao.subVectors(e,t),i.cross(ao);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,n,i,s){ao.subVectors(i,t),Ca.subVectors(n,t),uv.subVectors(e,t);const o=ao.dot(ao),l=ao.dot(Ca),c=ao.dot(uv),d=Ca.dot(Ca),p=Ca.dot(uv),m=o*d-l*l;if(m===0)return s.set(-2,-1,-1);const y=1/m,v=(d*c-l*p)*y,w=(o*p-l*c)*y;return s.set(1-v-w,w,v)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Ta),Ta.x>=0&&Ta.y>=0&&Ta.x+Ta.y<=1}static getUV(e,t,n,i,s,o,l,c){return this.getBarycoord(e,t,n,i,Ta),c.set(0,0),c.addScaledVector(s,Ta.x),c.addScaledVector(o,Ta.y),c.addScaledVector(l,Ta.z),c}static isFrontFacing(e,t,n,i){return ao.subVectors(n,t),Ca.subVectors(e,t),ao.cross(Ca).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ao.subVectors(this.c,this.b),Ca.subVectors(this.a,this.b),ao.cross(Ca).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Cs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Cs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,s){return Cs.getUV(e,this.a,this.b,this.c,t,n,i,s)}containsPoint(e){return Cs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Cs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,s=this.c;let o,l;Jf.subVectors(i,n),$f.subVectors(s,n),cv.subVectors(e,n);const c=Jf.dot(cv),d=$f.dot(cv);if(c<=0&&d<=0)return t.copy(n);fv.subVectors(e,i);const p=Jf.dot(fv),m=$f.dot(fv);if(p>=0&&m<=p)return t.copy(i);const y=c*m-p*d;if(y<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(n).addScaledVector(Jf,o);dv.subVectors(e,s);const v=Jf.dot(dv),w=$f.dot(dv);if(w>=0&&v<=w)return t.copy(s);const _=v*d-c*w;if(_<=0&&d>=0&&w<=0)return l=d/(d-w),t.copy(n).addScaledVector($f,l);const A=p*w-v*m;if(A<=0&&m-p>=0&&v-w>=0)return uS.subVectors(s,i),l=(m-p)/(m-p+(v-w)),t.copy(i).addScaledVector(uS,l);const b=1/(A+_+y);return o=_*b,l=y*b,t.copy(n).addScaledVector(Jf,o).addScaledVector($f,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let PB=0;class yr extends Ka{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:PB++}),this.uuid=cs(),this.name="",this.type="Material",this.blending=mc,this.side=Va,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=j_,this.blendDst=J_,this.blendEquation=ac,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=v0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=HE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=f0,this.stencilZFail=f0,this.stencilZPass=f0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==mc&&(n.blending=this.blending),this.side!==Va&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(s){const o=[];for(const l in s){const c=s[l];delete c.metadata,o.push(c)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ls extends yr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Np,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const gr=new W,gg=new Ie;class pn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Ap,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)gg.fromBufferAttribute(this,t),gg.applyMatrix3(e),this.setXY(t,gg.x,gg.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)gr.fromBufferAttribute(this,t),gr.applyMatrix3(e),this.setXYZ(t,gr.x,gr.y,gr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)gr.fromBufferAttribute(this,t),gr.applyMatrix4(e),this.setXYZ(t,gr.x,gr.y,gr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)gr.fromBufferAttribute(this,t),gr.applyNormalMatrix(e),this.setXYZ(t,gr.x,gr.y,gr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)gr.fromBufferAttribute(this,t),gr.transformDirection(e),this.setXYZ(t,gr.x,gr.y,gr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Na(t,this.array)),t}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Na(t,this.array)),t}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Na(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Na(t,this.array)),t}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array),s=Tn(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ap&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class BB extends pn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class IB extends pn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class LB extends pn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class DB extends pn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Z_ extends pn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class OB extends pn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class e1 extends pn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class kB extends pn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class _t extends pn{constructor(e,t,n){super(new Float32Array(e),t,n)}}class FB extends pn{constructor(e,t,n){super(new Float64Array(e),t,n)}}let NB=0;const As=new It,hv=new on,Xf=new W,ss=new tu,Xh=new tu,kr=new W;class Jt extends Ka{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:NB++}),this.uuid=cs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(WE(e)?e1:Z_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Ei().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return As.makeRotationFromQuaternion(e),this.applyMatrix4(As),this}rotateX(e){return As.makeRotationX(e),this.applyMatrix4(As),this}rotateY(e){return As.makeRotationY(e),this.applyMatrix4(As),this}rotateZ(e){return As.makeRotationZ(e),this.applyMatrix4(As),this}translate(e,t,n){return As.makeTranslation(e,t,n),this.applyMatrix4(As),this}scale(e,t,n){return As.makeScale(e,t,n),this.applyMatrix4(As),this}lookAt(e){return hv.lookAt(e),hv.updateMatrix(),this.applyMatrix4(hv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xf).negate(),this.translate(Xf.x,Xf.y,Xf.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new _t(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new tu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const s=t[n];ss.setFromBufferAttribute(s),this.morphTargetsRelative?(kr.addVectors(this.boundingBox.min,ss.min),this.boundingBox.expandByPoint(kr),kr.addVectors(this.boundingBox.max,ss.max),this.boundingBox.expandByPoint(kr)):(this.boundingBox.expandByPoint(ss.min),this.boundingBox.expandByPoint(ss.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new nu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new W,1/0);return}if(e){const n=this.boundingSphere.center;if(ss.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const l=t[s];Xh.setFromBufferAttribute(l),this.morphTargetsRelative?(kr.addVectors(ss.min,Xh.min),ss.expandByPoint(kr),kr.addVectors(ss.max,Xh.max),ss.expandByPoint(kr)):(ss.expandByPoint(Xh.min),ss.expandByPoint(Xh.max))}ss.getCenter(n);let i=0;for(let s=0,o=e.count;s<o;s++)kr.fromBufferAttribute(e,s),i=Math.max(i,n.distanceToSquared(kr));if(t)for(let s=0,o=t.length;s<o;s++){const l=t[s],c=this.morphTargetsRelative;for(let d=0,p=l.count;d<p;d++)kr.fromBufferAttribute(l,d),c&&(Xf.fromBufferAttribute(e,d),kr.add(Xf)),i=Math.max(i,n.distanceToSquared(kr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,l=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new pn(new Float32Array(4*l),4));const c=this.getAttribute("tangent").array,d=[],p=[];for(let V=0;V<l;V++)d[V]=new W,p[V]=new W;const m=new W,y=new W,v=new W,w=new Ie,_=new Ie,A=new Ie,b=new W,E=new W;function T(V,q,ce){m.fromArray(i,V*3),y.fromArray(i,q*3),v.fromArray(i,ce*3),w.fromArray(o,V*2),_.fromArray(o,q*2),A.fromArray(o,ce*2),y.sub(m),v.sub(m),_.sub(w),A.sub(w);const ee=1/(_.x*A.y-A.x*_.y);isFinite(ee)&&(b.copy(y).multiplyScalar(A.y).addScaledVector(v,-_.y).multiplyScalar(ee),E.copy(v).multiplyScalar(_.x).addScaledVector(y,-A.x).multiplyScalar(ee),d[V].add(b),d[q].add(b),d[ce].add(b),p[V].add(E),p[q].add(E),p[ce].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:n.length}]);for(let V=0,q=R.length;V<q;++V){const ce=R[V],ee=ce.start,Z=ce.count;for(let le=ee,he=ee+Z;le<he;le+=3)T(n[le+0],n[le+1],n[le+2])}const L=new W,O=new W,F=new W,I=new W;function G(V){F.fromArray(s,V*3),I.copy(F);const q=d[V];L.copy(q),L.sub(F.multiplyScalar(F.dot(q))).normalize(),O.crossVectors(I,q);const ee=O.dot(p[V])<0?-1:1;c[V*4]=L.x,c[V*4+1]=L.y,c[V*4+2]=L.z,c[V*4+3]=ee}for(let V=0,q=R.length;V<q;++V){const ce=R[V],ee=ce.start,Z=ce.count;for(let le=ee,he=ee+Z;le<he;le+=3)G(n[le+0]),G(n[le+1]),G(n[le+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new pn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let y=0,v=n.count;y<v;y++)n.setXYZ(y,0,0,0);const i=new W,s=new W,o=new W,l=new W,c=new W,d=new W,p=new W,m=new W;if(e)for(let y=0,v=e.count;y<v;y+=3){const w=e.getX(y+0),_=e.getX(y+1),A=e.getX(y+2);i.fromBufferAttribute(t,w),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,A),p.subVectors(o,s),m.subVectors(i,s),p.cross(m),l.fromBufferAttribute(n,w),c.fromBufferAttribute(n,_),d.fromBufferAttribute(n,A),l.add(p),c.add(p),d.add(p),n.setXYZ(w,l.x,l.y,l.z),n.setXYZ(_,c.x,c.y,c.z),n.setXYZ(A,d.x,d.y,d.z)}else for(let y=0,v=t.count;y<v;y+=3)i.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),o.fromBufferAttribute(t,y+2),p.subVectors(o,s),m.subVectors(i,s),p.cross(m),n.setXYZ(y+0,p.x,p.y,p.z),n.setXYZ(y+1,p.x,p.y,p.z),n.setXYZ(y+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)kr.fromBufferAttribute(e,t),kr.normalize(),e.setXYZ(t,kr.x,kr.y,kr.z)}toNonIndexed(){function e(l,c){const d=l.array,p=l.itemSize,m=l.normalized,y=new d.constructor(c.length*p);let v=0,w=0;for(let _=0,A=c.length;_<A;_++){l.isInterleavedBufferAttribute?v=c[_]*l.data.stride+l.offset:v=c[_]*p;for(let b=0;b<p;b++)y[w++]=d[v++]}return new pn(y,p,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Jt,n=this.index.array,i=this.attributes;for(const l in i){const c=i[l],d=e(c,n);t.setAttribute(l,d)}const s=this.morphAttributes;for(const l in s){const c=[],d=s[l];for(let p=0,m=d.length;p<m;p++){const y=d[p],v=e(y,n);c.push(v)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const d=o[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const d=n[c];e.data.attributes[c]=d.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],p=[];for(let m=0,y=d.length;m<y;m++){const v=d[m];p.push(v.toJSON(e.data))}p.length>0&&(i[c]=p,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const d in i){const p=i[d];this.setAttribute(d,p.clone(t))}const s=e.morphAttributes;for(const d in s){const p=[],m=s[d];for(let y=0,v=m.length;y<v;y++)p.push(m[y].clone(t));this.morphAttributes[d]=p}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,p=o.length;d<p;d++){const m=o[d];this.addGroup(m.start,m.count,m.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const cS=new It,Kf=new Ld,pv=new nu,Kh=new W,Yh=new W,Qh=new W,mv=new W,yg=new W,vg=new Ie,xg=new Ie,_g=new Ie,gv=new W,wg=new W;class Nr extends on{constructor(e=new Jt,t=new ls){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(s&&l){yg.set(0,0,0);for(let c=0,d=s.length;c<d;c++){const p=l[c],m=s[c];p!==0&&(mv.fromBufferAttribute(m,e),o?yg.addScaledVector(mv,p):yg.addScaledVector(mv.sub(t),p))}t.add(yg)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const n=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),pv.copy(n.boundingSphere),pv.applyMatrix4(s),e.ray.intersectsSphere(pv)===!1)||(cS.copy(s).invert(),Kf.copy(e.ray).applyMatrix4(cS),n.boundingBox!==null&&Kf.intersectsBox(n.boundingBox)===!1))return;let o;const l=n.index,c=n.attributes.position,d=n.attributes.uv,p=n.attributes.uv2,m=n.groups,y=n.drawRange;if(l!==null)if(Array.isArray(i))for(let v=0,w=m.length;v<w;v++){const _=m[v],A=i[_.materialIndex],b=Math.max(_.start,y.start),E=Math.min(l.count,Math.min(_.start+_.count,y.start+y.count));for(let T=b,R=E;T<R;T+=3){const L=l.getX(T),O=l.getX(T+1),F=l.getX(T+2);o=Sg(this,A,e,Kf,d,p,L,O,F),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=_.materialIndex,t.push(o))}}else{const v=Math.max(0,y.start),w=Math.min(l.count,y.start+y.count);for(let _=v,A=w;_<A;_+=3){const b=l.getX(_),E=l.getX(_+1),T=l.getX(_+2);o=Sg(this,i,e,Kf,d,p,b,E,T),o&&(o.faceIndex=Math.floor(_/3),t.push(o))}}else if(c!==void 0)if(Array.isArray(i))for(let v=0,w=m.length;v<w;v++){const _=m[v],A=i[_.materialIndex],b=Math.max(_.start,y.start),E=Math.min(c.count,Math.min(_.start+_.count,y.start+y.count));for(let T=b,R=E;T<R;T+=3){const L=T,O=T+1,F=T+2;o=Sg(this,A,e,Kf,d,p,L,O,F),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=_.materialIndex,t.push(o))}}else{const v=Math.max(0,y.start),w=Math.min(c.count,y.start+y.count);for(let _=v,A=w;_<A;_+=3){const b=_,E=_+1,T=_+2;o=Sg(this,i,e,Kf,d,p,b,E,T),o&&(o.faceIndex=Math.floor(_/3),t.push(o))}}}}function zB(r,e,t,n,i,s,o,l){let c;if(e.side===us?c=n.intersectTriangle(o,s,i,!0,l):c=n.intersectTriangle(i,s,o,e.side===Va,l),c===null)return null;wg.copy(l),wg.applyMatrix4(r.matrixWorld);const d=t.ray.origin.distanceTo(wg);return d<t.near||d>t.far?null:{distance:d,point:wg.clone(),object:r}}function Sg(r,e,t,n,i,s,o,l,c){r.getVertexPosition(o,Kh),r.getVertexPosition(l,Yh),r.getVertexPosition(c,Qh);const d=zB(r,e,t,n,Kh,Yh,Qh,gv);if(d){i&&(vg.fromBufferAttribute(i,o),xg.fromBufferAttribute(i,l),_g.fromBufferAttribute(i,c),d.uv=Cs.getUV(gv,Kh,Yh,Qh,vg,xg,_g,new Ie)),s&&(vg.fromBufferAttribute(s,o),xg.fromBufferAttribute(s,l),_g.fromBufferAttribute(s,c),d.uv2=Cs.getUV(gv,Kh,Yh,Qh,vg,xg,_g,new Ie));const p={a:o,b:l,c,normal:new W,materialIndex:0};Cs.getNormal(Kh,Yh,Qh,p.normal),d.face=p}return d}class ru extends Jt{constructor(e=1,t=1,n=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:s,depthSegments:o};const l=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const c=[],d=[],p=[],m=[];let y=0,v=0;w("z","y","x",-1,-1,n,t,e,o,s,0),w("z","y","x",1,-1,n,t,-e,o,s,1),w("x","z","y",1,1,e,n,t,i,o,2),w("x","z","y",1,-1,e,n,-t,i,o,3),w("x","y","z",1,-1,e,t,n,i,s,4),w("x","y","z",-1,-1,e,t,-n,i,s,5),this.setIndex(c),this.setAttribute("position",new _t(d,3)),this.setAttribute("normal",new _t(p,3)),this.setAttribute("uv",new _t(m,2));function w(_,A,b,E,T,R,L,O,F,I,G){const V=R/F,q=L/I,ce=R/2,ee=L/2,Z=O/2,le=F+1,he=I+1;let de=0,z=0;const K=new W;for(let $=0;$<he;$++){const U=$*q-ee;for(let j=0;j<le;j++){const ge=j*V-ce;K[_]=ge*E,K[A]=U*T,K[b]=Z,d.push(K.x,K.y,K.z),K[_]=0,K[A]=0,K[b]=O>0?1:-1,p.push(K.x,K.y,K.z),m.push(j/F),m.push(1-$/I),de+=1}}for(let $=0;$<I;$++)for(let U=0;U<F;U++){const j=y+U+le*$,ge=y+U+le*($+1),_e=y+(U+1)+le*($+1),Pe=y+(U+1)+le*$;c.push(j,ge,Pe),c.push(ge,_e,Pe),z+=6}l.addGroup(v,z,G),v+=z,y+=de}}static fromJSON(e){return new ru(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ed(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function Ai(r){const e={};for(let t=0;t<r.length;t++){const n=Ed(r[t]);for(const i in n)e[i]=n[i]}return e}function UB(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function JE(r){return r.getRenderTarget()===null&&r.outputEncoding===Mn?uo:bd}const $E={clone:Ed,merge:Ai};var HB=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,GB=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ho extends yr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=HB,this.fragmentShader=GB,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ed(e.uniforms),this.uniformsGroups=UB(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Up extends on{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new It,this.projectionMatrix=new It,this.projectionMatrixInverse=new It}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class tr extends Up{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Mp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(yc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mp*2*Math.atan(Math.tan(yc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(yc*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,d=o.fullHeight;s+=o.offsetX*i/c,t-=o.offsetY*n/d,i*=o.width/c,n*=o.height/d}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Yf=-90,Qf=1;class XE extends on{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const i=new tr(Yf,Qf,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new tr(Yf,Qf,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new tr(Yf,Qf,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const l=new tr(Yf,Qf,e,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),this.add(l);const c=new tr(Yf,Qf,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,1),this.add(c);const d=new tr(Yf,Qf,e,t);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[i,s,o,l,c,d]=this.children,p=e.getRenderTarget(),m=e.toneMapping,y=e.xr.enabled;e.toneMapping=po,e.xr.enabled=!1;const v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,l),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=v,e.setRenderTarget(n,5),e.render(t,d),e.setRenderTarget(p),e.toneMapping=m,e.xr.enabled=y,n.texture.needsPMREMUpdate=!0}}class Hp extends Hn{constructor(e,t,n,i,s,o,l,c,d,p){e=e!==void 0?e:[],t=t!==void 0?t:Wl,super(e,t,n,i,s,o,l,c,d,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class KE extends Rs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Hp(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Jn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ru(5,5,5),s=new Ho({name:"CubemapFromEquirect",uniforms:Ed(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:us,blending:za});s.uniforms.tEquirect.value=t;const o=new Nr(i,s),l=t.minFilter;return t.minFilter===Uo&&(t.minFilter=Jn),new XE(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(s)}}const yv=new W,VB=new W,WB=new Ei;class Ia{constructor(e=new W(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=yv.subVectors(n,t).cross(VB.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(yv),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||WB.getNormalMatrix(e),i=this.coplanarPoint(yv).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const qf=new nu,Ag=new W;class $0{constructor(e=new Ia,t=new Ia,n=new Ia,i=new Ia,s=new Ia,o=new Ia){this.planes=[e,t,n,i,s,o]}set(e,t,n,i,s,o){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(i),l[4].copy(s),l[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],s=n[1],o=n[2],l=n[3],c=n[4],d=n[5],p=n[6],m=n[7],y=n[8],v=n[9],w=n[10],_=n[11],A=n[12],b=n[13],E=n[14],T=n[15];return t[0].setComponents(l-i,m-c,_-y,T-A).normalize(),t[1].setComponents(l+i,m+c,_+y,T+A).normalize(),t[2].setComponents(l+s,m+d,_+v,T+b).normalize(),t[3].setComponents(l-s,m-d,_-v,T-b).normalize(),t[4].setComponents(l-o,m-p,_-w,T-E).normalize(),t[5].setComponents(l+o,m+p,_+w,T+E).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),qf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(qf)}intersectsSprite(e){return qf.center.set(0,0,0),qf.radius=.7071067811865476,qf.applyMatrix4(e.matrixWorld),this.intersectsSphere(qf)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Ag.x=i.normal.x>0?e.max.x:e.min.x,Ag.y=i.normal.y>0?e.max.y:e.min.y,Ag.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ag)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function YE(){let r=null,e=!1,t=null,n=null;function i(s,o){t(s,o),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){r=s}}}function jB(r,e){const t=e.isWebGL2,n=new WeakMap;function i(d,p){const m=d.array,y=d.usage,v=r.createBuffer();r.bindBuffer(p,v),r.bufferData(p,m,y),d.onUploadCallback();let w;if(m instanceof Float32Array)w=5126;else if(m instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)w=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else w=5123;else if(m instanceof Int16Array)w=5122;else if(m instanceof Uint32Array)w=5125;else if(m instanceof Int32Array)w=5124;else if(m instanceof Int8Array)w=5120;else if(m instanceof Uint8Array)w=5121;else if(m instanceof Uint8ClampedArray)w=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:v,type:w,bytesPerElement:m.BYTES_PER_ELEMENT,version:d.version}}function s(d,p,m){const y=p.array,v=p.updateRange;r.bindBuffer(m,d),v.count===-1?r.bufferSubData(m,0,y):(t?r.bufferSubData(m,v.offset*y.BYTES_PER_ELEMENT,y,v.offset,v.count):r.bufferSubData(m,v.offset*y.BYTES_PER_ELEMENT,y.subarray(v.offset,v.offset+v.count)),v.count=-1),p.onUploadCallback()}function o(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function l(d){d.isInterleavedBufferAttribute&&(d=d.data);const p=n.get(d);p&&(r.deleteBuffer(p.buffer),n.delete(d))}function c(d,p){if(d.isGLBufferAttribute){const y=n.get(d);(!y||y.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const m=n.get(d);m===void 0?n.set(d,i(d,p)):m.version<d.version&&(s(m.buffer,d,p),m.version=d.version)}return{get:o,remove:l,update:c}}class Od extends Jt{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const s=e/2,o=t/2,l=Math.floor(n),c=Math.floor(i),d=l+1,p=c+1,m=e/l,y=t/c,v=[],w=[],_=[],A=[];for(let b=0;b<p;b++){const E=b*y-o;for(let T=0;T<d;T++){const R=T*m-s;w.push(R,-E,0),_.push(0,0,1),A.push(T/l),A.push(1-b/c)}}for(let b=0;b<c;b++)for(let E=0;E<l;E++){const T=E+d*b,R=E+d*(b+1),L=E+1+d*(b+1),O=E+1+d*b;v.push(T,R,O),v.push(R,L,O)}this.setIndex(v),this.setAttribute("position",new _t(w,3)),this.setAttribute("normal",new _t(_,3)),this.setAttribute("uv",new _t(A,2))}static fromJSON(e){return new Od(e.width,e.height,e.widthSegments,e.heightSegments)}}var JB=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,$B=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,XB=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,KB=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,YB=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,QB=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,qB="vec3 transformed = vec3( position );",ZB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,e3=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,t3=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,n3=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,r3=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,i3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,s3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,o3=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,a3=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,l3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,u3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,c3=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,f3=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,d3=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,h3=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,p3=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,m3=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,g3=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,y3=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,v3="gl_FragColor = linearToOutputTexel( gl_FragColor );",x3=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,_3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,w3=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,S3=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,A3=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,M3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,b3=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,E3=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,C3=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,T3=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,R3=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,P3=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,B3=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,I3=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,L3=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,D3=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,O3=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,k3=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,F3=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,N3=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,z3=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,U3=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,H3=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,G3=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,V3=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,W3=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,j3=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,J3=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,X3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,K3=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Y3=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Q3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,q3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Z3=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,eI=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,tI=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,nI=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,rI=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,iI=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,sI=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,oI=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,aI=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lI=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uI=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,cI=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,fI=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,dI=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,hI=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,pI=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,mI=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gI=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,yI=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vI=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xI=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_I=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,wI=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,SI=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,AI=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,MI=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bI=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,EI=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,CI=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,TI=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,RI=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,PI=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,BI=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,II=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,LI=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,DI=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,OI=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,kI=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,FI=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,NI=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,zI=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,UI=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,HI=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,GI=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,VI=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const WI=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,jI=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,JI=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$I=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,XI=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,KI=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,YI=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,QI=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,qI=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ZI=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,eL=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,tL=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nL=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rL=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,iL=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sL=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oL=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aL=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lL=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,uL=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cL=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fL=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,dL=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hL=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pL=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,mL=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gL=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yL=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vL=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,xL=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_L=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wL=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,SL=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,AL=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Xt={alphamap_fragment:JB,alphamap_pars_fragment:$B,alphatest_fragment:XB,alphatest_pars_fragment:KB,aomap_fragment:YB,aomap_pars_fragment:QB,begin_vertex:qB,beginnormal_vertex:ZB,bsdfs:e3,iridescence_fragment:t3,bumpmap_pars_fragment:n3,clipping_planes_fragment:r3,clipping_planes_pars_fragment:i3,clipping_planes_pars_vertex:s3,clipping_planes_vertex:o3,color_fragment:a3,color_pars_fragment:l3,color_pars_vertex:u3,color_vertex:c3,common:f3,cube_uv_reflection_fragment:d3,defaultnormal_vertex:h3,displacementmap_pars_vertex:p3,displacementmap_vertex:m3,emissivemap_fragment:g3,emissivemap_pars_fragment:y3,encodings_fragment:v3,encodings_pars_fragment:x3,envmap_fragment:_3,envmap_common_pars_fragment:w3,envmap_pars_fragment:S3,envmap_pars_vertex:A3,envmap_physical_pars_fragment:O3,envmap_vertex:M3,fog_vertex:b3,fog_pars_vertex:E3,fog_fragment:C3,fog_pars_fragment:T3,gradientmap_pars_fragment:R3,lightmap_fragment:P3,lightmap_pars_fragment:B3,lights_lambert_fragment:I3,lights_lambert_pars_fragment:L3,lights_pars_begin:D3,lights_toon_fragment:k3,lights_toon_pars_fragment:F3,lights_phong_fragment:N3,lights_phong_pars_fragment:z3,lights_physical_fragment:U3,lights_physical_pars_fragment:H3,lights_fragment_begin:G3,lights_fragment_maps:V3,lights_fragment_end:W3,logdepthbuf_fragment:j3,logdepthbuf_pars_fragment:J3,logdepthbuf_pars_vertex:$3,logdepthbuf_vertex:X3,map_fragment:K3,map_pars_fragment:Y3,map_particle_fragment:Q3,map_particle_pars_fragment:q3,metalnessmap_fragment:Z3,metalnessmap_pars_fragment:eI,morphcolor_vertex:tI,morphnormal_vertex:nI,morphtarget_pars_vertex:rI,morphtarget_vertex:iI,normal_fragment_begin:sI,normal_fragment_maps:oI,normal_pars_fragment:aI,normal_pars_vertex:lI,normal_vertex:uI,normalmap_pars_fragment:cI,clearcoat_normal_fragment_begin:fI,clearcoat_normal_fragment_maps:dI,clearcoat_pars_fragment:hI,iridescence_pars_fragment:pI,output_fragment:mI,packing:gI,premultiplied_alpha_fragment:yI,project_vertex:vI,dithering_fragment:xI,dithering_pars_fragment:_I,roughnessmap_fragment:wI,roughnessmap_pars_fragment:SI,shadowmap_pars_fragment:AI,shadowmap_pars_vertex:MI,shadowmap_vertex:bI,shadowmask_pars_fragment:EI,skinbase_vertex:CI,skinning_pars_vertex:TI,skinning_vertex:RI,skinnormal_vertex:PI,specularmap_fragment:BI,specularmap_pars_fragment:II,tonemapping_fragment:LI,tonemapping_pars_fragment:DI,transmission_fragment:OI,transmission_pars_fragment:kI,uv_pars_fragment:FI,uv_pars_vertex:NI,uv_vertex:zI,uv2_pars_fragment:UI,uv2_pars_vertex:HI,uv2_vertex:GI,worldpos_vertex:VI,background_vert:WI,background_frag:jI,backgroundCube_vert:JI,backgroundCube_frag:$I,cube_vert:XI,cube_frag:KI,depth_vert:YI,depth_frag:QI,distanceRGBA_vert:qI,distanceRGBA_frag:ZI,equirect_vert:eL,equirect_frag:tL,linedashed_vert:nL,linedashed_frag:rL,meshbasic_vert:iL,meshbasic_frag:sL,meshlambert_vert:oL,meshlambert_frag:aL,meshmatcap_vert:lL,meshmatcap_frag:uL,meshnormal_vert:cL,meshnormal_frag:fL,meshphong_vert:dL,meshphong_frag:hL,meshphysical_vert:pL,meshphysical_frag:mL,meshtoon_vert:gL,meshtoon_frag:yL,points_vert:vL,points_frag:xL,shadow_vert:_L,shadow_frag:wL,sprite_vert:SL,sprite_frag:AL},qe={common:{diffuse:{value:new tt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ei},uv2Transform:{value:new Ei},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ei}},sprite:{diffuse:{value:new tt(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ei}}},co={basic:{uniforms:Ai([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:Xt.meshbasic_vert,fragmentShader:Xt.meshbasic_frag},lambert:{uniforms:Ai([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new tt(0)}}]),vertexShader:Xt.meshlambert_vert,fragmentShader:Xt.meshlambert_frag},phong:{uniforms:Ai([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new tt(0)},specular:{value:new tt(1118481)},shininess:{value:30}}]),vertexShader:Xt.meshphong_vert,fragmentShader:Xt.meshphong_frag},standard:{uniforms:Ai([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag},toon:{uniforms:Ai([qe.common,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new tt(0)}}]),vertexShader:Xt.meshtoon_vert,fragmentShader:Xt.meshtoon_frag},matcap:{uniforms:Ai([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:Xt.meshmatcap_vert,fragmentShader:Xt.meshmatcap_frag},points:{uniforms:Ai([qe.points,qe.fog]),vertexShader:Xt.points_vert,fragmentShader:Xt.points_frag},dashed:{uniforms:Ai([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xt.linedashed_vert,fragmentShader:Xt.linedashed_frag},depth:{uniforms:Ai([qe.common,qe.displacementmap]),vertexShader:Xt.depth_vert,fragmentShader:Xt.depth_frag},normal:{uniforms:Ai([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:Xt.meshnormal_vert,fragmentShader:Xt.meshnormal_frag},sprite:{uniforms:Ai([qe.sprite,qe.fog]),vertexShader:Xt.sprite_vert,fragmentShader:Xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ei},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Xt.background_vert,fragmentShader:Xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Xt.backgroundCube_vert,fragmentShader:Xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Xt.cube_vert,fragmentShader:Xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xt.equirect_vert,fragmentShader:Xt.equirect_frag},distanceRGBA:{uniforms:Ai([qe.common,qe.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xt.distanceRGBA_vert,fragmentShader:Xt.distanceRGBA_frag},shadow:{uniforms:Ai([qe.lights,qe.fog,{color:{value:new tt(0)},opacity:{value:1}}]),vertexShader:Xt.shadow_vert,fragmentShader:Xt.shadow_frag}};co.physical={uniforms:Ai([co.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new tt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new tt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new tt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag};const Mg={r:0,b:0,g:0};function ML(r,e,t,n,i,s,o){const l=new tt(0);let c=s===!0?0:1,d,p,m=null,y=0,v=null;function w(A,b){let E=!1,T=b.isScene===!0?b.background:null;T&&T.isTexture&&(T=(b.backgroundBlurriness>0?t:e).get(T));const R=r.xr,L=R.getSession&&R.getSession();L&&L.environmentBlendMode==="additive"&&(T=null),T===null?_(l,c):T&&T.isColor&&(_(T,1),E=!0),(r.autoClear||E)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),T&&(T.isCubeTexture||T.mapping===Id)?(p===void 0&&(p=new Nr(new ru(1,1,1),new Ho({name:"BackgroundCubeMaterial",uniforms:Ed(co.backgroundCube.uniforms),vertexShader:co.backgroundCube.vertexShader,fragmentShader:co.backgroundCube.fragmentShader,side:us,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(O,F,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(p)),p.material.uniforms.envMap.value=T,p.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,p.material.toneMapped=T.encoding!==Mn,(m!==T||y!==T.version||v!==r.toneMapping)&&(p.material.needsUpdate=!0,m=T,y=T.version,v=r.toneMapping),p.layers.enableAll(),A.unshift(p,p.geometry,p.material,0,0,null)):T&&T.isTexture&&(d===void 0&&(d=new Nr(new Od(2,2),new Ho({name:"BackgroundMaterial",uniforms:Ed(co.background.uniforms),vertexShader:co.background.vertexShader,fragmentShader:co.background.fragmentShader,side:Va,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(d)),d.material.uniforms.t2D.value=T,d.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,d.material.toneMapped=T.encoding!==Mn,T.matrixAutoUpdate===!0&&T.updateMatrix(),d.material.uniforms.uvTransform.value.copy(T.matrix),(m!==T||y!==T.version||v!==r.toneMapping)&&(d.material.needsUpdate=!0,m=T,y=T.version,v=r.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null))}function _(A,b){A.getRGB(Mg,JE(r)),n.buffers.color.setClear(Mg.r,Mg.g,Mg.b,b,o)}return{getClearColor:function(){return l},setClearColor:function(A,b=1){l.set(A),c=b,_(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(A){c=A,_(l,c)},render:w}}function bL(r,e,t,n){const i=r.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||s!==null,l={},c=A(null);let d=c,p=!1;function m(Z,le,he,de,z){let K=!1;if(o){const $=_(de,he,le);d!==$&&(d=$,v(d.object)),K=b(Z,de,he,z),K&&E(Z,de,he,z)}else{const $=le.wireframe===!0;(d.geometry!==de.id||d.program!==he.id||d.wireframe!==$)&&(d.geometry=de.id,d.program=he.id,d.wireframe=$,K=!0)}z!==null&&t.update(z,34963),(K||p)&&(p=!1,I(Z,le,he,de),z!==null&&r.bindBuffer(34963,t.get(z).buffer))}function y(){return n.isWebGL2?r.createVertexArray():s.createVertexArrayOES()}function v(Z){return n.isWebGL2?r.bindVertexArray(Z):s.bindVertexArrayOES(Z)}function w(Z){return n.isWebGL2?r.deleteVertexArray(Z):s.deleteVertexArrayOES(Z)}function _(Z,le,he){const de=he.wireframe===!0;let z=l[Z.id];z===void 0&&(z={},l[Z.id]=z);let K=z[le.id];K===void 0&&(K={},z[le.id]=K);let $=K[de];return $===void 0&&($=A(y()),K[de]=$),$}function A(Z){const le=[],he=[],de=[];for(let z=0;z<i;z++)le[z]=0,he[z]=0,de[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:le,enabledAttributes:he,attributeDivisors:de,object:Z,attributes:{},index:null}}function b(Z,le,he,de){const z=d.attributes,K=le.attributes;let $=0;const U=he.getAttributes();for(const j in U)if(U[j].location>=0){const _e=z[j];let Pe=K[j];if(Pe===void 0&&(j==="instanceMatrix"&&Z.instanceMatrix&&(Pe=Z.instanceMatrix),j==="instanceColor"&&Z.instanceColor&&(Pe=Z.instanceColor)),_e===void 0||_e.attribute!==Pe||Pe&&_e.data!==Pe.data)return!0;$++}return d.attributesNum!==$||d.index!==de}function E(Z,le,he,de){const z={},K=le.attributes;let $=0;const U=he.getAttributes();for(const j in U)if(U[j].location>=0){let _e=K[j];_e===void 0&&(j==="instanceMatrix"&&Z.instanceMatrix&&(_e=Z.instanceMatrix),j==="instanceColor"&&Z.instanceColor&&(_e=Z.instanceColor));const Pe={};Pe.attribute=_e,_e&&_e.data&&(Pe.data=_e.data),z[j]=Pe,$++}d.attributes=z,d.attributesNum=$,d.index=de}function T(){const Z=d.newAttributes;for(let le=0,he=Z.length;le<he;le++)Z[le]=0}function R(Z){L(Z,0)}function L(Z,le){const he=d.newAttributes,de=d.enabledAttributes,z=d.attributeDivisors;he[Z]=1,de[Z]===0&&(r.enableVertexAttribArray(Z),de[Z]=1),z[Z]!==le&&((n.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Z,le),z[Z]=le)}function O(){const Z=d.newAttributes,le=d.enabledAttributes;for(let he=0,de=le.length;he<de;he++)le[he]!==Z[he]&&(r.disableVertexAttribArray(he),le[he]=0)}function F(Z,le,he,de,z,K){n.isWebGL2===!0&&(he===5124||he===5125)?r.vertexAttribIPointer(Z,le,he,z,K):r.vertexAttribPointer(Z,le,he,de,z,K)}function I(Z,le,he,de){if(n.isWebGL2===!1&&(Z.isInstancedMesh||de.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;T();const z=de.attributes,K=he.getAttributes(),$=le.defaultAttributeValues;for(const U in K){const j=K[U];if(j.location>=0){let ge=z[U];if(ge===void 0&&(U==="instanceMatrix"&&Z.instanceMatrix&&(ge=Z.instanceMatrix),U==="instanceColor"&&Z.instanceColor&&(ge=Z.instanceColor)),ge!==void 0){const _e=ge.normalized,Pe=ge.itemSize,fe=t.get(ge);if(fe===void 0)continue;const Ve=fe.buffer,ke=fe.type,Ye=fe.bytesPerElement;if(ge.isInterleavedBufferAttribute){const Ue=ge.data,ht=Ue.stride,Te=ge.offset;if(Ue.isInstancedInterleavedBuffer){for(let Ae=0;Ae<j.locationSize;Ae++)L(j.location+Ae,Ue.meshPerAttribute);Z.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=Ue.meshPerAttribute*Ue.count)}else for(let Ae=0;Ae<j.locationSize;Ae++)R(j.location+Ae);r.bindBuffer(34962,Ve);for(let Ae=0;Ae<j.locationSize;Ae++)F(j.location+Ae,Pe/j.locationSize,ke,_e,ht*Ye,(Te+Pe/j.locationSize*Ae)*Ye)}else{if(ge.isInstancedBufferAttribute){for(let Ue=0;Ue<j.locationSize;Ue++)L(j.location+Ue,ge.meshPerAttribute);Z.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let Ue=0;Ue<j.locationSize;Ue++)R(j.location+Ue);r.bindBuffer(34962,Ve);for(let Ue=0;Ue<j.locationSize;Ue++)F(j.location+Ue,Pe/j.locationSize,ke,_e,Pe*Ye,Pe/j.locationSize*Ue*Ye)}}else if($!==void 0){const _e=$[U];if(_e!==void 0)switch(_e.length){case 2:r.vertexAttrib2fv(j.location,_e);break;case 3:r.vertexAttrib3fv(j.location,_e);break;case 4:r.vertexAttrib4fv(j.location,_e);break;default:r.vertexAttrib1fv(j.location,_e)}}}}O()}function G(){ce();for(const Z in l){const le=l[Z];for(const he in le){const de=le[he];for(const z in de)w(de[z].object),delete de[z];delete le[he]}delete l[Z]}}function V(Z){if(l[Z.id]===void 0)return;const le=l[Z.id];for(const he in le){const de=le[he];for(const z in de)w(de[z].object),delete de[z];delete le[he]}delete l[Z.id]}function q(Z){for(const le in l){const he=l[le];if(he[Z.id]===void 0)continue;const de=he[Z.id];for(const z in de)w(de[z].object),delete de[z];delete he[Z.id]}}function ce(){ee(),p=!0,d!==c&&(d=c,v(d.object))}function ee(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:m,reset:ce,resetDefaultState:ee,dispose:G,releaseStatesOfGeometry:V,releaseStatesOfProgram:q,initAttributes:T,enableAttribute:R,disableUnusedAttributes:O}}function EL(r,e,t,n){const i=n.isWebGL2;let s;function o(d){s=d}function l(d,p){r.drawArrays(s,d,p),t.update(p,s,1)}function c(d,p,m){if(m===0)return;let y,v;if(i)y=r,v="drawArraysInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](s,d,p,m),t.update(p,s,m)}this.setMode=o,this.render=l,this.renderInstances=c}function CL(r,e,t){let n;function i(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");n=r.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(F){if(F==="highp"){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";F="mediump"}return F==="mediump"&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&r instanceof WebGL2ComputeRenderingContext;let l=t.precision!==void 0?t.precision:"highp";const c=s(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);const d=o||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,m=r.getParameter(34930),y=r.getParameter(35660),v=r.getParameter(3379),w=r.getParameter(34076),_=r.getParameter(34921),A=r.getParameter(36347),b=r.getParameter(36348),E=r.getParameter(36349),T=y>0,R=o||e.has("OES_texture_float"),L=T&&R,O=o?r.getParameter(36183):0;return{isWebGL2:o,drawBuffers:d,getMaxAnisotropy:i,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:p,maxTextures:m,maxVertexTextures:y,maxTextureSize:v,maxCubemapSize:w,maxAttributes:_,maxVertexUniforms:A,maxVaryings:b,maxFragmentUniforms:E,vertexTextures:T,floatFragmentTextures:R,floatVertexTextures:L,maxSamples:O}}function TL(r){const e=this;let t=null,n=0,i=!1,s=!1;const o=new Ia,l=new Ei,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(m,y,v){const w=m.length!==0||y||n!==0||i;return i=y,t=p(m,v,0),n=m.length,w},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1,d()},this.setState=function(m,y,v){const w=m.clippingPlanes,_=m.clipIntersection,A=m.clipShadows,b=r.get(m);if(!i||w===null||w.length===0||s&&!A)s?p(null):d();else{const E=s?0:n,T=E*4;let R=b.clippingState||null;c.value=R,R=p(w,y,T,v);for(let L=0;L!==T;++L)R[L]=t[L];b.clippingState=R,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=E}};function d(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(m,y,v,w){const _=m!==null?m.length:0;let A=null;if(_!==0){if(A=c.value,w!==!0||A===null){const b=v+_*4,E=y.matrixWorldInverse;l.getNormalMatrix(E),(A===null||A.length<b)&&(A=new Float32Array(b));for(let T=0,R=v;T!==_;++T,R+=4)o.copy(m[T]).applyMatrix4(E,l),o.normal.toArray(A,R),A[R+3]=o.constant}c.value=A,c.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,A}}function RL(r){let e=new WeakMap;function t(o,l){return l===xp?o.mapping=Wl:l===_p&&(o.mapping=jl),o}function n(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const l=o.mapping;if(l===xp||l===_p)if(e.has(o)){const c=e.get(o).texture;return t(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const d=new KE(c.height/2);return d.fromEquirectangularTexture(r,o),e.set(o,d),o.addEventListener("dispose",i),t(d.texture,o.mapping)}else return null}}return o}function i(o){const l=o.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class Ua extends Up{constructor(e=-1,t=1,n=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-e,o=n+e,l=i+t,c=i-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,o=s+d*this.view.width,l-=p*this.view.offsetY,c=l-p*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hd=4,fS=[.125,.215,.35,.446,.526,.582],lc=20,vv=new Ua,dS=new tt;let xv=null;const oc=(1+Math.sqrt(5))/2,Zf=1/oc,hS=[new W(1,1,1),new W(-1,1,1),new W(1,1,-1),new W(-1,1,-1),new W(0,oc,Zf),new W(0,oc,-Zf),new W(Zf,0,oc),new W(-Zf,0,oc),new W(oc,Zf,0),new W(-oc,Zf,0)];class i_{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){xv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=gS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=mS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(xv),e.scissorTest=!1,bg(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Wl||e.mapping===jl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),xv=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Jn,minFilter:Jn,generateMipmaps:!1,type:Ad,format:as,encoding:Wa,depthBuffer:!1},i=pS(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=pS(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=PL(s)),this._blurMaterial=BL(s,e,t)}return i}_compileMaterial(e){const t=new Nr(this._lodPlanes[0],e);this._renderer.compile(t,vv)}_sceneToCubeUV(e,t,n,i){const l=new tr(90,1,t,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],p=this._renderer,m=p.autoClear,y=p.toneMapping;p.getClearColor(dS),p.toneMapping=po,p.autoClear=!1;const v=new ls({name:"PMREM.Background",side:us,depthWrite:!1,depthTest:!1}),w=new Nr(new ru,v);let _=!1;const A=e.background;A?A.isColor&&(v.color.copy(A),e.background=null,_=!0):(v.color.copy(dS),_=!0);for(let b=0;b<6;b++){const E=b%3;E===0?(l.up.set(0,c[b],0),l.lookAt(d[b],0,0)):E===1?(l.up.set(0,0,c[b]),l.lookAt(0,d[b],0)):(l.up.set(0,c[b],0),l.lookAt(0,0,d[b]));const T=this._cubeSize;bg(i,E*T,b>2?T:0,T,T),p.setRenderTarget(i),_&&p.render(w,l),p.render(e,l)}w.geometry.dispose(),w.material.dispose(),p.toneMapping=y,p.autoClear=m,e.background=A}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Wl||e.mapping===jl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=gS()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=mS());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Nr(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const c=this._cubeSize;bg(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(o,vv)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=hS[(i-1)%hS.length];this._blur(e,i-1,i,s,o)}t.autoClear=n}_blur(e,t,n,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",s),this._halfBlur(o,e,n,n,i,"longitudinal",s)}_halfBlur(e,t,n,i,s,o,l){const c=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,m=new Nr(this._lodPlanes[i],d),y=d.uniforms,v=this._sizeLods[n]-1,w=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*lc-1),_=s/w,A=isFinite(s)?1+Math.floor(p*_):lc;A>lc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${lc}`);const b=[];let E=0;for(let F=0;F<lc;++F){const I=F/_,G=Math.exp(-I*I/2);b.push(G),F===0?E+=G:F<A&&(E+=2*G)}for(let F=0;F<b.length;F++)b[F]=b[F]/E;y.envMap.value=e.texture,y.samples.value=A,y.weights.value=b,y.latitudinal.value=o==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:T}=this;y.dTheta.value=w,y.mipInt.value=T-n;const R=this._sizeLods[i],L=3*R*(i>T-hd?i-T+hd:0),O=4*(this._cubeSize-R);bg(t,L,O,3*R,2*R),c.setRenderTarget(t),c.render(m,vv)}}function PL(r){const e=[],t=[],n=[];let i=r;const s=r-hd+1+fS.length;for(let o=0;o<s;o++){const l=Math.pow(2,i);t.push(l);let c=1/l;o>r-hd?c=fS[o-r+hd-1]:o===0&&(c=0),n.push(c);const d=1/(l-2),p=-d,m=1+d,y=[p,p,m,p,m,m,p,p,m,m,p,m],v=6,w=6,_=3,A=2,b=1,E=new Float32Array(_*w*v),T=new Float32Array(A*w*v),R=new Float32Array(b*w*v);for(let O=0;O<v;O++){const F=O%3*2/3-1,I=O>2?0:-1,G=[F,I,0,F+2/3,I,0,F+2/3,I+1,0,F,I,0,F+2/3,I+1,0,F,I+1,0];E.set(G,_*w*O),T.set(y,A*w*O);const V=[O,O,O,O,O,O];R.set(V,b*w*O)}const L=new Jt;L.setAttribute("position",new pn(E,_)),L.setAttribute("uv",new pn(T,A)),L.setAttribute("faceIndex",new pn(R,b)),e.push(L),i>hd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function pS(r,e,t){const n=new Rs(r,e,t);return n.texture.mapping=Id,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function bg(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function BL(r,e,t){const n=new Float32Array(lc),i=new W(0,1,0);return new Ho({name:"SphericalGaussianBlur",defines:{n:lc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:t1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function mS(){return new Ho({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:t1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function gS(){return new Ho({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:t1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function t1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function IL(r){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const c=l.mapping,d=c===xp||c===_p,p=c===Wl||c===jl;if(d||p)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let m=e.get(l);return t===null&&(t=new i_(r)),m=d?t.fromEquirectangular(l,m):t.fromCubemap(l,m),e.set(l,m),m.texture}else{if(e.has(l))return e.get(l).texture;{const m=l.image;if(d&&m&&m.height>0||p&&m&&i(m)){t===null&&(t=new i_(r));const y=d?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,y),l.addEventListener("dispose",s),y.texture}else return null}}}return l}function i(l){let c=0;const d=6;for(let p=0;p<d;p++)l[p]!==void 0&&c++;return c===d}function s(l){const c=l.target;c.removeEventListener("dispose",s);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function LL(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const i=t(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function DL(r,e,t,n){const i={},s=new WeakMap;function o(m){const y=m.target;y.index!==null&&e.remove(y.index);for(const w in y.attributes)e.remove(y.attributes[w]);y.removeEventListener("dispose",o),delete i[y.id];const v=s.get(y);v&&(e.remove(v),s.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function l(m,y){return i[y.id]===!0||(y.addEventListener("dispose",o),i[y.id]=!0,t.memory.geometries++),y}function c(m){const y=m.attributes;for(const w in y)e.update(y[w],34962);const v=m.morphAttributes;for(const w in v){const _=v[w];for(let A=0,b=_.length;A<b;A++)e.update(_[A],34962)}}function d(m){const y=[],v=m.index,w=m.attributes.position;let _=0;if(v!==null){const E=v.array;_=v.version;for(let T=0,R=E.length;T<R;T+=3){const L=E[T+0],O=E[T+1],F=E[T+2];y.push(L,O,O,F,F,L)}}else{const E=w.array;_=w.version;for(let T=0,R=E.length/3-1;T<R;T+=3){const L=T+0,O=T+1,F=T+2;y.push(L,O,O,F,F,L)}}const A=new(WE(y)?e1:Z_)(y,1);A.version=_;const b=s.get(m);b&&e.remove(b),s.set(m,A)}function p(m){const y=s.get(m);if(y){const v=m.index;v!==null&&y.version<v.version&&d(m)}else d(m);return s.get(m)}return{get:l,update:c,getWireframeAttribute:p}}function OL(r,e,t,n){const i=n.isWebGL2;let s;function o(y){s=y}let l,c;function d(y){l=y.type,c=y.bytesPerElement}function p(y,v){r.drawElements(s,v,l,y*c),t.update(v,s,1)}function m(y,v,w){if(w===0)return;let _,A;if(i)_=r,A="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[A](s,v,l,y*c,w),t.update(v,s,w)}this.setMode=o,this.setIndex=d,this.render=p,this.renderInstances=m}function kL(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,l){switch(t.calls++,o){case 4:t.triangles+=l*(s/3);break;case 1:t.lines+=l*(s/2);break;case 3:t.lines+=l*(s-1);break;case 2:t.lines+=l*s;break;case 0:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function FL(r,e){return r[0]-e[0]}function NL(r,e){return Math.abs(e[1])-Math.abs(r[1])}function zL(r,e,t){const n={},i=new Float32Array(8),s=new WeakMap,o=new xn,l=[];for(let d=0;d<8;d++)l[d]=[d,0];function c(d,p,m,y){const v=d.morphTargetInfluences;if(e.isWebGL2===!0){const _=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,A=_!==void 0?_.length:0;let b=s.get(p);if(b===void 0||b.count!==A){let he=function(){Z.dispose(),s.delete(p),p.removeEventListener("dispose",he)};var w=he;b!==void 0&&b.texture.dispose();const R=p.morphAttributes.position!==void 0,L=p.morphAttributes.normal!==void 0,O=p.morphAttributes.color!==void 0,F=p.morphAttributes.position||[],I=p.morphAttributes.normal||[],G=p.morphAttributes.color||[];let V=0;R===!0&&(V=1),L===!0&&(V=2),O===!0&&(V=3);let q=p.attributes.position.count*V,ce=1;q>e.maxTextureSize&&(ce=Math.ceil(q/e.maxTextureSize),q=e.maxTextureSize);const ee=new Float32Array(q*ce*4*A),Z=new zp(ee,q,ce,A);Z.type=Fa,Z.needsUpdate=!0;const le=V*4;for(let de=0;de<A;de++){const z=F[de],K=I[de],$=G[de],U=q*ce*4*de;for(let j=0;j<z.count;j++){const ge=j*le;R===!0&&(o.fromBufferAttribute(z,j),ee[U+ge+0]=o.x,ee[U+ge+1]=o.y,ee[U+ge+2]=o.z,ee[U+ge+3]=0),L===!0&&(o.fromBufferAttribute(K,j),ee[U+ge+4]=o.x,ee[U+ge+5]=o.y,ee[U+ge+6]=o.z,ee[U+ge+7]=0),O===!0&&(o.fromBufferAttribute($,j),ee[U+ge+8]=o.x,ee[U+ge+9]=o.y,ee[U+ge+10]=o.z,ee[U+ge+11]=$.itemSize===4?o.w:1)}}b={count:A,texture:Z,size:new Ie(q,ce)},s.set(p,b),p.addEventListener("dispose",he)}let E=0;for(let R=0;R<v.length;R++)E+=v[R];const T=p.morphTargetsRelative?1:1-E;y.getUniforms().setValue(r,"morphTargetBaseInfluence",T),y.getUniforms().setValue(r,"morphTargetInfluences",v),y.getUniforms().setValue(r,"morphTargetsTexture",b.texture,t),y.getUniforms().setValue(r,"morphTargetsTextureSize",b.size)}else{const _=v===void 0?0:v.length;let A=n[p.id];if(A===void 0||A.length!==_){A=[];for(let L=0;L<_;L++)A[L]=[L,0];n[p.id]=A}for(let L=0;L<_;L++){const O=A[L];O[0]=L,O[1]=v[L]}A.sort(NL);for(let L=0;L<8;L++)L<_&&A[L][1]?(l[L][0]=A[L][0],l[L][1]=A[L][1]):(l[L][0]=Number.MAX_SAFE_INTEGER,l[L][1]=0);l.sort(FL);const b=p.morphAttributes.position,E=p.morphAttributes.normal;let T=0;for(let L=0;L<8;L++){const O=l[L],F=O[0],I=O[1];F!==Number.MAX_SAFE_INTEGER&&I?(b&&p.getAttribute("morphTarget"+L)!==b[F]&&p.setAttribute("morphTarget"+L,b[F]),E&&p.getAttribute("morphNormal"+L)!==E[F]&&p.setAttribute("morphNormal"+L,E[F]),i[L]=I,T+=I):(b&&p.hasAttribute("morphTarget"+L)===!0&&p.deleteAttribute("morphTarget"+L),E&&p.hasAttribute("morphNormal"+L)===!0&&p.deleteAttribute("morphNormal"+L),i[L]=0)}const R=p.morphTargetsRelative?1:1-T;y.getUniforms().setValue(r,"morphTargetBaseInfluence",R),y.getUniforms().setValue(r,"morphTargetInfluences",i)}}return{update:c}}function UL(r,e,t,n){let i=new WeakMap;function s(c){const d=n.render.frame,p=c.geometry,m=e.get(c,p);return i.get(m)!==d&&(e.update(m),i.set(m,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),t.update(c.instanceMatrix,34962),c.instanceColor!==null&&t.update(c.instanceColor,34962)),m}function o(){i=new WeakMap}function l(c){const d=c.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:s,dispose:o}}const QE=new Hn,qE=new zp,ZE=new J0,eC=new Hp,yS=[],vS=[],xS=new Float32Array(16),_S=new Float32Array(9),wS=new Float32Array(4);function kd(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let s=yS[i];if(s===void 0&&(s=new Float32Array(i),yS[i]=s),e!==0){n.toArray(s,0);for(let o=1,l=0;o!==e;++o)l+=t,r[o].toArray(s,l)}return s}function Tr(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function Rr(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function X0(r,e){let t=vS[e];t===void 0&&(t=new Int32Array(e),vS[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function HL(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function GL(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Tr(t,e))return;r.uniform2fv(this.addr,e),Rr(t,e)}}function VL(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Tr(t,e))return;r.uniform3fv(this.addr,e),Rr(t,e)}}function WL(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Tr(t,e))return;r.uniform4fv(this.addr,e),Rr(t,e)}}function jL(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Tr(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),Rr(t,e)}else{if(Tr(t,n))return;wS.set(n),r.uniformMatrix2fv(this.addr,!1,wS),Rr(t,n)}}function JL(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Tr(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),Rr(t,e)}else{if(Tr(t,n))return;_S.set(n),r.uniformMatrix3fv(this.addr,!1,_S),Rr(t,n)}}function $L(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Tr(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),Rr(t,e)}else{if(Tr(t,n))return;xS.set(n),r.uniformMatrix4fv(this.addr,!1,xS),Rr(t,n)}}function XL(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function KL(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Tr(t,e))return;r.uniform2iv(this.addr,e),Rr(t,e)}}function YL(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Tr(t,e))return;r.uniform3iv(this.addr,e),Rr(t,e)}}function QL(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Tr(t,e))return;r.uniform4iv(this.addr,e),Rr(t,e)}}function qL(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function ZL(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Tr(t,e))return;r.uniform2uiv(this.addr,e),Rr(t,e)}}function eD(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Tr(t,e))return;r.uniform3uiv(this.addr,e),Rr(t,e)}}function tD(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Tr(t,e))return;r.uniform4uiv(this.addr,e),Rr(t,e)}}function nD(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2D(e||QE,i)}function rD(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||ZE,i)}function iD(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||eC,i)}function sD(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||qE,i)}function oD(r){switch(r){case 5126:return HL;case 35664:return GL;case 35665:return VL;case 35666:return WL;case 35674:return jL;case 35675:return JL;case 35676:return $L;case 5124:case 35670:return XL;case 35667:case 35671:return KL;case 35668:case 35672:return YL;case 35669:case 35673:return QL;case 5125:return qL;case 36294:return ZL;case 36295:return eD;case 36296:return tD;case 35678:case 36198:case 36298:case 36306:case 35682:return nD;case 35679:case 36299:case 36307:return rD;case 35680:case 36300:case 36308:case 36293:return iD;case 36289:case 36303:case 36311:case 36292:return sD}}function aD(r,e){r.uniform1fv(this.addr,e)}function lD(r,e){const t=kd(e,this.size,2);r.uniform2fv(this.addr,t)}function uD(r,e){const t=kd(e,this.size,3);r.uniform3fv(this.addr,t)}function cD(r,e){const t=kd(e,this.size,4);r.uniform4fv(this.addr,t)}function fD(r,e){const t=kd(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function dD(r,e){const t=kd(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function hD(r,e){const t=kd(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function pD(r,e){r.uniform1iv(this.addr,e)}function mD(r,e){r.uniform2iv(this.addr,e)}function gD(r,e){r.uniform3iv(this.addr,e)}function yD(r,e){r.uniform4iv(this.addr,e)}function vD(r,e){r.uniform1uiv(this.addr,e)}function xD(r,e){r.uniform2uiv(this.addr,e)}function _D(r,e){r.uniform3uiv(this.addr,e)}function wD(r,e){r.uniform4uiv(this.addr,e)}function SD(r,e,t){const n=this.cache,i=e.length,s=X0(t,i);Tr(n,s)||(r.uniform1iv(this.addr,s),Rr(n,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||QE,s[o])}function AD(r,e,t){const n=this.cache,i=e.length,s=X0(t,i);Tr(n,s)||(r.uniform1iv(this.addr,s),Rr(n,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||ZE,s[o])}function MD(r,e,t){const n=this.cache,i=e.length,s=X0(t,i);Tr(n,s)||(r.uniform1iv(this.addr,s),Rr(n,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||eC,s[o])}function bD(r,e,t){const n=this.cache,i=e.length,s=X0(t,i);Tr(n,s)||(r.uniform1iv(this.addr,s),Rr(n,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||qE,s[o])}function ED(r){switch(r){case 5126:return aD;case 35664:return lD;case 35665:return uD;case 35666:return cD;case 35674:return fD;case 35675:return dD;case 35676:return hD;case 5124:case 35670:return pD;case 35667:case 35671:return mD;case 35668:case 35672:return gD;case 35669:case 35673:return yD;case 5125:return vD;case 36294:return xD;case 36295:return _D;case 36296:return wD;case 35678:case 36198:case 36298:case 36306:case 35682:return SD;case 35679:case 36299:case 36307:return AD;case 35680:case 36300:case 36308:case 36293:return MD;case 36289:case 36303:case 36311:case 36292:return bD}}class CD{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=oD(t.type)}}class TD{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=ED(t.type)}}class RD{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const l=i[s];l.setValue(e,t[l.id],n)}}}const _v=/(\w+)(\])?(\[|\.)?/g;function SS(r,e){r.seq.push(e),r.map[e.id]=e}function PD(r,e,t){const n=r.name,i=n.length;for(_v.lastIndex=0;;){const s=_v.exec(n),o=_v.lastIndex;let l=s[1];const c=s[2]==="]",d=s[3];if(c&&(l=l|0),d===void 0||d==="["&&o+2===i){SS(t,d===void 0?new CD(l,r,e):new TD(l,r,e));break}else{let m=t.map[l];m===void 0&&(m=new RD(l),SS(t,m)),t=m}}}class h0{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);PD(s,o,this)}}setValue(e,t,n,i){const s=this.map[t];s!==void 0&&s.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let s=0,o=t.length;s!==o;++s){const l=t[s],c=n[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&n.push(o)}return n}}function AS(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}let BD=0;function ID(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const l=o+1;n.push(`${l===e?">":" "} ${l}: ${t[o]}`)}return n.join(`
`)}function LD(r){switch(r){case Wa:return["Linear","( value )"];case Mn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}function MS(r,e,t){const n=r.getShaderParameter(e,35713),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+ID(r.getShaderSource(e),o)}else return i}function DD(r,e){const t=LD(e);return"vec4 "+r+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function OD(r,e){let t;switch(e){case mE:t="Linear";break;case gE:t="Reinhard";break;case yE:t="OptimizedCineon";break;case $_:t="ACESFilmic";break;case vE:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function kD(r){return[r.extensionDerivatives||r.envMapCubeUVHeight||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(cp).join(`
`)}function FD(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function ND(r,e){const t={},n=r.getProgramParameter(e,35721);for(let i=0;i<n;i++){const s=r.getActiveAttrib(e,i),o=s.name;let l=1;s.type===35674&&(l=2),s.type===35675&&(l=3),s.type===35676&&(l=4),t[o]={type:s.type,location:r.getAttribLocation(e,o),locationSize:l}}return t}function cp(r){return r!==""}function bS(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ES(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zD=/^[ \t]*#include +<([\w\d./]+)>/gm;function s_(r){return r.replace(zD,UD)}function UD(r,e){const t=Xt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return s_(t)}const HD=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function CS(r){return r.replace(HD,GD)}function GD(r,e,t,n){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function TS(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function VD(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===V_?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===W_?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===fd&&(e="SHADOWMAP_TYPE_VSM"),e}function WD(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Wl:case jl:e="ENVMAP_TYPE_CUBE";break;case Id:e="ENVMAP_TYPE_CUBE_UV";break}return e}function jD(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case jl:e="ENVMAP_MODE_REFRACTION";break}return e}function JD(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case Np:e="ENVMAP_BLENDING_MULTIPLY";break;case hE:e="ENVMAP_BLENDING_MIX";break;case pE:e="ENVMAP_BLENDING_ADD";break}return e}function $D(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function XD(r,e,t,n){const i=r.getContext(),s=t.defines;let o=t.vertexShader,l=t.fragmentShader;const c=VD(t),d=WD(t),p=jD(t),m=JD(t),y=$D(t),v=t.isWebGL2?"":kD(t),w=FD(s),_=i.createProgram();let A,b,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=[w].filter(cp).join(`
`),A.length>0&&(A+=`
`),b=[v,w].filter(cp).join(`
`),b.length>0&&(b+=`
`)):(A=[TS(t),"#define SHADER_NAME "+t.shaderName,w,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(cp).join(`
`),b=[v,TS(t),"#define SHADER_NAME "+t.shaderName,w,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==po?"#define TONE_MAPPING":"",t.toneMapping!==po?Xt.tonemapping_pars_fragment:"",t.toneMapping!==po?OD("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Xt.encodings_pars_fragment,DD("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(cp).join(`
`)),o=s_(o),o=bS(o,t),o=ES(o,t),l=s_(l),l=bS(l,t),l=ES(l,t),o=CS(o),l=CS(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,b=["#define varying in",t.glslVersion===n_?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===n_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const T=E+A+o,R=E+b+l,L=AS(i,35633,T),O=AS(i,35632,R);if(i.attachShader(_,L),i.attachShader(_,O),t.index0AttributeName!==void 0?i.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_),r.debug.checkShaderErrors){const G=i.getProgramInfoLog(_).trim(),V=i.getShaderInfoLog(L).trim(),q=i.getShaderInfoLog(O).trim();let ce=!0,ee=!0;if(i.getProgramParameter(_,35714)===!1){ce=!1;const Z=MS(i,L,"vertex"),le=MS(i,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,35715)+`

Program Info Log: `+G+`
`+Z+`
`+le)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(V===""||q==="")&&(ee=!1);ee&&(this.diagnostics={runnable:ce,programLog:G,vertexShader:{log:V,prefix:A},fragmentShader:{log:q,prefix:b}})}i.deleteShader(L),i.deleteShader(O);let F;this.getUniforms=function(){return F===void 0&&(F=new h0(i,_)),F};let I;return this.getAttributes=function(){return I===void 0&&(I=ND(i,_)),I},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.name=t.shaderName,this.id=BD++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=L,this.fragmentShader=O,this}let KD=0;class YD{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new QD(e),t.set(e,n)),n}}class QD{constructor(e){this.id=KD++,this.code=e,this.usedTimes=0}}function qD(r,e,t,n,i,s,o){const l=new xc,c=new YD,d=[],p=i.isWebGL2,m=i.logarithmicDepthBuffer,y=i.vertexTextures;let v=i.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(I,G,V,q,ce){const ee=q.fog,Z=ce.geometry,le=I.isMeshStandardMaterial?q.environment:null,he=(I.isMeshStandardMaterial?t:e).get(I.envMap||le),de=he&&he.mapping===Id?he.image.height:null,z=w[I.type];I.precision!==null&&(v=i.getMaxPrecision(I.precision),v!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",v,"instead."));const K=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,$=K!==void 0?K.length:0;let U=0;Z.morphAttributes.position!==void 0&&(U=1),Z.morphAttributes.normal!==void 0&&(U=2),Z.morphAttributes.color!==void 0&&(U=3);let j,ge,_e,Pe;if(z){const ht=co[z];j=ht.vertexShader,ge=ht.fragmentShader}else j=I.vertexShader,ge=I.fragmentShader,c.update(I),_e=c.getVertexShaderID(I),Pe=c.getFragmentShaderID(I);const fe=r.getRenderTarget(),Ve=I.alphaTest>0,ke=I.clearcoat>0,Ye=I.iridescence>0;return{isWebGL2:p,shaderID:z,shaderName:I.type,vertexShader:j,fragmentShader:ge,defines:I.defines,customVertexShaderID:_e,customFragmentShaderID:Pe,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:v,instancing:ce.isInstancedMesh===!0,instancingColor:ce.isInstancedMesh===!0&&ce.instanceColor!==null,supportsVertexTextures:y,outputEncoding:fe===null?r.outputEncoding:fe.isXRRenderTarget===!0?fe.texture.encoding:Wa,map:!!I.map,matcap:!!I.matcap,envMap:!!he,envMapMode:he&&he.mapping,envMapCubeUVHeight:de,lightMap:!!I.lightMap,aoMap:!!I.aoMap,emissiveMap:!!I.emissiveMap,bumpMap:!!I.bumpMap,normalMap:!!I.normalMap,objectSpaceNormalMap:I.normalMapType===UE,tangentSpaceNormalMap:I.normalMapType===eu,decodeVideoTexture:!!I.map&&I.map.isVideoTexture===!0&&I.map.encoding===Mn,clearcoat:ke,clearcoatMap:ke&&!!I.clearcoatMap,clearcoatRoughnessMap:ke&&!!I.clearcoatRoughnessMap,clearcoatNormalMap:ke&&!!I.clearcoatNormalMap,iridescence:Ye,iridescenceMap:Ye&&!!I.iridescenceMap,iridescenceThicknessMap:Ye&&!!I.iridescenceThicknessMap,displacementMap:!!I.displacementMap,roughnessMap:!!I.roughnessMap,metalnessMap:!!I.metalnessMap,specularMap:!!I.specularMap,specularIntensityMap:!!I.specularIntensityMap,specularColorMap:!!I.specularColorMap,opaque:I.transparent===!1&&I.blending===mc,alphaMap:!!I.alphaMap,alphaTest:Ve,gradientMap:!!I.gradientMap,sheen:I.sheen>0,sheenColorMap:!!I.sheenColorMap,sheenRoughnessMap:!!I.sheenRoughnessMap,transmission:I.transmission>0,transmissionMap:!!I.transmissionMap,thicknessMap:!!I.thicknessMap,combine:I.combine,vertexTangents:!!I.normalMap&&!!Z.attributes.tangent,vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,vertexUvs:!!I.map||!!I.bumpMap||!!I.normalMap||!!I.specularMap||!!I.alphaMap||!!I.emissiveMap||!!I.roughnessMap||!!I.metalnessMap||!!I.clearcoatMap||!!I.clearcoatRoughnessMap||!!I.clearcoatNormalMap||!!I.iridescenceMap||!!I.iridescenceThicknessMap||!!I.displacementMap||!!I.transmissionMap||!!I.thicknessMap||!!I.specularIntensityMap||!!I.specularColorMap||!!I.sheenColorMap||!!I.sheenRoughnessMap,uvsVertexOnly:!(I.map||I.bumpMap||I.normalMap||I.specularMap||I.alphaMap||I.emissiveMap||I.roughnessMap||I.metalnessMap||I.clearcoatNormalMap||I.iridescenceMap||I.iridescenceThicknessMap||I.transmission>0||I.transmissionMap||I.thicknessMap||I.specularIntensityMap||I.specularColorMap||I.sheen>0||I.sheenColorMap||I.sheenRoughnessMap)&&!!I.displacementMap,fog:!!ee,useFog:I.fog===!0,fogExp2:ee&&ee.isFogExp2,flatShading:!!I.flatShading,sizeAttenuation:I.sizeAttenuation,logarithmicDepthBuffer:m,skinning:ce.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:U,numDirLights:G.directional.length,numPointLights:G.point.length,numSpotLights:G.spot.length,numSpotLightMaps:G.spotLightMap.length,numRectAreaLights:G.rectArea.length,numHemiLights:G.hemi.length,numDirLightShadows:G.directionalShadowMap.length,numPointLightShadows:G.pointShadowMap.length,numSpotLightShadows:G.spotShadowMap.length,numSpotLightShadowsWithMaps:G.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:r.shadowMap.enabled&&V.length>0,shadowMapType:r.shadowMap.type,toneMapping:I.toneMapped?r.toneMapping:po,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Fp,flipSided:I.side===us,useDepthPacking:!!I.depthPacking,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionDerivatives:I.extensions&&I.extensions.derivatives,extensionFragDepth:I.extensions&&I.extensions.fragDepth,extensionDrawBuffers:I.extensions&&I.extensions.drawBuffers,extensionShaderTextureLOD:I.extensions&&I.extensions.shaderTextureLOD,rendererExtensionFragDepth:p||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||n.has("EXT_shader_texture_lod"),customProgramCacheKey:I.customProgramCacheKey()}}function A(I){const G=[];if(I.shaderID?G.push(I.shaderID):(G.push(I.customVertexShaderID),G.push(I.customFragmentShaderID)),I.defines!==void 0)for(const V in I.defines)G.push(V),G.push(I.defines[V]);return I.isRawShaderMaterial===!1&&(b(G,I),E(G,I),G.push(r.outputEncoding)),G.push(I.customProgramCacheKey),G.join()}function b(I,G){I.push(G.precision),I.push(G.outputEncoding),I.push(G.envMapMode),I.push(G.envMapCubeUVHeight),I.push(G.combine),I.push(G.vertexUvs),I.push(G.fogExp2),I.push(G.sizeAttenuation),I.push(G.morphTargetsCount),I.push(G.morphAttributeCount),I.push(G.numDirLights),I.push(G.numPointLights),I.push(G.numSpotLights),I.push(G.numSpotLightMaps),I.push(G.numHemiLights),I.push(G.numRectAreaLights),I.push(G.numDirLightShadows),I.push(G.numPointLightShadows),I.push(G.numSpotLightShadows),I.push(G.numSpotLightShadowsWithMaps),I.push(G.shadowMapType),I.push(G.toneMapping),I.push(G.numClippingPlanes),I.push(G.numClipIntersection),I.push(G.depthPacking)}function E(I,G){l.disableAll(),G.isWebGL2&&l.enable(0),G.supportsVertexTextures&&l.enable(1),G.instancing&&l.enable(2),G.instancingColor&&l.enable(3),G.map&&l.enable(4),G.matcap&&l.enable(5),G.envMap&&l.enable(6),G.lightMap&&l.enable(7),G.aoMap&&l.enable(8),G.emissiveMap&&l.enable(9),G.bumpMap&&l.enable(10),G.normalMap&&l.enable(11),G.objectSpaceNormalMap&&l.enable(12),G.tangentSpaceNormalMap&&l.enable(13),G.clearcoat&&l.enable(14),G.clearcoatMap&&l.enable(15),G.clearcoatRoughnessMap&&l.enable(16),G.clearcoatNormalMap&&l.enable(17),G.iridescence&&l.enable(18),G.iridescenceMap&&l.enable(19),G.iridescenceThicknessMap&&l.enable(20),G.displacementMap&&l.enable(21),G.specularMap&&l.enable(22),G.roughnessMap&&l.enable(23),G.metalnessMap&&l.enable(24),G.gradientMap&&l.enable(25),G.alphaMap&&l.enable(26),G.alphaTest&&l.enable(27),G.vertexColors&&l.enable(28),G.vertexAlphas&&l.enable(29),G.vertexUvs&&l.enable(30),G.vertexTangents&&l.enable(31),G.uvsVertexOnly&&l.enable(32),I.push(l.mask),l.disableAll(),G.fog&&l.enable(0),G.useFog&&l.enable(1),G.flatShading&&l.enable(2),G.logarithmicDepthBuffer&&l.enable(3),G.skinning&&l.enable(4),G.morphTargets&&l.enable(5),G.morphNormals&&l.enable(6),G.morphColors&&l.enable(7),G.premultipliedAlpha&&l.enable(8),G.shadowMapEnabled&&l.enable(9),G.physicallyCorrectLights&&l.enable(10),G.doubleSided&&l.enable(11),G.flipSided&&l.enable(12),G.useDepthPacking&&l.enable(13),G.dithering&&l.enable(14),G.specularIntensityMap&&l.enable(15),G.specularColorMap&&l.enable(16),G.transmission&&l.enable(17),G.transmissionMap&&l.enable(18),G.thicknessMap&&l.enable(19),G.sheen&&l.enable(20),G.sheenColorMap&&l.enable(21),G.sheenRoughnessMap&&l.enable(22),G.decodeVideoTexture&&l.enable(23),G.opaque&&l.enable(24),I.push(l.mask)}function T(I){const G=w[I.type];let V;if(G){const q=co[G];V=$E.clone(q.uniforms)}else V=I.uniforms;return V}function R(I,G){let V;for(let q=0,ce=d.length;q<ce;q++){const ee=d[q];if(ee.cacheKey===G){V=ee,++V.usedTimes;break}}return V===void 0&&(V=new XD(r,G,I,s),d.push(V)),V}function L(I){if(--I.usedTimes===0){const G=d.indexOf(I);d[G]=d[d.length-1],d.pop(),I.destroy()}}function O(I){c.remove(I)}function F(){c.dispose()}return{getParameters:_,getProgramCacheKey:A,getUniforms:T,acquireProgram:R,releaseProgram:L,releaseShaderCache:O,programs:d,dispose:F}}function ZD(){let r=new WeakMap;function e(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function t(s){r.delete(s)}function n(s,o,l){r.get(s)[o]=l}function i(){r=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function eO(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function RS(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function PS(){const r=[];let e=0;const t=[],n=[],i=[];function s(){e=0,t.length=0,n.length=0,i.length=0}function o(m,y,v,w,_,A){let b=r[e];return b===void 0?(b={id:m.id,object:m,geometry:y,material:v,groupOrder:w,renderOrder:m.renderOrder,z:_,group:A},r[e]=b):(b.id=m.id,b.object=m,b.geometry=y,b.material=v,b.groupOrder=w,b.renderOrder=m.renderOrder,b.z=_,b.group=A),e++,b}function l(m,y,v,w,_,A){const b=o(m,y,v,w,_,A);v.transmission>0?n.push(b):v.transparent===!0?i.push(b):t.push(b)}function c(m,y,v,w,_,A){const b=o(m,y,v,w,_,A);v.transmission>0?n.unshift(b):v.transparent===!0?i.unshift(b):t.unshift(b)}function d(m,y){t.length>1&&t.sort(m||eO),n.length>1&&n.sort(y||RS),i.length>1&&i.sort(y||RS)}function p(){for(let m=e,y=r.length;m<y;m++){const v=r[m];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:n,transparent:i,init:s,push:l,unshift:c,finish:p,sort:d}}function tO(){let r=new WeakMap;function e(n,i){const s=r.get(n);let o;return s===void 0?(o=new PS,r.set(n,[o])):i>=s.length?(o=new PS,s.push(o)):o=s[i],o}function t(){r=new WeakMap}return{get:e,dispose:t}}function nO(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new W,color:new tt};break;case"SpotLight":t={position:new W,direction:new W,color:new tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new W,color:new tt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new W,skyColor:new tt,groundColor:new tt};break;case"RectAreaLight":t={color:new tt,position:new W,halfWidth:new W,halfHeight:new W};break}return r[e.id]=t,t}}}function rO(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let iO=0;function sO(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function oO(r,e){const t=new nO,n=rO(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let p=0;p<9;p++)i.probe.push(new W);const s=new W,o=new It,l=new It;function c(p,m){let y=0,v=0,w=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let _=0,A=0,b=0,E=0,T=0,R=0,L=0,O=0,F=0,I=0;p.sort(sO);const G=m!==!0?Math.PI:1;for(let q=0,ce=p.length;q<ce;q++){const ee=p[q],Z=ee.color,le=ee.intensity,he=ee.distance,de=ee.shadow&&ee.shadow.map?ee.shadow.map.texture:null;if(ee.isAmbientLight)y+=Z.r*le*G,v+=Z.g*le*G,w+=Z.b*le*G;else if(ee.isLightProbe)for(let z=0;z<9;z++)i.probe[z].addScaledVector(ee.sh.coefficients[z],le);else if(ee.isDirectionalLight){const z=t.get(ee);if(z.color.copy(ee.color).multiplyScalar(ee.intensity*G),ee.castShadow){const K=ee.shadow,$=n.get(ee);$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,i.directionalShadow[_]=$,i.directionalShadowMap[_]=de,i.directionalShadowMatrix[_]=ee.shadow.matrix,R++}i.directional[_]=z,_++}else if(ee.isSpotLight){const z=t.get(ee);z.position.setFromMatrixPosition(ee.matrixWorld),z.color.copy(Z).multiplyScalar(le*G),z.distance=he,z.coneCos=Math.cos(ee.angle),z.penumbraCos=Math.cos(ee.angle*(1-ee.penumbra)),z.decay=ee.decay,i.spot[b]=z;const K=ee.shadow;if(ee.map&&(i.spotLightMap[F]=ee.map,F++,K.updateMatrices(ee),ee.castShadow&&I++),i.spotLightMatrix[b]=K.matrix,ee.castShadow){const $=n.get(ee);$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,i.spotShadow[b]=$,i.spotShadowMap[b]=de,O++}b++}else if(ee.isRectAreaLight){const z=t.get(ee);z.color.copy(Z).multiplyScalar(le),z.halfWidth.set(ee.width*.5,0,0),z.halfHeight.set(0,ee.height*.5,0),i.rectArea[E]=z,E++}else if(ee.isPointLight){const z=t.get(ee);if(z.color.copy(ee.color).multiplyScalar(ee.intensity*G),z.distance=ee.distance,z.decay=ee.decay,ee.castShadow){const K=ee.shadow,$=n.get(ee);$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,$.shadowCameraNear=K.camera.near,$.shadowCameraFar=K.camera.far,i.pointShadow[A]=$,i.pointShadowMap[A]=de,i.pointShadowMatrix[A]=ee.shadow.matrix,L++}i.point[A]=z,A++}else if(ee.isHemisphereLight){const z=t.get(ee);z.skyColor.copy(ee.color).multiplyScalar(le*G),z.groundColor.copy(ee.groundColor).multiplyScalar(le*G),i.hemi[T]=z,T++}}E>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=qe.LTC_FLOAT_1,i.rectAreaLTC2=qe.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=qe.LTC_HALF_1,i.rectAreaLTC2=qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=y,i.ambient[1]=v,i.ambient[2]=w;const V=i.hash;(V.directionalLength!==_||V.pointLength!==A||V.spotLength!==b||V.rectAreaLength!==E||V.hemiLength!==T||V.numDirectionalShadows!==R||V.numPointShadows!==L||V.numSpotShadows!==O||V.numSpotMaps!==F)&&(i.directional.length=_,i.spot.length=b,i.rectArea.length=E,i.point.length=A,i.hemi.length=T,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=L,i.pointShadowMap.length=L,i.spotShadow.length=O,i.spotShadowMap.length=O,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=L,i.spotLightMatrix.length=O+F-I,i.spotLightMap.length=F,i.numSpotLightShadowsWithMaps=I,V.directionalLength=_,V.pointLength=A,V.spotLength=b,V.rectAreaLength=E,V.hemiLength=T,V.numDirectionalShadows=R,V.numPointShadows=L,V.numSpotShadows=O,V.numSpotMaps=F,i.version=iO++)}function d(p,m){let y=0,v=0,w=0,_=0,A=0;const b=m.matrixWorldInverse;for(let E=0,T=p.length;E<T;E++){const R=p[E];if(R.isDirectionalLight){const L=i.directional[y];L.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(b),y++}else if(R.isSpotLight){const L=i.spot[w];L.position.setFromMatrixPosition(R.matrixWorld),L.position.applyMatrix4(b),L.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(b),w++}else if(R.isRectAreaLight){const L=i.rectArea[_];L.position.setFromMatrixPosition(R.matrixWorld),L.position.applyMatrix4(b),l.identity(),o.copy(R.matrixWorld),o.premultiply(b),l.extractRotation(o),L.halfWidth.set(R.width*.5,0,0),L.halfHeight.set(0,R.height*.5,0),L.halfWidth.applyMatrix4(l),L.halfHeight.applyMatrix4(l),_++}else if(R.isPointLight){const L=i.point[v];L.position.setFromMatrixPosition(R.matrixWorld),L.position.applyMatrix4(b),v++}else if(R.isHemisphereLight){const L=i.hemi[A];L.direction.setFromMatrixPosition(R.matrixWorld),L.direction.transformDirection(b),A++}}}return{setup:c,setupView:d,state:i}}function BS(r,e){const t=new oO(r,e),n=[],i=[];function s(){n.length=0,i.length=0}function o(m){n.push(m)}function l(m){i.push(m)}function c(m){t.setup(n,m)}function d(m){t.setupView(n,m)}return{init:s,state:{lightsArray:n,shadowsArray:i,lights:t},setupLights:c,setupLightsView:d,pushLight:o,pushShadow:l}}function aO(r,e){let t=new WeakMap;function n(s,o=0){const l=t.get(s);let c;return l===void 0?(c=new BS(r,e),t.set(s,[c])):o>=l.length?(c=new BS(r,e),l.push(c)):c=l[o],c}function i(){t=new WeakMap}return{get:n,dispose:i}}class n1 extends yr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=NE,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class r1 extends yr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new W,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lO=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uO=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cO(r,e,t){let n=new $0;const i=new Ie,s=new Ie,o=new xn,l=new n1({depthPacking:zE}),c=new r1,d={},p=t.maxTextureSize,m={0:us,1:Va,2:Fp},y=new Ho({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:lO,fragmentShader:uO}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const w=new Jt;w.setAttribute("position",new pn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Nr(w,y),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=V_,this.render=function(R,L,O){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||R.length===0)return;const F=r.getRenderTarget(),I=r.getActiveCubeFace(),G=r.getActiveMipmapLevel(),V=r.state;V.setBlending(za),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);for(let q=0,ce=R.length;q<ce;q++){const ee=R[q],Z=ee.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;i.copy(Z.mapSize);const le=Z.getFrameExtents();if(i.multiply(le),s.copy(Z.mapSize),(i.x>p||i.y>p)&&(i.x>p&&(s.x=Math.floor(p/le.x),i.x=s.x*le.x,Z.mapSize.x=s.x),i.y>p&&(s.y=Math.floor(p/le.y),i.y=s.y*le.y,Z.mapSize.y=s.y)),Z.map===null){const de=this.type!==fd?{minFilter:er,magFilter:er}:{};Z.map=new Rs(i.x,i.y,de),Z.map.texture.name=ee.name+".shadowMap",Z.camera.updateProjectionMatrix()}r.setRenderTarget(Z.map),r.clear();const he=Z.getViewportCount();for(let de=0;de<he;de++){const z=Z.getViewport(de);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),V.viewport(o),Z.updateMatrices(ee,de),n=Z.getFrustum(),T(L,O,Z.camera,ee,this.type)}Z.isPointLightShadow!==!0&&this.type===fd&&b(Z,O),Z.needsUpdate=!1}A.needsUpdate=!1,r.setRenderTarget(F,I,G)};function b(R,L){const O=e.update(_);y.defines.VSM_SAMPLES!==R.blurSamples&&(y.defines.VSM_SAMPLES=R.blurSamples,v.defines.VSM_SAMPLES=R.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new Rs(i.x,i.y)),y.uniforms.shadow_pass.value=R.map.texture,y.uniforms.resolution.value=R.mapSize,y.uniforms.radius.value=R.radius,r.setRenderTarget(R.mapPass),r.clear(),r.renderBufferDirect(L,null,O,y,_,null),v.uniforms.shadow_pass.value=R.mapPass.texture,v.uniforms.resolution.value=R.mapSize,v.uniforms.radius.value=R.radius,r.setRenderTarget(R.map),r.clear(),r.renderBufferDirect(L,null,O,v,_,null)}function E(R,L,O,F,I,G){let V=null;const q=O.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(q!==void 0)V=q;else if(V=O.isPointLight===!0?c:l,r.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const ce=V.uuid,ee=L.uuid;let Z=d[ce];Z===void 0&&(Z={},d[ce]=Z);let le=Z[ee];le===void 0&&(le=V.clone(),Z[ee]=le),V=le}return V.visible=L.visible,V.wireframe=L.wireframe,G===fd?V.side=L.shadowSide!==null?L.shadowSide:L.side:V.side=L.shadowSide!==null?L.shadowSide:m[L.side],V.alphaMap=L.alphaMap,V.alphaTest=L.alphaTest,V.map=L.map,V.clipShadows=L.clipShadows,V.clippingPlanes=L.clippingPlanes,V.clipIntersection=L.clipIntersection,V.displacementMap=L.displacementMap,V.displacementScale=L.displacementScale,V.displacementBias=L.displacementBias,V.wireframeLinewidth=L.wireframeLinewidth,V.linewidth=L.linewidth,O.isPointLight===!0&&V.isMeshDistanceMaterial===!0&&(V.referencePosition.setFromMatrixPosition(O.matrixWorld),V.nearDistance=F,V.farDistance=I),V}function T(R,L,O,F,I){if(R.visible===!1)return;if(R.layers.test(L.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&I===fd)&&(!R.frustumCulled||n.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,R.matrixWorld);const q=e.update(R),ce=R.material;if(Array.isArray(ce)){const ee=q.groups;for(let Z=0,le=ee.length;Z<le;Z++){const he=ee[Z],de=ce[he.materialIndex];if(de&&de.visible){const z=E(R,de,F,O.near,O.far,I);r.renderBufferDirect(O,null,q,z,R,he)}}}else if(ce.visible){const ee=E(R,ce,F,O.near,O.far,I);r.renderBufferDirect(O,null,q,ee,R,null)}}const V=R.children;for(let q=0,ce=V.length;q<ce;q++)T(V[q],L,O,F,I)}}function fO(r,e,t){const n=t.isWebGL2;function i(){let ne=!1;const we=new xn;let Oe=null;const Xe=new xn(0,0,0,0);return{setMask:function(vt){Oe!==vt&&!ne&&(r.colorMask(vt,vt,vt,vt),Oe=vt)},setLocked:function(vt){ne=vt},setClear:function(vt,Kt,an,mn,vr){vr===!0&&(vt*=mn,Kt*=mn,an*=mn),we.set(vt,Kt,an,mn),Xe.equals(we)===!1&&(r.clearColor(vt,Kt,an,mn),Xe.copy(we))},reset:function(){ne=!1,Oe=null,Xe.set(-1,0,0,0)}}}function s(){let ne=!1,we=null,Oe=null,Xe=null;return{setTest:function(vt){vt?Ve(2929):ke(2929)},setMask:function(vt){we!==vt&&!ne&&(r.depthMask(vt),we=vt)},setFunc:function(vt){if(Oe!==vt){switch(vt){case oE:r.depthFunc(512);break;case aE:r.depthFunc(519);break;case lE:r.depthFunc(513);break;case v0:r.depthFunc(515);break;case uE:r.depthFunc(514);break;case cE:r.depthFunc(518);break;case fE:r.depthFunc(516);break;case dE:r.depthFunc(517);break;default:r.depthFunc(515)}Oe=vt}},setLocked:function(vt){ne=vt},setClear:function(vt){Xe!==vt&&(r.clearDepth(vt),Xe=vt)},reset:function(){ne=!1,we=null,Oe=null,Xe=null}}}function o(){let ne=!1,we=null,Oe=null,Xe=null,vt=null,Kt=null,an=null,mn=null,vr=null;return{setTest:function(Zt){ne||(Zt?Ve(2960):ke(2960))},setMask:function(Zt){we!==Zt&&!ne&&(r.stencilMask(Zt),we=Zt)},setFunc:function(Zt,rr,In){(Oe!==Zt||Xe!==rr||vt!==In)&&(r.stencilFunc(Zt,rr,In),Oe=Zt,Xe=rr,vt=In)},setOp:function(Zt,rr,In){(Kt!==Zt||an!==rr||mn!==In)&&(r.stencilOp(Zt,rr,In),Kt=Zt,an=rr,mn=In)},setLocked:function(Zt){ne=Zt},setClear:function(Zt){vr!==Zt&&(r.clearStencil(Zt),vr=Zt)},reset:function(){ne=!1,we=null,Oe=null,Xe=null,vt=null,Kt=null,an=null,mn=null,vr=null}}}const l=new i,c=new s,d=new o,p=new WeakMap,m=new WeakMap;let y={},v={},w=new WeakMap,_=[],A=null,b=!1,E=null,T=null,R=null,L=null,O=null,F=null,I=null,G=!1,V=null,q=null,ce=null,ee=null,Z=null;const le=r.getParameter(35661);let he=!1,de=0;const z=r.getParameter(7938);z.indexOf("WebGL")!==-1?(de=parseFloat(/^WebGL (\d)/.exec(z)[1]),he=de>=1):z.indexOf("OpenGL ES")!==-1&&(de=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),he=de>=2);let K=null,$={};const U=r.getParameter(3088),j=r.getParameter(2978),ge=new xn().fromArray(U),_e=new xn().fromArray(j);function Pe(ne,we,Oe){const Xe=new Uint8Array(4),vt=r.createTexture();r.bindTexture(ne,vt),r.texParameteri(ne,10241,9728),r.texParameteri(ne,10240,9728);for(let Kt=0;Kt<Oe;Kt++)r.texImage2D(we+Kt,0,6408,1,1,0,6408,5121,Xe);return vt}const fe={};fe[3553]=Pe(3553,3553,1),fe[34067]=Pe(34067,34069,6),l.setClear(0,0,0,1),c.setClear(1),d.setClear(0),Ve(2929),c.setFunc(v0),$e(!1),At(Rx),Ve(2884),Ge(za);function Ve(ne){y[ne]!==!0&&(r.enable(ne),y[ne]=!0)}function ke(ne){y[ne]!==!1&&(r.disable(ne),y[ne]=!1)}function Ye(ne,we){return v[ne]!==we?(r.bindFramebuffer(ne,we),v[ne]=we,n&&(ne===36009&&(v[36160]=we),ne===36160&&(v[36009]=we)),!0):!1}function Ue(ne,we){let Oe=_,Xe=!1;if(ne)if(Oe=w.get(we),Oe===void 0&&(Oe=[],w.set(we,Oe)),ne.isWebGLMultipleRenderTargets){const vt=ne.texture;if(Oe.length!==vt.length||Oe[0]!==36064){for(let Kt=0,an=vt.length;Kt<an;Kt++)Oe[Kt]=36064+Kt;Oe.length=vt.length,Xe=!0}}else Oe[0]!==36064&&(Oe[0]=36064,Xe=!0);else Oe[0]!==1029&&(Oe[0]=1029,Xe=!0);Xe&&(t.isWebGL2?r.drawBuffers(Oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Oe))}function ht(ne){return A!==ne?(r.useProgram(ne),A=ne,!0):!1}const Te={[ac]:32774,[Kb]:32778,[Yb]:32779};if(n)Te[Lx]=32775,Te[Dx]=32776;else{const ne=e.get("EXT_blend_minmax");ne!==null&&(Te[Lx]=ne.MIN_EXT,Te[Dx]=ne.MAX_EXT)}const Ae={[Qb]:0,[qb]:1,[Zb]:768,[j_]:770,[sE]:776,[rE]:774,[tE]:772,[eE]:769,[J_]:771,[iE]:775,[nE]:773};function Ge(ne,we,Oe,Xe,vt,Kt,an,mn){if(ne===za){b===!0&&(ke(3042),b=!1);return}if(b===!1&&(Ve(3042),b=!0),ne!==Xb){if(ne!==E||mn!==G){if((T!==ac||O!==ac)&&(r.blendEquation(32774),T=ac,O=ac),mn)switch(ne){case mc:r.blendFuncSeparate(1,771,1,771);break;case Px:r.blendFunc(1,1);break;case Bx:r.blendFuncSeparate(0,769,0,1);break;case Ix:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case mc:r.blendFuncSeparate(770,771,1,771);break;case Px:r.blendFunc(770,1);break;case Bx:r.blendFuncSeparate(0,769,0,1);break;case Ix:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}R=null,L=null,F=null,I=null,E=ne,G=mn}return}vt=vt||we,Kt=Kt||Oe,an=an||Xe,(we!==T||vt!==O)&&(r.blendEquationSeparate(Te[we],Te[vt]),T=we,O=vt),(Oe!==R||Xe!==L||Kt!==F||an!==I)&&(r.blendFuncSeparate(Ae[Oe],Ae[Xe],Ae[Kt],Ae[an]),R=Oe,L=Xe,F=Kt,I=an),E=ne,G=!1}function et(ne,we){ne.side===Fp?ke(2884):Ve(2884);let Oe=ne.side===us;we&&(Oe=!Oe),$e(Oe),ne.blending===mc&&ne.transparent===!1?Ge(za):Ge(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.premultipliedAlpha),c.setFunc(ne.depthFunc),c.setTest(ne.depthTest),c.setMask(ne.depthWrite),l.setMask(ne.colorWrite);const Xe=ne.stencilWrite;d.setTest(Xe),Xe&&(d.setMask(ne.stencilWriteMask),d.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),d.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),lt(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?Ve(32926):ke(32926)}function $e(ne){V!==ne&&(ne?r.frontFace(2304):r.frontFace(2305),V=ne)}function At(ne){ne!==Jb?(Ve(2884),ne!==q&&(ne===Rx?r.cullFace(1029):ne===$b?r.cullFace(1028):r.cullFace(1032))):ke(2884),q=ne}function gt(ne){ne!==ce&&(he&&r.lineWidth(ne),ce=ne)}function lt(ne,we,Oe){ne?(Ve(32823),(ee!==we||Z!==Oe)&&(r.polygonOffset(we,Oe),ee=we,Z=Oe)):ke(32823)}function Gt(ne){ne?Ve(3089):ke(3089)}function Nt(ne){ne===void 0&&(ne=33984+le-1),K!==ne&&(r.activeTexture(ne),K=ne)}function Y(ne,we,Oe){Oe===void 0&&(K===null?Oe=33984+le-1:Oe=K);let Xe=$[Oe];Xe===void 0&&(Xe={type:void 0,texture:void 0},$[Oe]=Xe),(Xe.type!==ne||Xe.texture!==we)&&(K!==Oe&&(r.activeTexture(Oe),K=Oe),r.bindTexture(ne,we||fe[ne]),Xe.type=ne,Xe.texture=we)}function H(){const ne=$[K];ne!==void 0&&ne.type!==void 0&&(r.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function ae(){try{r.compressedTexImage2D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Le(){try{r.compressedTexImage3D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Fe(){try{r.texSubImage2D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function We(){try{r.texSubImage3D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function pt(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Qe(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ce(){try{r.texStorage2D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function at(){try{r.texStorage3D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function St(){try{r.texImage2D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function st(){try{r.texImage3D.apply(r,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function yt(ne){ge.equals(ne)===!1&&(r.scissor(ne.x,ne.y,ne.z,ne.w),ge.copy(ne))}function ft(ne){_e.equals(ne)===!1&&(r.viewport(ne.x,ne.y,ne.z,ne.w),_e.copy(ne))}function re(ne,we){let Oe=m.get(we);Oe===void 0&&(Oe=new WeakMap,m.set(we,Oe));let Xe=Oe.get(ne);Xe===void 0&&(Xe=r.getUniformBlockIndex(we,ne.name),Oe.set(ne,Xe))}function De(ne,we){const Xe=m.get(we).get(ne);p.get(we)!==Xe&&(r.uniformBlockBinding(we,Xe,ne.__bindingPointIndex),p.set(we,Xe))}function nt(){r.disable(3042),r.disable(2884),r.disable(2929),r.disable(32823),r.disable(3089),r.disable(2960),r.disable(32926),r.blendEquation(32774),r.blendFunc(1,0),r.blendFuncSeparate(1,0,1,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(513),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(519,0,4294967295),r.stencilOp(7680,7680,7680),r.clearStencil(0),r.cullFace(1029),r.frontFace(2305),r.polygonOffset(0,0),r.activeTexture(33984),r.bindFramebuffer(36160,null),n===!0&&(r.bindFramebuffer(36009,null),r.bindFramebuffer(36008,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),y={},K=null,$={},v={},w=new WeakMap,_=[],A=null,b=!1,E=null,T=null,R=null,L=null,O=null,F=null,I=null,G=!1,V=null,q=null,ce=null,ee=null,Z=null,ge.set(0,0,r.canvas.width,r.canvas.height),_e.set(0,0,r.canvas.width,r.canvas.height),l.reset(),c.reset(),d.reset()}return{buffers:{color:l,depth:c,stencil:d},enable:Ve,disable:ke,bindFramebuffer:Ye,drawBuffers:Ue,useProgram:ht,setBlending:Ge,setMaterial:et,setFlipSided:$e,setCullFace:At,setLineWidth:gt,setPolygonOffset:lt,setScissorTest:Gt,activeTexture:Nt,bindTexture:Y,unbindTexture:H,compressedTexImage2D:ae,compressedTexImage3D:Le,texImage2D:St,texImage3D:st,updateUBOMapping:re,uniformBlockBinding:De,texStorage2D:Ce,texStorage3D:at,texSubImage2D:Fe,texSubImage3D:We,compressedTexSubImage2D:pt,compressedTexSubImage3D:Qe,scissor:yt,viewport:ft,reset:nt}}function dO(r,e,t,n,i,s,o){const l=i.isWebGL2,c=i.maxTextures,d=i.maxCubemapSize,p=i.maxTextureSize,m=i.maxSamples,y=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),w=new WeakMap;let _;const A=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function E(Y,H){return b?new OffscreenCanvas(Y,H):bp("canvas")}function T(Y,H,ae,Le){let Fe=1;if((Y.width>Le||Y.height>Le)&&(Fe=Le/Math.max(Y.width,Y.height)),Fe<1||H===!0)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap){const We=H?w0:Math.floor,pt=We(Fe*Y.width),Qe=We(Fe*Y.height);_===void 0&&(_=E(pt,Qe));const Ce=ae?E(pt,Qe):_;return Ce.width=pt,Ce.height=Qe,Ce.getContext("2d").drawImage(Y,0,0,pt,Qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Y.width+"x"+Y.height+") to ("+pt+"x"+Qe+")."),Ce}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Y.width+"x"+Y.height+")."),Y;return Y}function R(Y){return r_(Y.width)&&r_(Y.height)}function L(Y){return l?!1:Y.wrapS!==Yr||Y.wrapT!==Yr||Y.minFilter!==er&&Y.minFilter!==Jn}function O(Y,H){return Y.generateMipmaps&&H&&Y.minFilter!==er&&Y.minFilter!==Jn}function F(Y){r.generateMipmap(Y)}function I(Y,H,ae,Le,Fe=!1){if(l===!1)return H;if(Y!==null){if(r[Y]!==void 0)return r[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let We=H;return H===6403&&(ae===5126&&(We=33326),ae===5131&&(We=33325),ae===5121&&(We=33321)),H===33319&&(ae===5126&&(We=33328),ae===5131&&(We=33327),ae===5121&&(We=33323)),H===6408&&(ae===5126&&(We=34836),ae===5131&&(We=34842),ae===5121&&(We=Le===Mn&&Fe===!1?35907:32856),ae===32819&&(We=32854),ae===32820&&(We=32855)),(We===33325||We===33326||We===33327||We===33328||We===34842||We===34836)&&e.get("EXT_color_buffer_float"),We}function G(Y,H,ae){return O(Y,ae)===!0||Y.isFramebufferTexture&&Y.minFilter!==er&&Y.minFilter!==Jn?Math.log2(Math.max(H.width,H.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?H.mipmaps.length:1}function V(Y){return Y===er||Y===wp||Y===yd?9728:9729}function q(Y){const H=Y.target;H.removeEventListener("dispose",q),ee(H),H.isVideoTexture&&w.delete(H)}function ce(Y){const H=Y.target;H.removeEventListener("dispose",ce),le(H)}function ee(Y){const H=n.get(Y);if(H.__webglInit===void 0)return;const ae=Y.source,Le=A.get(ae);if(Le){const Fe=Le[H.__cacheKey];Fe.usedTimes--,Fe.usedTimes===0&&Z(Y),Object.keys(Le).length===0&&A.delete(ae)}n.remove(Y)}function Z(Y){const H=n.get(Y);r.deleteTexture(H.__webglTexture);const ae=Y.source,Le=A.get(ae);delete Le[H.__cacheKey],o.memory.textures--}function le(Y){const H=Y.texture,ae=n.get(Y),Le=n.get(H);if(Le.__webglTexture!==void 0&&(r.deleteTexture(Le.__webglTexture),o.memory.textures--),Y.depthTexture&&Y.depthTexture.dispose(),Y.isWebGLCubeRenderTarget)for(let Fe=0;Fe<6;Fe++)r.deleteFramebuffer(ae.__webglFramebuffer[Fe]),ae.__webglDepthbuffer&&r.deleteRenderbuffer(ae.__webglDepthbuffer[Fe]);else{if(r.deleteFramebuffer(ae.__webglFramebuffer),ae.__webglDepthbuffer&&r.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&r.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let Fe=0;Fe<ae.__webglColorRenderbuffer.length;Fe++)ae.__webglColorRenderbuffer[Fe]&&r.deleteRenderbuffer(ae.__webglColorRenderbuffer[Fe]);ae.__webglDepthRenderbuffer&&r.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(Y.isWebGLMultipleRenderTargets)for(let Fe=0,We=H.length;Fe<We;Fe++){const pt=n.get(H[Fe]);pt.__webglTexture&&(r.deleteTexture(pt.__webglTexture),o.memory.textures--),n.remove(H[Fe])}n.remove(H),n.remove(Y)}let he=0;function de(){he=0}function z(){const Y=he;return Y>=c&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+c),he+=1,Y}function K(Y){const H=[];return H.push(Y.wrapS),H.push(Y.wrapT),H.push(Y.wrapR||0),H.push(Y.magFilter),H.push(Y.minFilter),H.push(Y.anisotropy),H.push(Y.internalFormat),H.push(Y.format),H.push(Y.type),H.push(Y.generateMipmaps),H.push(Y.premultiplyAlpha),H.push(Y.flipY),H.push(Y.unpackAlignment),H.push(Y.encoding),H.join()}function $(Y,H){const ae=n.get(Y);if(Y.isVideoTexture&&Gt(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&ae.__version!==Y.version){const Le=Y.image;if(Le===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Le.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(ae,Y,H);return}}t.bindTexture(3553,ae.__webglTexture,33984+H)}function U(Y,H){const ae=n.get(Y);if(Y.version>0&&ae.__version!==Y.version){ke(ae,Y,H);return}t.bindTexture(35866,ae.__webglTexture,33984+H)}function j(Y,H){const ae=n.get(Y);if(Y.version>0&&ae.__version!==Y.version){ke(ae,Y,H);return}t.bindTexture(32879,ae.__webglTexture,33984+H)}function ge(Y,H){const ae=n.get(Y);if(Y.version>0&&ae.__version!==Y.version){Ye(ae,Y,H);return}t.bindTexture(34067,ae.__webglTexture,33984+H)}const _e={[Jl]:10497,[Yr]:33071,[Sd]:33648},Pe={[er]:9728,[wp]:9984,[yd]:9986,[Jn]:9729,[W0]:9985,[Uo]:9987};function fe(Y,H,ae){if(ae?(r.texParameteri(Y,10242,_e[H.wrapS]),r.texParameteri(Y,10243,_e[H.wrapT]),(Y===32879||Y===35866)&&r.texParameteri(Y,32882,_e[H.wrapR]),r.texParameteri(Y,10240,Pe[H.magFilter]),r.texParameteri(Y,10241,Pe[H.minFilter])):(r.texParameteri(Y,10242,33071),r.texParameteri(Y,10243,33071),(Y===32879||Y===35866)&&r.texParameteri(Y,32882,33071),(H.wrapS!==Yr||H.wrapT!==Yr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(Y,10240,V(H.magFilter)),r.texParameteri(Y,10241,V(H.minFilter)),H.minFilter!==er&&H.minFilter!==Jn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Le=e.get("EXT_texture_filter_anisotropic");if(H.magFilter===er||H.minFilter!==yd&&H.minFilter!==Uo||H.type===Fa&&e.has("OES_texture_float_linear")===!1||l===!1&&H.type===Ad&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||n.get(H).__currentAnisotropy)&&(r.texParameterf(Y,Le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,i.getMaxAnisotropy())),n.get(H).__currentAnisotropy=H.anisotropy)}}function Ve(Y,H){let ae=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,H.addEventListener("dispose",q));const Le=H.source;let Fe=A.get(Le);Fe===void 0&&(Fe={},A.set(Le,Fe));const We=K(H);if(We!==Y.__cacheKey){Fe[We]===void 0&&(Fe[We]={texture:r.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),Fe[We].usedTimes++;const pt=Fe[Y.__cacheKey];pt!==void 0&&(Fe[Y.__cacheKey].usedTimes--,pt.usedTimes===0&&Z(H)),Y.__cacheKey=We,Y.__webglTexture=Fe[We].texture}return ae}function ke(Y,H,ae){let Le=3553;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Le=35866),H.isData3DTexture&&(Le=32879);const Fe=Ve(Y,H),We=H.source;t.bindTexture(Le,Y.__webglTexture,33984+ae);const pt=n.get(We);if(We.version!==pt.__version||Fe===!0){t.activeTexture(33984+ae),r.pixelStorei(37440,H.flipY),r.pixelStorei(37441,H.premultiplyAlpha),r.pixelStorei(3317,H.unpackAlignment),r.pixelStorei(37443,0);const Qe=L(H)&&R(H.image)===!1;let Ce=T(H.image,Qe,!1,p);Ce=Nt(H,Ce);const at=R(Ce)||l,St=s.convert(H.format,H.encoding);let st=s.convert(H.type),yt=I(H.internalFormat,St,st,H.encoding,H.isVideoTexture);fe(Le,H,at);let ft;const re=H.mipmaps,De=l&&H.isVideoTexture!==!0,nt=pt.__version===void 0||Fe===!0,ne=G(H,Ce,at);if(H.isDepthTexture)yt=6402,l?H.type===Fa?yt=36012:H.type===Hl?yt=33190:H.type===gc?yt=35056:yt=33189:H.type===Fa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===Gl&&yt===6402&&H.type!==X_&&H.type!==Hl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=Hl,st=s.convert(H.type)),H.format===Mc&&yt===6402&&(yt=34041,H.type!==gc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=gc,st=s.convert(H.type))),nt&&(De?t.texStorage2D(3553,1,yt,Ce.width,Ce.height):t.texImage2D(3553,0,yt,Ce.width,Ce.height,0,St,st,null));else if(H.isDataTexture)if(re.length>0&&at){De&&nt&&t.texStorage2D(3553,ne,yt,re[0].width,re[0].height);for(let we=0,Oe=re.length;we<Oe;we++)ft=re[we],De?t.texSubImage2D(3553,we,0,0,ft.width,ft.height,St,st,ft.data):t.texImage2D(3553,we,yt,ft.width,ft.height,0,St,st,ft.data);H.generateMipmaps=!1}else De?(nt&&t.texStorage2D(3553,ne,yt,Ce.width,Ce.height),t.texSubImage2D(3553,0,0,0,Ce.width,Ce.height,St,st,Ce.data)):t.texImage2D(3553,0,yt,Ce.width,Ce.height,0,St,st,Ce.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){De&&nt&&t.texStorage3D(35866,ne,yt,re[0].width,re[0].height,Ce.depth);for(let we=0,Oe=re.length;we<Oe;we++)ft=re[we],H.format!==as?St!==null?De?t.compressedTexSubImage3D(35866,we,0,0,0,ft.width,ft.height,Ce.depth,St,ft.data,0,0):t.compressedTexImage3D(35866,we,yt,ft.width,ft.height,Ce.depth,0,ft.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?t.texSubImage3D(35866,we,0,0,0,ft.width,ft.height,Ce.depth,St,st,ft.data):t.texImage3D(35866,we,yt,ft.width,ft.height,Ce.depth,0,St,st,ft.data)}else{De&&nt&&t.texStorage2D(3553,ne,yt,re[0].width,re[0].height);for(let we=0,Oe=re.length;we<Oe;we++)ft=re[we],H.format!==as?St!==null?De?t.compressedTexSubImage2D(3553,we,0,0,ft.width,ft.height,St,ft.data):t.compressedTexImage2D(3553,we,yt,ft.width,ft.height,0,ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?t.texSubImage2D(3553,we,0,0,ft.width,ft.height,St,st,ft.data):t.texImage2D(3553,we,yt,ft.width,ft.height,0,St,st,ft.data)}else if(H.isDataArrayTexture)De?(nt&&t.texStorage3D(35866,ne,yt,Ce.width,Ce.height,Ce.depth),t.texSubImage3D(35866,0,0,0,0,Ce.width,Ce.height,Ce.depth,St,st,Ce.data)):t.texImage3D(35866,0,yt,Ce.width,Ce.height,Ce.depth,0,St,st,Ce.data);else if(H.isData3DTexture)De?(nt&&t.texStorage3D(32879,ne,yt,Ce.width,Ce.height,Ce.depth),t.texSubImage3D(32879,0,0,0,0,Ce.width,Ce.height,Ce.depth,St,st,Ce.data)):t.texImage3D(32879,0,yt,Ce.width,Ce.height,Ce.depth,0,St,st,Ce.data);else if(H.isFramebufferTexture){if(nt)if(De)t.texStorage2D(3553,ne,yt,Ce.width,Ce.height);else{let we=Ce.width,Oe=Ce.height;for(let Xe=0;Xe<ne;Xe++)t.texImage2D(3553,Xe,yt,we,Oe,0,St,st,null),we>>=1,Oe>>=1}}else if(re.length>0&&at){De&&nt&&t.texStorage2D(3553,ne,yt,re[0].width,re[0].height);for(let we=0,Oe=re.length;we<Oe;we++)ft=re[we],De?t.texSubImage2D(3553,we,0,0,St,st,ft):t.texImage2D(3553,we,yt,St,st,ft);H.generateMipmaps=!1}else De?(nt&&t.texStorage2D(3553,ne,yt,Ce.width,Ce.height),t.texSubImage2D(3553,0,0,0,St,st,Ce)):t.texImage2D(3553,0,yt,St,st,Ce);O(H,at)&&F(Le),pt.__version=We.version,H.onUpdate&&H.onUpdate(H)}Y.__version=H.version}function Ye(Y,H,ae){if(H.image.length!==6)return;const Le=Ve(Y,H),Fe=H.source;t.bindTexture(34067,Y.__webglTexture,33984+ae);const We=n.get(Fe);if(Fe.version!==We.__version||Le===!0){t.activeTexture(33984+ae),r.pixelStorei(37440,H.flipY),r.pixelStorei(37441,H.premultiplyAlpha),r.pixelStorei(3317,H.unpackAlignment),r.pixelStorei(37443,0);const pt=H.isCompressedTexture||H.image[0].isCompressedTexture,Qe=H.image[0]&&H.image[0].isDataTexture,Ce=[];for(let we=0;we<6;we++)!pt&&!Qe?Ce[we]=T(H.image[we],!1,!0,d):Ce[we]=Qe?H.image[we].image:H.image[we],Ce[we]=Nt(H,Ce[we]);const at=Ce[0],St=R(at)||l,st=s.convert(H.format,H.encoding),yt=s.convert(H.type),ft=I(H.internalFormat,st,yt,H.encoding),re=l&&H.isVideoTexture!==!0,De=We.__version===void 0||Le===!0;let nt=G(H,at,St);fe(34067,H,St);let ne;if(pt){re&&De&&t.texStorage2D(34067,nt,ft,at.width,at.height);for(let we=0;we<6;we++){ne=Ce[we].mipmaps;for(let Oe=0;Oe<ne.length;Oe++){const Xe=ne[Oe];H.format!==as?st!==null?re?t.compressedTexSubImage2D(34069+we,Oe,0,0,Xe.width,Xe.height,st,Xe.data):t.compressedTexImage2D(34069+we,Oe,ft,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):re?t.texSubImage2D(34069+we,Oe,0,0,Xe.width,Xe.height,st,yt,Xe.data):t.texImage2D(34069+we,Oe,ft,Xe.width,Xe.height,0,st,yt,Xe.data)}}}else{ne=H.mipmaps,re&&De&&(ne.length>0&&nt++,t.texStorage2D(34067,nt,ft,Ce[0].width,Ce[0].height));for(let we=0;we<6;we++)if(Qe){re?t.texSubImage2D(34069+we,0,0,0,Ce[we].width,Ce[we].height,st,yt,Ce[we].data):t.texImage2D(34069+we,0,ft,Ce[we].width,Ce[we].height,0,st,yt,Ce[we].data);for(let Oe=0;Oe<ne.length;Oe++){const vt=ne[Oe].image[we].image;re?t.texSubImage2D(34069+we,Oe+1,0,0,vt.width,vt.height,st,yt,vt.data):t.texImage2D(34069+we,Oe+1,ft,vt.width,vt.height,0,st,yt,vt.data)}}else{re?t.texSubImage2D(34069+we,0,0,0,st,yt,Ce[we]):t.texImage2D(34069+we,0,ft,st,yt,Ce[we]);for(let Oe=0;Oe<ne.length;Oe++){const Xe=ne[Oe];re?t.texSubImage2D(34069+we,Oe+1,0,0,st,yt,Xe.image[we]):t.texImage2D(34069+we,Oe+1,ft,st,yt,Xe.image[we])}}}O(H,St)&&F(34067),We.__version=Fe.version,H.onUpdate&&H.onUpdate(H)}Y.__version=H.version}function Ue(Y,H,ae,Le,Fe){const We=s.convert(ae.format,ae.encoding),pt=s.convert(ae.type),Qe=I(ae.internalFormat,We,pt,ae.encoding);n.get(H).__hasExternalTextures||(Fe===32879||Fe===35866?t.texImage3D(Fe,0,Qe,H.width,H.height,H.depth,0,We,pt,null):t.texImage2D(Fe,0,Qe,H.width,H.height,0,We,pt,null)),t.bindFramebuffer(36160,Y),lt(H)?y.framebufferTexture2DMultisampleEXT(36160,Le,Fe,n.get(ae).__webglTexture,0,gt(H)):(Fe===3553||Fe>=34069&&Fe<=34074)&&r.framebufferTexture2D(36160,Le,Fe,n.get(ae).__webglTexture,0),t.bindFramebuffer(36160,null)}function ht(Y,H,ae){if(r.bindRenderbuffer(36161,Y),H.depthBuffer&&!H.stencilBuffer){let Le=33189;if(ae||lt(H)){const Fe=H.depthTexture;Fe&&Fe.isDepthTexture&&(Fe.type===Fa?Le=36012:Fe.type===Hl&&(Le=33190));const We=gt(H);lt(H)?y.renderbufferStorageMultisampleEXT(36161,We,Le,H.width,H.height):r.renderbufferStorageMultisample(36161,We,Le,H.width,H.height)}else r.renderbufferStorage(36161,Le,H.width,H.height);r.framebufferRenderbuffer(36160,36096,36161,Y)}else if(H.depthBuffer&&H.stencilBuffer){const Le=gt(H);ae&&lt(H)===!1?r.renderbufferStorageMultisample(36161,Le,35056,H.width,H.height):lt(H)?y.renderbufferStorageMultisampleEXT(36161,Le,35056,H.width,H.height):r.renderbufferStorage(36161,34041,H.width,H.height),r.framebufferRenderbuffer(36160,33306,36161,Y)}else{const Le=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let Fe=0;Fe<Le.length;Fe++){const We=Le[Fe],pt=s.convert(We.format,We.encoding),Qe=s.convert(We.type),Ce=I(We.internalFormat,pt,Qe,We.encoding),at=gt(H);ae&&lt(H)===!1?r.renderbufferStorageMultisample(36161,at,Ce,H.width,H.height):lt(H)?y.renderbufferStorageMultisampleEXT(36161,at,Ce,H.width,H.height):r.renderbufferStorage(36161,Ce,H.width,H.height)}}r.bindRenderbuffer(36161,null)}function Te(Y,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Y),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),$(H.depthTexture,0);const Le=n.get(H.depthTexture).__webglTexture,Fe=gt(H);if(H.depthTexture.format===Gl)lt(H)?y.framebufferTexture2DMultisampleEXT(36160,36096,3553,Le,0,Fe):r.framebufferTexture2D(36160,36096,3553,Le,0);else if(H.depthTexture.format===Mc)lt(H)?y.framebufferTexture2DMultisampleEXT(36160,33306,3553,Le,0,Fe):r.framebufferTexture2D(36160,33306,3553,Le,0);else throw new Error("Unknown depthTexture format")}function Ae(Y){const H=n.get(Y),ae=Y.isWebGLCubeRenderTarget===!0;if(Y.depthTexture&&!H.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");Te(H.__webglFramebuffer,Y)}else if(ae){H.__webglDepthbuffer=[];for(let Le=0;Le<6;Le++)t.bindFramebuffer(36160,H.__webglFramebuffer[Le]),H.__webglDepthbuffer[Le]=r.createRenderbuffer(),ht(H.__webglDepthbuffer[Le],Y,!1)}else t.bindFramebuffer(36160,H.__webglFramebuffer),H.__webglDepthbuffer=r.createRenderbuffer(),ht(H.__webglDepthbuffer,Y,!1);t.bindFramebuffer(36160,null)}function Ge(Y,H,ae){const Le=n.get(Y);H!==void 0&&Ue(Le.__webglFramebuffer,Y,Y.texture,36064,3553),ae!==void 0&&Ae(Y)}function et(Y){const H=Y.texture,ae=n.get(Y),Le=n.get(H);Y.addEventListener("dispose",ce),Y.isWebGLMultipleRenderTargets!==!0&&(Le.__webglTexture===void 0&&(Le.__webglTexture=r.createTexture()),Le.__version=H.version,o.memory.textures++);const Fe=Y.isWebGLCubeRenderTarget===!0,We=Y.isWebGLMultipleRenderTargets===!0,pt=R(Y)||l;if(Fe){ae.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)ae.__webglFramebuffer[Qe]=r.createFramebuffer()}else{if(ae.__webglFramebuffer=r.createFramebuffer(),We)if(i.drawBuffers){const Qe=Y.texture;for(let Ce=0,at=Qe.length;Ce<at;Ce++){const St=n.get(Qe[Ce]);St.__webglTexture===void 0&&(St.__webglTexture=r.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&Y.samples>0&&lt(Y)===!1){const Qe=We?H:[H];ae.__webglMultisampledFramebuffer=r.createFramebuffer(),ae.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer);for(let Ce=0;Ce<Qe.length;Ce++){const at=Qe[Ce];ae.__webglColorRenderbuffer[Ce]=r.createRenderbuffer(),r.bindRenderbuffer(36161,ae.__webglColorRenderbuffer[Ce]);const St=s.convert(at.format,at.encoding),st=s.convert(at.type),yt=I(at.internalFormat,St,st,at.encoding,Y.isXRRenderTarget===!0),ft=gt(Y);r.renderbufferStorageMultisample(36161,ft,yt,Y.width,Y.height),r.framebufferRenderbuffer(36160,36064+Ce,36161,ae.__webglColorRenderbuffer[Ce])}r.bindRenderbuffer(36161,null),Y.depthBuffer&&(ae.__webglDepthRenderbuffer=r.createRenderbuffer(),ht(ae.__webglDepthRenderbuffer,Y,!0)),t.bindFramebuffer(36160,null)}}if(Fe){t.bindTexture(34067,Le.__webglTexture),fe(34067,H,pt);for(let Qe=0;Qe<6;Qe++)Ue(ae.__webglFramebuffer[Qe],Y,H,36064,34069+Qe);O(H,pt)&&F(34067),t.unbindTexture()}else if(We){const Qe=Y.texture;for(let Ce=0,at=Qe.length;Ce<at;Ce++){const St=Qe[Ce],st=n.get(St);t.bindTexture(3553,st.__webglTexture),fe(3553,St,pt),Ue(ae.__webglFramebuffer,Y,St,36064+Ce,3553),O(St,pt)&&F(3553)}t.unbindTexture()}else{let Qe=3553;(Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(l?Qe=Y.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Qe,Le.__webglTexture),fe(Qe,H,pt),Ue(ae.__webglFramebuffer,Y,H,36064,Qe),O(H,pt)&&F(Qe),t.unbindTexture()}Y.depthBuffer&&Ae(Y)}function $e(Y){const H=R(Y)||l,ae=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let Le=0,Fe=ae.length;Le<Fe;Le++){const We=ae[Le];if(O(We,H)){const pt=Y.isWebGLCubeRenderTarget?34067:3553,Qe=n.get(We).__webglTexture;t.bindTexture(pt,Qe),F(pt),t.unbindTexture()}}}function At(Y){if(l&&Y.samples>0&&lt(Y)===!1){const H=Y.isWebGLMultipleRenderTargets?Y.texture:[Y.texture],ae=Y.width,Le=Y.height;let Fe=16384;const We=[],pt=Y.stencilBuffer?33306:36096,Qe=n.get(Y),Ce=Y.isWebGLMultipleRenderTargets===!0;if(Ce)for(let at=0;at<H.length;at++)t.bindFramebuffer(36160,Qe.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+at,36161,null),t.bindFramebuffer(36160,Qe.__webglFramebuffer),r.framebufferTexture2D(36009,36064+at,3553,null,0);t.bindFramebuffer(36008,Qe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Qe.__webglFramebuffer);for(let at=0;at<H.length;at++){We.push(36064+at),Y.depthBuffer&&We.push(pt);const St=Qe.__ignoreDepthValues!==void 0?Qe.__ignoreDepthValues:!1;if(St===!1&&(Y.depthBuffer&&(Fe|=256),Y.stencilBuffer&&(Fe|=1024)),Ce&&r.framebufferRenderbuffer(36008,36064,36161,Qe.__webglColorRenderbuffer[at]),St===!0&&(r.invalidateFramebuffer(36008,[pt]),r.invalidateFramebuffer(36009,[pt])),Ce){const st=n.get(H[at]).__webglTexture;r.framebufferTexture2D(36009,36064,3553,st,0)}r.blitFramebuffer(0,0,ae,Le,0,0,ae,Le,Fe,9728),v&&r.invalidateFramebuffer(36008,We)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Ce)for(let at=0;at<H.length;at++){t.bindFramebuffer(36160,Qe.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+at,36161,Qe.__webglColorRenderbuffer[at]);const St=n.get(H[at]).__webglTexture;t.bindFramebuffer(36160,Qe.__webglFramebuffer),r.framebufferTexture2D(36009,36064+at,3553,St,0)}t.bindFramebuffer(36009,Qe.__webglMultisampledFramebuffer)}}function gt(Y){return Math.min(m,Y.samples)}function lt(Y){const H=n.get(Y);return l&&Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Gt(Y){const H=o.render.frame;w.get(Y)!==H&&(w.set(Y,H),Y.update())}function Nt(Y,H){const ae=Y.encoding,Le=Y.format,Fe=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||Y.format===_0||ae!==Wa&&(ae===Mn?l===!1?e.has("EXT_sRGB")===!0&&Le===as?(Y.format=_0,Y.minFilter=Jn,Y.generateMipmaps=!1):H=q_.sRGBToLinear(H):(Le!==as||Fe!==$l)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ae)),H}this.allocateTextureUnit=z,this.resetTextureUnits=de,this.setTexture2D=$,this.setTexture2DArray=U,this.setTexture3D=j,this.setTextureCube=ge,this.rebindTextures=Ge,this.setupRenderTarget=et,this.updateRenderTargetMipmap=$e,this.updateMultisampleRenderTarget=At,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=lt}function tC(r,e,t){const n=t.isWebGL2;function i(s,o=null){let l;if(s===$l)return 5121;if(s===SE)return 32819;if(s===AE)return 32820;if(s===xE)return 5120;if(s===_E)return 5122;if(s===X_)return 5123;if(s===wE)return 5124;if(s===Hl)return 5125;if(s===Fa)return 5126;if(s===Ad)return n?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(s===ME)return 6406;if(s===as)return 6408;if(s===EE)return 6409;if(s===CE)return 6410;if(s===Gl)return 6402;if(s===Mc)return 34041;if(s===bE)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===_0)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(s===TE)return 6403;if(s===RE)return 36244;if(s===PE)return 33319;if(s===BE)return 33320;if(s===IE)return 36249;if(s===o0||s===a0||s===l0||s===u0)if(o===Mn)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(s===o0)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===a0)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===l0)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===u0)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(s===o0)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===a0)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===l0)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===u0)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Ox||s===kx||s===Fx||s===Nx)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(s===Ox)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===kx)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Fx)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Nx)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===LE)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===zx||s===Ux)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(s===zx)return o===Mn?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===Ux)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Hx||s===Gx||s===Vx||s===Wx||s===jx||s===Jx||s===$x||s===Xx||s===Kx||s===Yx||s===Qx||s===qx||s===Zx||s===e_)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(s===Hx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Gx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Vx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Wx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===jx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Jx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===$x)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Xx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Kx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Yx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Qx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===qx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Zx)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===e_)return o===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===t_)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(s===t_)return o===Mn?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===gc?n?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):r[s]!==void 0?r[s]:null}return{convert:i}}class nC extends tr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ho extends on{constructor(){super(),this.isGroup=!0,this.type="Group"}}const hO={type:"move"};class wv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ho,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ho,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ho,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,s=null,o=null;const l=this._targetRay,c=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const _ of e.hand.values()){const A=t.getJointPose(_,n),b=this._getHandJoint(d,_);A!==null&&(b.matrix.fromArray(A.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.jointRadius=A.radius),b.visible=A!==null}const p=d.joints["index-finger-tip"],m=d.joints["thumb-tip"],y=p.position.distanceTo(m.position),v=.02,w=.005;d.inputState.pinching&&y>v+w?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=v-w&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&s!==null&&(i=s),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(hO)))}return l!==null&&(l.visible=i!==null),c!==null&&(c.visible=s!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new ho;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class rC extends Hn{constructor(e,t,n,i,s,o,l,c,d,p){if(p=p!==void 0?p:Gl,p!==Gl&&p!==Mc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&p===Gl&&(n=Hl),n===void 0&&p===Mc&&(n=gc),super(null,i,s,o,l,c,p,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:er,this.minFilter=c!==void 0?c:er,this.flipY=!1,this.generateMipmaps=!1}}class pO extends Ka{constructor(e,t){super();const n=this;let i=null,s=1,o=null,l="local-floor",c=null,d=null,p=null,m=null,y=null,v=null;const w=t.getContextAttributes();let _=null,A=null;const b=[],E=[],T=new Set,R=new Map,L=new tr;L.layers.enable(1),L.viewport=new xn;const O=new tr;O.layers.enable(2),O.viewport=new xn;const F=[L,O],I=new nC;I.layers.enable(1),I.layers.enable(2);let G=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let j=b[U];return j===void 0&&(j=new wv,b[U]=j),j.getTargetRaySpace()},this.getControllerGrip=function(U){let j=b[U];return j===void 0&&(j=new wv,b[U]=j),j.getGripSpace()},this.getHand=function(U){let j=b[U];return j===void 0&&(j=new wv,b[U]=j),j.getHandSpace()};function q(U){const j=E.indexOf(U.inputSource);if(j===-1)return;const ge=b[j];ge!==void 0&&ge.dispatchEvent({type:U.type,data:U.inputSource})}function ce(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",ce),i.removeEventListener("inputsourceschange",ee);for(let U=0;U<b.length;U++){const j=E[U];j!==null&&(E[U]=null,b[U].disconnect(j))}G=null,V=null,e.setRenderTarget(_),y=null,m=null,p=null,i=null,A=null,$.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){l=U,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(U){c=U},this.getBaseLayer=function(){return m!==null?m:y},this.getBinding=function(){return p},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(U){if(i=U,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",ce),i.addEventListener("inputsourceschange",ee),w.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const j={antialias:i.renderState.layers===void 0?w.antialias:!0,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};y=new XRWebGLLayer(i,t,j),i.updateRenderState({baseLayer:y}),A=new Rs(y.framebufferWidth,y.framebufferHeight,{format:as,type:$l,encoding:e.outputEncoding,stencilBuffer:w.stencil})}else{let j=null,ge=null,_e=null;w.depth&&(_e=w.stencil?35056:33190,j=w.stencil?Mc:Gl,ge=w.stencil?gc:Hl);const Pe={colorFormat:32856,depthFormat:_e,scaleFactor:s};p=new XRWebGLBinding(i,t),m=p.createProjectionLayer(Pe),i.updateRenderState({layers:[m]}),A=new Rs(m.textureWidth,m.textureHeight,{format:as,type:$l,depthTexture:new rC(m.textureWidth,m.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,j),stencilBuffer:w.stencil,encoding:e.outputEncoding,samples:w.antialias?4:0});const fe=e.properties.get(A);fe.__ignoreDepthValues=m.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(1),c=null,o=await i.requestReferenceSpace(l),$.setContext(i),$.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function ee(U){for(let j=0;j<U.removed.length;j++){const ge=U.removed[j],_e=E.indexOf(ge);_e>=0&&(E[_e]=null,b[_e].disconnect(ge))}for(let j=0;j<U.added.length;j++){const ge=U.added[j];let _e=E.indexOf(ge);if(_e===-1){for(let fe=0;fe<b.length;fe++)if(fe>=E.length){E.push(ge),_e=fe;break}else if(E[fe]===null){E[fe]=ge,_e=fe;break}if(_e===-1)break}const Pe=b[_e];Pe&&Pe.connect(ge)}}const Z=new W,le=new W;function he(U,j,ge){Z.setFromMatrixPosition(j.matrixWorld),le.setFromMatrixPosition(ge.matrixWorld);const _e=Z.distanceTo(le),Pe=j.projectionMatrix.elements,fe=ge.projectionMatrix.elements,Ve=Pe[14]/(Pe[10]-1),ke=Pe[14]/(Pe[10]+1),Ye=(Pe[9]+1)/Pe[5],Ue=(Pe[9]-1)/Pe[5],ht=(Pe[8]-1)/Pe[0],Te=(fe[8]+1)/fe[0],Ae=Ve*ht,Ge=Ve*Te,et=_e/(-ht+Te),$e=et*-ht;j.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX($e),U.translateZ(et),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const At=Ve+et,gt=ke+et,lt=Ae-$e,Gt=Ge+(_e-$e),Nt=Ye*ke/gt*At,Y=Ue*ke/gt*At;U.projectionMatrix.makePerspective(lt,Gt,Nt,Y,At,gt)}function de(U,j){j===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(j.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(i===null)return;I.near=O.near=L.near=U.near,I.far=O.far=L.far=U.far,(G!==I.near||V!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),G=I.near,V=I.far);const j=U.parent,ge=I.cameras;de(I,j);for(let Pe=0;Pe<ge.length;Pe++)de(ge[Pe],j);I.matrixWorld.decompose(I.position,I.quaternion,I.scale),U.matrix.copy(I.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale);const _e=U.children;for(let Pe=0,fe=_e.length;Pe<fe;Pe++)_e[Pe].updateMatrixWorld(!0);ge.length===2?he(I,L,O):I.projectionMatrix.copy(L.projectionMatrix)},this.getCamera=function(){return I},this.getFoveation=function(){if(m!==null)return m.fixedFoveation;if(y!==null)return y.fixedFoveation},this.setFoveation=function(U){m!==null&&(m.fixedFoveation=U),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=U)},this.getPlanes=function(){return T};let z=null;function K(U,j){if(d=j.getViewerPose(c||o),v=j,d!==null){const ge=d.views;y!==null&&(e.setRenderTargetFramebuffer(A,y.framebuffer),e.setRenderTarget(A));let _e=!1;ge.length!==I.cameras.length&&(I.cameras.length=0,_e=!0);for(let Pe=0;Pe<ge.length;Pe++){const fe=ge[Pe];let Ve=null;if(y!==null)Ve=y.getViewport(fe);else{const Ye=p.getViewSubImage(m,fe);Ve=Ye.viewport,Pe===0&&(e.setRenderTargetTextures(A,Ye.colorTexture,m.ignoreDepthValues?void 0:Ye.depthStencilTexture),e.setRenderTarget(A))}let ke=F[Pe];ke===void 0&&(ke=new tr,ke.layers.enable(Pe),ke.viewport=new xn,F[Pe]=ke),ke.matrix.fromArray(fe.transform.matrix),ke.projectionMatrix.fromArray(fe.projectionMatrix),ke.viewport.set(Ve.x,Ve.y,Ve.width,Ve.height),Pe===0&&I.matrix.copy(ke.matrix),_e===!0&&I.cameras.push(ke)}}for(let ge=0;ge<b.length;ge++){const _e=E[ge],Pe=b[ge];_e!==null&&Pe!==void 0&&Pe.update(_e,j,c||o)}if(z&&z(U,j),j.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:j.detectedPlanes});let ge=null;for(const _e of T)j.detectedPlanes.has(_e)||(ge===null&&(ge=[]),ge.push(_e));if(ge!==null)for(const _e of ge)T.delete(_e),R.delete(_e),n.dispatchEvent({type:"planeremoved",data:_e});for(const _e of j.detectedPlanes)if(!T.has(_e))T.add(_e),R.set(_e,j.lastChangedTime),n.dispatchEvent({type:"planeadded",data:_e});else{const Pe=R.get(_e);_e.lastChangedTime>Pe&&(R.set(_e,_e.lastChangedTime),n.dispatchEvent({type:"planechanged",data:_e}))}}v=null}const $=new YE;$.setAnimationLoop(K),this.setAnimationLoop=function(U){z=U},this.dispose=function(){}}}function mO(r,e){function t(_,A){A.color.getRGB(_.fogColor.value,JE(r)),A.isFog?(_.fogNear.value=A.near,_.fogFar.value=A.far):A.isFogExp2&&(_.fogDensity.value=A.density)}function n(_,A,b,E,T){A.isMeshBasicMaterial||A.isMeshLambertMaterial?i(_,A):A.isMeshToonMaterial?(i(_,A),p(_,A)):A.isMeshPhongMaterial?(i(_,A),d(_,A)):A.isMeshStandardMaterial?(i(_,A),m(_,A),A.isMeshPhysicalMaterial&&y(_,A,T)):A.isMeshMatcapMaterial?(i(_,A),v(_,A)):A.isMeshDepthMaterial?i(_,A):A.isMeshDistanceMaterial?(i(_,A),w(_,A)):A.isMeshNormalMaterial?i(_,A):A.isLineBasicMaterial?(s(_,A),A.isLineDashedMaterial&&o(_,A)):A.isPointsMaterial?l(_,A,b,E):A.isSpriteMaterial?c(_,A):A.isShadowMaterial?(_.color.value.copy(A.color),_.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function i(_,A){_.opacity.value=A.opacity,A.color&&_.diffuse.value.copy(A.color),A.emissive&&_.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(_.map.value=A.map),A.alphaMap&&(_.alphaMap.value=A.alphaMap),A.bumpMap&&(_.bumpMap.value=A.bumpMap,_.bumpScale.value=A.bumpScale,A.side===us&&(_.bumpScale.value*=-1)),A.displacementMap&&(_.displacementMap.value=A.displacementMap,_.displacementScale.value=A.displacementScale,_.displacementBias.value=A.displacementBias),A.emissiveMap&&(_.emissiveMap.value=A.emissiveMap),A.normalMap&&(_.normalMap.value=A.normalMap,_.normalScale.value.copy(A.normalScale),A.side===us&&_.normalScale.value.negate()),A.specularMap&&(_.specularMap.value=A.specularMap),A.alphaTest>0&&(_.alphaTest.value=A.alphaTest);const b=e.get(A).envMap;if(b&&(_.envMap.value=b,_.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=A.reflectivity,_.ior.value=A.ior,_.refractionRatio.value=A.refractionRatio),A.lightMap){_.lightMap.value=A.lightMap;const R=r.physicallyCorrectLights!==!0?Math.PI:1;_.lightMapIntensity.value=A.lightMapIntensity*R}A.aoMap&&(_.aoMap.value=A.aoMap,_.aoMapIntensity.value=A.aoMapIntensity);let E;A.map?E=A.map:A.specularMap?E=A.specularMap:A.displacementMap?E=A.displacementMap:A.normalMap?E=A.normalMap:A.bumpMap?E=A.bumpMap:A.roughnessMap?E=A.roughnessMap:A.metalnessMap?E=A.metalnessMap:A.alphaMap?E=A.alphaMap:A.emissiveMap?E=A.emissiveMap:A.clearcoatMap?E=A.clearcoatMap:A.clearcoatNormalMap?E=A.clearcoatNormalMap:A.clearcoatRoughnessMap?E=A.clearcoatRoughnessMap:A.iridescenceMap?E=A.iridescenceMap:A.iridescenceThicknessMap?E=A.iridescenceThicknessMap:A.specularIntensityMap?E=A.specularIntensityMap:A.specularColorMap?E=A.specularColorMap:A.transmissionMap?E=A.transmissionMap:A.thicknessMap?E=A.thicknessMap:A.sheenColorMap?E=A.sheenColorMap:A.sheenRoughnessMap&&(E=A.sheenRoughnessMap),E!==void 0&&(E.isWebGLRenderTarget&&(E=E.texture),E.matrixAutoUpdate===!0&&E.updateMatrix(),_.uvTransform.value.copy(E.matrix));let T;A.aoMap?T=A.aoMap:A.lightMap&&(T=A.lightMap),T!==void 0&&(T.isWebGLRenderTarget&&(T=T.texture),T.matrixAutoUpdate===!0&&T.updateMatrix(),_.uv2Transform.value.copy(T.matrix))}function s(_,A){_.diffuse.value.copy(A.color),_.opacity.value=A.opacity}function o(_,A){_.dashSize.value=A.dashSize,_.totalSize.value=A.dashSize+A.gapSize,_.scale.value=A.scale}function l(_,A,b,E){_.diffuse.value.copy(A.color),_.opacity.value=A.opacity,_.size.value=A.size*b,_.scale.value=E*.5,A.map&&(_.map.value=A.map),A.alphaMap&&(_.alphaMap.value=A.alphaMap),A.alphaTest>0&&(_.alphaTest.value=A.alphaTest);let T;A.map?T=A.map:A.alphaMap&&(T=A.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),_.uvTransform.value.copy(T.matrix))}function c(_,A){_.diffuse.value.copy(A.color),_.opacity.value=A.opacity,_.rotation.value=A.rotation,A.map&&(_.map.value=A.map),A.alphaMap&&(_.alphaMap.value=A.alphaMap),A.alphaTest>0&&(_.alphaTest.value=A.alphaTest);let b;A.map?b=A.map:A.alphaMap&&(b=A.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),_.uvTransform.value.copy(b.matrix))}function d(_,A){_.specular.value.copy(A.specular),_.shininess.value=Math.max(A.shininess,1e-4)}function p(_,A){A.gradientMap&&(_.gradientMap.value=A.gradientMap)}function m(_,A){_.roughness.value=A.roughness,_.metalness.value=A.metalness,A.roughnessMap&&(_.roughnessMap.value=A.roughnessMap),A.metalnessMap&&(_.metalnessMap.value=A.metalnessMap),e.get(A).envMap&&(_.envMapIntensity.value=A.envMapIntensity)}function y(_,A,b){_.ior.value=A.ior,A.sheen>0&&(_.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),_.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(_.sheenColorMap.value=A.sheenColorMap),A.sheenRoughnessMap&&(_.sheenRoughnessMap.value=A.sheenRoughnessMap)),A.clearcoat>0&&(_.clearcoat.value=A.clearcoat,_.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(_.clearcoatMap.value=A.clearcoatMap),A.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap),A.clearcoatNormalMap&&(_.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),_.clearcoatNormalMap.value=A.clearcoatNormalMap,A.side===us&&_.clearcoatNormalScale.value.negate())),A.iridescence>0&&(_.iridescence.value=A.iridescence,_.iridescenceIOR.value=A.iridescenceIOR,_.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(_.iridescenceMap.value=A.iridescenceMap),A.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=A.iridescenceThicknessMap)),A.transmission>0&&(_.transmission.value=A.transmission,_.transmissionSamplerMap.value=b.texture,_.transmissionSamplerSize.value.set(b.width,b.height),A.transmissionMap&&(_.transmissionMap.value=A.transmissionMap),_.thickness.value=A.thickness,A.thicknessMap&&(_.thicknessMap.value=A.thicknessMap),_.attenuationDistance.value=A.attenuationDistance,_.attenuationColor.value.copy(A.attenuationColor)),_.specularIntensity.value=A.specularIntensity,_.specularColor.value.copy(A.specularColor),A.specularIntensityMap&&(_.specularIntensityMap.value=A.specularIntensityMap),A.specularColorMap&&(_.specularColorMap.value=A.specularColorMap)}function v(_,A){A.matcap&&(_.matcap.value=A.matcap)}function w(_,A){_.referencePosition.value.copy(A.referencePosition),_.nearDistance.value=A.nearDistance,_.farDistance.value=A.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function gO(r,e,t,n){let i={},s={},o=[];const l=t.isWebGL2?r.getParameter(35375):0;function c(E,T){const R=T.program;n.uniformBlockBinding(E,R)}function d(E,T){let R=i[E.id];R===void 0&&(w(E),R=p(E),i[E.id]=R,E.addEventListener("dispose",A));const L=T.program;n.updateUBOMapping(E,L);const O=e.render.frame;s[E.id]!==O&&(y(E),s[E.id]=O)}function p(E){const T=m();E.__bindingPointIndex=T;const R=r.createBuffer(),L=E.__size,O=E.usage;return r.bindBuffer(35345,R),r.bufferData(35345,L,O),r.bindBuffer(35345,null),r.bindBufferBase(35345,T,R),R}function m(){for(let E=0;E<l;E++)if(o.indexOf(E)===-1)return o.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(E){const T=i[E.id],R=E.uniforms,L=E.__cache;r.bindBuffer(35345,T);for(let O=0,F=R.length;O<F;O++){const I=R[O];if(v(I,O,L)===!0){const G=I.__offset,V=Array.isArray(I.value)?I.value:[I.value];let q=0;for(let ce=0;ce<V.length;ce++){const ee=V[ce],Z=_(ee);typeof ee=="number"?(I.__data[0]=ee,r.bufferSubData(35345,G+q,I.__data)):ee.isMatrix3?(I.__data[0]=ee.elements[0],I.__data[1]=ee.elements[1],I.__data[2]=ee.elements[2],I.__data[3]=ee.elements[0],I.__data[4]=ee.elements[3],I.__data[5]=ee.elements[4],I.__data[6]=ee.elements[5],I.__data[7]=ee.elements[0],I.__data[8]=ee.elements[6],I.__data[9]=ee.elements[7],I.__data[10]=ee.elements[8],I.__data[11]=ee.elements[0]):(ee.toArray(I.__data,q),q+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(35345,G,I.__data)}}r.bindBuffer(35345,null)}function v(E,T,R){const L=E.value;if(R[T]===void 0){if(typeof L=="number")R[T]=L;else{const O=Array.isArray(L)?L:[L],F=[];for(let I=0;I<O.length;I++)F.push(O[I].clone());R[T]=F}return!0}else if(typeof L=="number"){if(R[T]!==L)return R[T]=L,!0}else{const O=Array.isArray(R[T])?R[T]:[R[T]],F=Array.isArray(L)?L:[L];for(let I=0;I<O.length;I++){const G=O[I];if(G.equals(F[I])===!1)return G.copy(F[I]),!0}}return!1}function w(E){const T=E.uniforms;let R=0;const L=16;let O=0;for(let F=0,I=T.length;F<I;F++){const G=T[F],V={boundary:0,storage:0},q=Array.isArray(G.value)?G.value:[G.value];for(let ce=0,ee=q.length;ce<ee;ce++){const Z=q[ce],le=_(Z);V.boundary+=le.boundary,V.storage+=le.storage}if(G.__data=new Float32Array(V.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=R,F>0){O=R%L;const ce=L-O;O!==0&&ce-V.boundary<0&&(R+=L-O,G.__offset=R)}R+=V.storage}return O=R%L,O>0&&(R+=L-O),E.__size=R,E.__cache={},this}function _(E){const T={boundary:0,storage:0};return typeof E=="number"?(T.boundary=4,T.storage=4):E.isVector2?(T.boundary=8,T.storage=8):E.isVector3||E.isColor?(T.boundary=16,T.storage=12):E.isVector4?(T.boundary=16,T.storage=16):E.isMatrix3?(T.boundary=48,T.storage=48):E.isMatrix4?(T.boundary=64,T.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),T}function A(E){const T=E.target;T.removeEventListener("dispose",A);const R=o.indexOf(T.__bindingPointIndex);o.splice(R,1),r.deleteBuffer(i[T.id]),delete i[T.id],delete s[T.id]}function b(){for(const E in i)r.deleteBuffer(i[E]);o=[],i={},s={}}return{bind:c,update:d,dispose:b}}function yO(){const r=bp("canvas");return r.style.display="block",r}function i1(r={}){this.isWebGLRenderer=!0;const e=r.canvas!==void 0?r.canvas:yO(),t=r.context!==void 0?r.context:null,n=r.depth!==void 0?r.depth:!0,i=r.stencil!==void 0?r.stencil:!0,s=r.antialias!==void 0?r.antialias:!1,o=r.premultipliedAlpha!==void 0?r.premultipliedAlpha:!0,l=r.preserveDrawingBuffer!==void 0?r.preserveDrawingBuffer:!1,c=r.powerPreference!==void 0?r.powerPreference:"default",d=r.failIfMajorPerformanceCaveat!==void 0?r.failIfMajorPerformanceCaveat:!1;let p;t!==null?p=t.getContextAttributes().alpha:p=r.alpha!==void 0?r.alpha:!1;let m=null,y=null;const v=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Wa,this.physicallyCorrectLights=!1,this.toneMapping=po,this.toneMappingExposure=1;const _=this;let A=!1,b=0,E=0,T=null,R=-1,L=null;const O=new xn,F=new xn;let I=null,G=e.width,V=e.height,q=1,ce=null,ee=null;const Z=new xn(0,0,G,V),le=new xn(0,0,G,V);let he=!1;const de=new $0;let z=!1,K=!1,$=null;const U=new It,j=new Ie,ge=new W,_e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Pe(){return T===null?q:1}let fe=t;function Ve(J,ye){for(let Re=0;Re<J.length;Re++){const me=J[Re],Be=e.getContext(me,ye);if(Be!==null)return Be}return null}try{const J={alpha:!0,depth:n,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${kp}`),e.addEventListener("webglcontextlost",yt,!1),e.addEventListener("webglcontextrestored",ft,!1),e.addEventListener("webglcontextcreationerror",re,!1),fe===null){const ye=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&ye.shift(),fe=Ve(ye,J),fe===null)throw Ve(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}fe.getShaderPrecisionFormat===void 0&&(fe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let ke,Ye,Ue,ht,Te,Ae,Ge,et,$e,At,gt,lt,Gt,Nt,Y,H,ae,Le,Fe,We,pt,Qe,Ce,at;function St(){ke=new LL(fe),Ye=new CL(fe,ke,r),ke.init(Ye),Qe=new tC(fe,ke,Ye),Ue=new fO(fe,ke,Ye),ht=new kL,Te=new ZD,Ae=new dO(fe,ke,Ue,Te,Ye,Qe,ht),Ge=new RL(_),et=new IL(_),$e=new jB(fe,Ye),Ce=new bL(fe,ke,$e,Ye),At=new DL(fe,$e,ht,Ce),gt=new UL(fe,At,$e,ht),Fe=new zL(fe,Ye,Ae),H=new TL(Te),lt=new qD(_,Ge,et,ke,Ye,Ce,H),Gt=new mO(_,Te),Nt=new tO,Y=new aO(ke,Ye),Le=new ML(_,Ge,et,Ue,gt,p,o),ae=new cO(_,gt,Ye),at=new gO(fe,ht,Ye,Ue),We=new EL(fe,ke,ht,Ye),pt=new OL(fe,ke,ht,Ye),ht.programs=lt.programs,_.capabilities=Ye,_.extensions=ke,_.properties=Te,_.renderLists=Nt,_.shadowMap=ae,_.state=Ue,_.info=ht}St();const st=new pO(_,fe);this.xr=st,this.getContext=function(){return fe},this.getContextAttributes=function(){return fe.getContextAttributes()},this.forceContextLoss=function(){const J=ke.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=ke.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(J){J!==void 0&&(q=J,this.setSize(G,V,!1))},this.getSize=function(J){return J.set(G,V)},this.setSize=function(J,ye,Re){if(st.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=J,V=ye,e.width=Math.floor(J*q),e.height=Math.floor(ye*q),Re!==!1&&(e.style.width=J+"px",e.style.height=ye+"px"),this.setViewport(0,0,J,ye)},this.getDrawingBufferSize=function(J){return J.set(G*q,V*q).floor()},this.setDrawingBufferSize=function(J,ye,Re){G=J,V=ye,q=Re,e.width=Math.floor(J*Re),e.height=Math.floor(ye*Re),this.setViewport(0,0,J,ye)},this.getCurrentViewport=function(J){return J.copy(O)},this.getViewport=function(J){return J.copy(Z)},this.setViewport=function(J,ye,Re,me){J.isVector4?Z.set(J.x,J.y,J.z,J.w):Z.set(J,ye,Re,me),Ue.viewport(O.copy(Z).multiplyScalar(q).floor())},this.getScissor=function(J){return J.copy(le)},this.setScissor=function(J,ye,Re,me){J.isVector4?le.set(J.x,J.y,J.z,J.w):le.set(J,ye,Re,me),Ue.scissor(F.copy(le).multiplyScalar(q).floor())},this.getScissorTest=function(){return he},this.setScissorTest=function(J){Ue.setScissorTest(he=J)},this.setOpaqueSort=function(J){ce=J},this.setTransparentSort=function(J){ee=J},this.getClearColor=function(J){return J.copy(Le.getClearColor())},this.setClearColor=function(){Le.setClearColor.apply(Le,arguments)},this.getClearAlpha=function(){return Le.getClearAlpha()},this.setClearAlpha=function(){Le.setClearAlpha.apply(Le,arguments)},this.clear=function(J=!0,ye=!0,Re=!0){let me=0;J&&(me|=16384),ye&&(me|=256),Re&&(me|=1024),fe.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",yt,!1),e.removeEventListener("webglcontextrestored",ft,!1),e.removeEventListener("webglcontextcreationerror",re,!1),Nt.dispose(),Y.dispose(),Te.dispose(),Ge.dispose(),et.dispose(),gt.dispose(),Ce.dispose(),at.dispose(),lt.dispose(),st.dispose(),st.removeEventListener("sessionstart",Xe),st.removeEventListener("sessionend",vt),$&&($.dispose(),$=null),Kt.stop()};function yt(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function ft(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const J=ht.autoReset,ye=ae.enabled,Re=ae.autoUpdate,me=ae.needsUpdate,Be=ae.type;St(),ht.autoReset=J,ae.enabled=ye,ae.autoUpdate=Re,ae.needsUpdate=me,ae.type=Be}function re(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function De(J){const ye=J.target;ye.removeEventListener("dispose",De),nt(ye)}function nt(J){ne(J),Te.remove(J)}function ne(J){const ye=Te.get(J).programs;ye!==void 0&&(ye.forEach(function(Re){lt.releaseProgram(Re)}),J.isShaderMaterial&&lt.releaseShaderCache(J))}this.renderBufferDirect=function(J,ye,Re,me,Be,Mt){ye===null&&(ye=_e);const Et=Be.isMesh&&Be.matrixWorld.determinant()<0,zt=jo(J,ye,Re,me,Be);Ue.setMaterial(me,Et);let Vt=Re.index,en=1;me.wireframe===!0&&(Vt=At.getWireframeAttribute(Re),en=2);const Yt=Re.drawRange,Qt=Re.attributes.position;let Ln=Yt.start*en,Pr=(Yt.start+Yt.count)*en;Mt!==null&&(Ln=Math.max(Ln,Mt.start*en),Pr=Math.min(Pr,(Mt.start+Mt.count)*en)),Vt!==null?(Ln=Math.max(Ln,0),Pr=Math.min(Pr,Vt.count)):Qt!=null&&(Ln=Math.max(Ln,0),Pr=Math.min(Pr,Qt.count));const $i=Pr-Ln;if($i<0||$i===1/0)return;Ce.setup(Be,me,zt,Re,Vt);let Ls,Dt=We;if(Vt!==null&&(Ls=$e.get(Vt),Dt=pt,Dt.setIndex(Ls)),Be.isMesh)me.wireframe===!0?(Ue.setLineWidth(me.wireframeLinewidth*Pe()),Dt.setMode(1)):Dt.setMode(4);else if(Be.isLine){let Wt=me.linewidth;Wt===void 0&&(Wt=1),Ue.setLineWidth(Wt*Pe()),Be.isLineSegments?Dt.setMode(1):Be.isLineLoop?Dt.setMode(2):Dt.setMode(3)}else Be.isPoints?Dt.setMode(0):Be.isSprite&&Dt.setMode(4);if(Be.isInstancedMesh)Dt.renderInstances(Ln,$i,Be.count);else if(Re.isInstancedBufferGeometry){const Wt=Re._maxInstanceCount!==void 0?Re._maxInstanceCount:1/0,Ds=Math.min(Re.instanceCount,Wt);Dt.renderInstances(Ln,$i,Ds)}else Dt.render(Ln,$i)},this.compile=function(J,ye){function Re(me,Be,Mt){me.transparent===!0&&me.side===up?(me.side=us,me.needsUpdate=!0,In(me,Be,Mt),me.side=Va,me.needsUpdate=!0,In(me,Be,Mt),me.side=up):In(me,Be,Mt)}y=Y.get(J),y.init(),w.push(y),J.traverseVisible(function(me){me.isLight&&me.layers.test(ye.layers)&&(y.pushLight(me),me.castShadow&&y.pushShadow(me))}),y.setupLights(_.physicallyCorrectLights),J.traverse(function(me){const Be=me.material;if(Be)if(Array.isArray(Be))for(let Mt=0;Mt<Be.length;Mt++){const Et=Be[Mt];Re(Et,J,me)}else Re(Be,J,me)}),w.pop(),y=null};let we=null;function Oe(J){we&&we(J)}function Xe(){Kt.stop()}function vt(){Kt.start()}const Kt=new YE;Kt.setAnimationLoop(Oe),typeof self<"u"&&Kt.setContext(self),this.setAnimationLoop=function(J){we=J,st.setAnimationLoop(J),J===null?Kt.stop():Kt.start()},st.addEventListener("sessionstart",Xe),st.addEventListener("sessionend",vt),this.render=function(J,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),st.enabled===!0&&st.isPresenting===!0&&(st.cameraAutoUpdate===!0&&st.updateCamera(ye),ye=st.getCamera()),J.isScene===!0&&J.onBeforeRender(_,J,ye,T),y=Y.get(J,w.length),y.init(),w.push(y),U.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),de.setFromProjectionMatrix(U),K=this.localClippingEnabled,z=H.init(this.clippingPlanes,K,ye),m=Nt.get(J,v.length),m.init(),v.push(m),an(J,ye,0,_.sortObjects),m.finish(),_.sortObjects===!0&&m.sort(ce,ee),z===!0&&H.beginShadows();const Re=y.state.shadowsArray;if(ae.render(Re,J,ye),z===!0&&H.endShadows(),this.info.autoReset===!0&&this.info.reset(),Le.render(m,J),y.setupLights(_.physicallyCorrectLights),ye.isArrayCamera){const me=ye.cameras;for(let Be=0,Mt=me.length;Be<Mt;Be++){const Et=me[Be];mn(m,J,Et,Et.viewport)}}else mn(m,J,ye);T!==null&&(Ae.updateMultisampleRenderTarget(T),Ae.updateRenderTargetMipmap(T)),J.isScene===!0&&J.onAfterRender(_,J,ye),Ce.resetDefaultState(),R=-1,L=null,w.pop(),w.length>0?y=w[w.length-1]:y=null,v.pop(),v.length>0?m=v[v.length-1]:m=null};function an(J,ye,Re,me){if(J.visible===!1)return;if(J.layers.test(ye.layers)){if(J.isGroup)Re=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(ye);else if(J.isLight)y.pushLight(J),J.castShadow&&y.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||de.intersectsSprite(J)){me&&ge.setFromMatrixPosition(J.matrixWorld).applyMatrix4(U);const Et=gt.update(J),zt=J.material;zt.visible&&m.push(J,Et,zt,Re,ge.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==ht.render.frame&&(J.skeleton.update(),J.skeleton.frame=ht.render.frame),!J.frustumCulled||de.intersectsObject(J))){me&&ge.setFromMatrixPosition(J.matrixWorld).applyMatrix4(U);const Et=gt.update(J),zt=J.material;if(Array.isArray(zt)){const Vt=Et.groups;for(let en=0,Yt=Vt.length;en<Yt;en++){const Qt=Vt[en],Ln=zt[Qt.materialIndex];Ln&&Ln.visible&&m.push(J,Et,Ln,Re,ge.z,Qt)}}else zt.visible&&m.push(J,Et,zt,Re,ge.z,null)}}const Mt=J.children;for(let Et=0,zt=Mt.length;Et<zt;Et++)an(Mt[Et],ye,Re,me)}function mn(J,ye,Re,me){const Be=J.opaque,Mt=J.transmissive,Et=J.transparent;y.setupLightsView(Re),Mt.length>0&&vr(Be,ye,Re),me&&Ue.viewport(O.copy(me)),Be.length>0&&Zt(Be,ye,Re),Mt.length>0&&Zt(Mt,ye,Re),Et.length>0&&Zt(Et,ye,Re),Ue.buffers.depth.setTest(!0),Ue.buffers.depth.setMask(!0),Ue.buffers.color.setMask(!0),Ue.setPolygonOffset(!1)}function vr(J,ye,Re){const me=Ye.isWebGL2;$===null&&($=new Rs(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?Ad:$l,minFilter:Uo,samples:me&&s===!0?4:0})),_.getDrawingBufferSize(j),me?$.setSize(j.x,j.y):$.setSize(w0(j.x),w0(j.y));const Be=_.getRenderTarget();_.setRenderTarget($),_.clear();const Mt=_.toneMapping;_.toneMapping=po,Zt(J,ye,Re),_.toneMapping=Mt,Ae.updateMultisampleRenderTarget($),Ae.updateRenderTargetMipmap($),_.setRenderTarget(Be)}function Zt(J,ye,Re){const me=ye.isScene===!0?ye.overrideMaterial:null;for(let Be=0,Mt=J.length;Be<Mt;Be++){const Et=J[Be],zt=Et.object,Vt=Et.geometry,en=me===null?Et.material:me,Yt=Et.group;zt.layers.test(Re.layers)&&rr(zt,ye,Re,Vt,en,Yt)}}function rr(J,ye,Re,me,Be,Mt){J.onBeforeRender(_,ye,Re,me,Be,Mt),J.modelViewMatrix.multiplyMatrices(Re.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Be.onBeforeRender(_,ye,Re,me,J,Mt),Be.transparent===!0&&Be.side===up?(Be.side=us,Be.needsUpdate=!0,_.renderBufferDirect(Re,ye,me,Be,J,Mt),Be.side=Va,Be.needsUpdate=!0,_.renderBufferDirect(Re,ye,me,Be,J,Mt),Be.side=up):_.renderBufferDirect(Re,ye,me,Be,J,Mt),J.onAfterRender(_,ye,Re,me,Be,Mt)}function In(J,ye,Re){ye.isScene!==!0&&(ye=_e);const me=Te.get(J),Be=y.state.lights,Mt=y.state.shadowsArray,Et=Be.state.version,zt=lt.getParameters(J,Be.state,Mt,ye,Re),Vt=lt.getProgramCacheKey(zt);let en=me.programs;me.environment=J.isMeshStandardMaterial?ye.environment:null,me.fog=ye.fog,me.envMap=(J.isMeshStandardMaterial?et:Ge).get(J.envMap||me.environment),en===void 0&&(J.addEventListener("dispose",De),en=new Map,me.programs=en);let Yt=en.get(Vt);if(Yt!==void 0){if(me.currentProgram===Yt&&me.lightsStateVersion===Et)return qa(J,zt),Yt}else zt.uniforms=lt.getUniforms(J),J.onBuild(Re,zt,_),J.onBeforeCompile(zt,_),Yt=lt.acquireProgram(zt,Vt),en.set(Vt,Yt),me.uniforms=zt.uniforms;const Qt=me.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(Qt.clippingPlanes=H.uniform),qa(J,zt),me.needsLights=Is(J),me.lightsStateVersion=Et,me.needsLights&&(Qt.ambientLightColor.value=Be.state.ambient,Qt.lightProbe.value=Be.state.probe,Qt.directionalLights.value=Be.state.directional,Qt.directionalLightShadows.value=Be.state.directionalShadow,Qt.spotLights.value=Be.state.spot,Qt.spotLightShadows.value=Be.state.spotShadow,Qt.rectAreaLights.value=Be.state.rectArea,Qt.ltc_1.value=Be.state.rectAreaLTC1,Qt.ltc_2.value=Be.state.rectAreaLTC2,Qt.pointLights.value=Be.state.point,Qt.pointLightShadows.value=Be.state.pointShadow,Qt.hemisphereLights.value=Be.state.hemi,Qt.directionalShadowMap.value=Be.state.directionalShadowMap,Qt.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,Qt.spotShadowMap.value=Be.state.spotShadowMap,Qt.spotLightMatrix.value=Be.state.spotLightMatrix,Qt.spotLightMap.value=Be.state.spotLightMap,Qt.pointShadowMap.value=Be.state.pointShadowMap,Qt.pointShadowMatrix.value=Be.state.pointShadowMatrix);const Ln=Yt.getUniforms(),Pr=h0.seqWithValue(Ln.seq,Qt);return me.currentProgram=Yt,me.uniformsList=Pr,Yt}function qa(J,ye){const Re=Te.get(J);Re.outputEncoding=ye.outputEncoding,Re.instancing=ye.instancing,Re.skinning=ye.skinning,Re.morphTargets=ye.morphTargets,Re.morphNormals=ye.morphNormals,Re.morphColors=ye.morphColors,Re.morphTargetsCount=ye.morphTargetsCount,Re.numClippingPlanes=ye.numClippingPlanes,Re.numIntersection=ye.numClipIntersection,Re.vertexAlphas=ye.vertexAlphas,Re.vertexTangents=ye.vertexTangents,Re.toneMapping=ye.toneMapping}function jo(J,ye,Re,me,Be){ye.isScene!==!0&&(ye=_e),Ae.resetTextureUnits();const Mt=ye.fog,Et=me.isMeshStandardMaterial?ye.environment:null,zt=T===null?_.outputEncoding:T.isXRRenderTarget===!0?T.texture.encoding:Wa,Vt=(me.isMeshStandardMaterial?et:Ge).get(me.envMap||Et),en=me.vertexColors===!0&&!!Re.attributes.color&&Re.attributes.color.itemSize===4,Yt=!!me.normalMap&&!!Re.attributes.tangent,Qt=!!Re.morphAttributes.position,Ln=!!Re.morphAttributes.normal,Pr=!!Re.morphAttributes.color,$i=me.toneMapped?_.toneMapping:po,Ls=Re.morphAttributes.position||Re.morphAttributes.normal||Re.morphAttributes.color,Dt=Ls!==void 0?Ls.length:0,Wt=Te.get(me),Ds=y.state.lights;if(z===!0&&(K===!0||J!==L)){const dn=J===L&&me.id===R;H.setState(me,J,dn)}let Dn=!1;me.version===Wt.__version?(Wt.needsLights&&Wt.lightsStateVersion!==Ds.state.version||Wt.outputEncoding!==zt||Be.isInstancedMesh&&Wt.instancing===!1||!Be.isInstancedMesh&&Wt.instancing===!0||Be.isSkinnedMesh&&Wt.skinning===!1||!Be.isSkinnedMesh&&Wt.skinning===!0||Wt.envMap!==Vt||me.fog===!0&&Wt.fog!==Mt||Wt.numClippingPlanes!==void 0&&(Wt.numClippingPlanes!==H.numPlanes||Wt.numIntersection!==H.numIntersection)||Wt.vertexAlphas!==en||Wt.vertexTangents!==Yt||Wt.morphTargets!==Qt||Wt.morphNormals!==Ln||Wt.morphColors!==Pr||Wt.toneMapping!==$i||Ye.isWebGL2===!0&&Wt.morphTargetsCount!==Dt)&&(Dn=!0):(Dn=!0,Wt.__version=me.version);let Ri=Wt.currentProgram;Dn===!0&&(Ri=In(me,ye,Be));let Za=!1,ci=!1,Ur=!1;const Ct=Ri.getUniforms(),nn=Wt.uniforms;if(Ue.useProgram(Ri.program)&&(Za=!0,ci=!0,Ur=!0),me.id!==R&&(R=me.id,ci=!0),Za||L!==J){if(Ct.setValue(fe,"projectionMatrix",J.projectionMatrix),Ye.logarithmicDepthBuffer&&Ct.setValue(fe,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),L!==J&&(L=J,ci=!0,Ur=!0),me.isShaderMaterial||me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshStandardMaterial||me.envMap){const dn=Ct.map.cameraPosition;dn!==void 0&&dn.setValue(fe,ge.setFromMatrixPosition(J.matrixWorld))}(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&Ct.setValue(fe,"isOrthographic",J.isOrthographicCamera===!0),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial||me.isShadowMaterial||Be.isSkinnedMesh)&&Ct.setValue(fe,"viewMatrix",J.matrixWorldInverse)}if(Be.isSkinnedMesh){Ct.setOptional(fe,Be,"bindMatrix"),Ct.setOptional(fe,Be,"bindMatrixInverse");const dn=Be.skeleton;dn&&(Ye.floatVertexTextures?(dn.boneTexture===null&&dn.computeBoneTexture(),Ct.setValue(fe,"boneTexture",dn.boneTexture,Ae),Ct.setValue(fe,"boneTextureSize",dn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Fn=Re.morphAttributes;if((Fn.position!==void 0||Fn.normal!==void 0||Fn.color!==void 0&&Ye.isWebGL2===!0)&&Fe.update(Be,Re,me,Ri),(ci||Wt.receiveShadow!==Be.receiveShadow)&&(Wt.receiveShadow=Be.receiveShadow,Ct.setValue(fe,"receiveShadow",Be.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(nn.envMap.value=Vt,nn.flipEnvMap.value=Vt.isCubeTexture&&Vt.isRenderTargetTexture===!1?-1:1),ci&&(Ct.setValue(fe,"toneMappingExposure",_.toneMappingExposure),Wt.needsLights&&zc(nn,Ur),Mt&&me.fog===!0&&Gt.refreshFogUniforms(nn,Mt),Gt.refreshMaterialUniforms(nn,me,q,V,$),h0.upload(fe,Wt.uniformsList,nn,Ae)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(h0.upload(fe,Wt.uniformsList,nn,Ae),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&Ct.setValue(fe,"center",Be.center),Ct.setValue(fe,"modelViewMatrix",Be.modelViewMatrix),Ct.setValue(fe,"normalMatrix",Be.normalMatrix),Ct.setValue(fe,"modelMatrix",Be.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const dn=me.uniformsGroups;for(let ur=0,Os=dn.length;ur<Os;ur++)if(Ye.isWebGL2){const Pi=dn[ur];at.update(Pi,Ri),at.bind(Pi,Ri)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ri}function zc(J,ye){J.ambientLightColor.needsUpdate=ye,J.lightProbe.needsUpdate=ye,J.directionalLights.needsUpdate=ye,J.directionalLightShadows.needsUpdate=ye,J.pointLights.needsUpdate=ye,J.pointLightShadows.needsUpdate=ye,J.spotLights.needsUpdate=ye,J.spotLightShadows.needsUpdate=ye,J.rectAreaLights.needsUpdate=ye,J.hemisphereLights.needsUpdate=ye}function Is(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(J,ye,Re){Te.get(J.texture).__webglTexture=ye,Te.get(J.depthTexture).__webglTexture=Re;const me=Te.get(J);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=Re===void 0,me.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,ye){const Re=Te.get(J);Re.__webglFramebuffer=ye,Re.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(J,ye=0,Re=0){T=J,b=ye,E=Re;let me=!0,Be=null,Mt=!1,Et=!1;if(J){const Vt=Te.get(J);Vt.__useDefaultFramebuffer!==void 0?(Ue.bindFramebuffer(36160,null),me=!1):Vt.__webglFramebuffer===void 0?Ae.setupRenderTarget(J):Vt.__hasExternalTextures&&Ae.rebindTextures(J,Te.get(J.texture).__webglTexture,Te.get(J.depthTexture).__webglTexture);const en=J.texture;(en.isData3DTexture||en.isDataArrayTexture||en.isCompressedArrayTexture)&&(Et=!0);const Yt=Te.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Be=Yt[ye],Mt=!0):Ye.isWebGL2&&J.samples>0&&Ae.useMultisampledRTT(J)===!1?Be=Te.get(J).__webglMultisampledFramebuffer:Be=Yt,O.copy(J.viewport),F.copy(J.scissor),I=J.scissorTest}else O.copy(Z).multiplyScalar(q).floor(),F.copy(le).multiplyScalar(q).floor(),I=he;if(Ue.bindFramebuffer(36160,Be)&&Ye.drawBuffers&&me&&Ue.drawBuffers(J,Be),Ue.viewport(O),Ue.scissor(F),Ue.setScissorTest(I),Mt){const Vt=Te.get(J.texture);fe.framebufferTexture2D(36160,36064,34069+ye,Vt.__webglTexture,Re)}else if(Et){const Vt=Te.get(J.texture),en=ye||0;fe.framebufferTextureLayer(36160,36064,Vt.__webglTexture,Re||0,en)}R=-1},this.readRenderTargetPixels=function(J,ye,Re,me,Be,Mt,Et){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let zt=Te.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&Et!==void 0&&(zt=zt[Et]),zt){Ue.bindFramebuffer(36160,zt);try{const Vt=J.texture,en=Vt.format,Yt=Vt.type;if(en!==as&&Qe.convert(en)!==fe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Qt=Yt===Ad&&(ke.has("EXT_color_buffer_half_float")||Ye.isWebGL2&&ke.has("EXT_color_buffer_float"));if(Yt!==$l&&Qe.convert(Yt)!==fe.getParameter(35738)&&!(Yt===Fa&&(Ye.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float")))&&!Qt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=J.width-me&&Re>=0&&Re<=J.height-Be&&fe.readPixels(ye,Re,me,Be,Qe.convert(en),Qe.convert(Yt),Mt)}finally{const Vt=T!==null?Te.get(T).__webglFramebuffer:null;Ue.bindFramebuffer(36160,Vt)}}},this.copyFramebufferToTexture=function(J,ye,Re=0){const me=Math.pow(2,-Re),Be=Math.floor(ye.image.width*me),Mt=Math.floor(ye.image.height*me);Ae.setTexture2D(ye,0),fe.copyTexSubImage2D(3553,Re,0,0,J.x,J.y,Be,Mt),Ue.unbindTexture()},this.copyTextureToTexture=function(J,ye,Re,me=0){const Be=ye.image.width,Mt=ye.image.height,Et=Qe.convert(Re.format),zt=Qe.convert(Re.type);Ae.setTexture2D(Re,0),fe.pixelStorei(37440,Re.flipY),fe.pixelStorei(37441,Re.premultiplyAlpha),fe.pixelStorei(3317,Re.unpackAlignment),ye.isDataTexture?fe.texSubImage2D(3553,me,J.x,J.y,Be,Mt,Et,zt,ye.image.data):ye.isCompressedTexture?fe.compressedTexSubImage2D(3553,me,J.x,J.y,ye.mipmaps[0].width,ye.mipmaps[0].height,Et,ye.mipmaps[0].data):fe.texSubImage2D(3553,me,J.x,J.y,Et,zt,ye.image),me===0&&Re.generateMipmaps&&fe.generateMipmap(3553),Ue.unbindTexture()},this.copyTextureToTexture3D=function(J,ye,Re,me,Be=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Mt=J.max.x-J.min.x+1,Et=J.max.y-J.min.y+1,zt=J.max.z-J.min.z+1,Vt=Qe.convert(me.format),en=Qe.convert(me.type);let Yt;if(me.isData3DTexture)Ae.setTexture3D(me,0),Yt=32879;else if(me.isDataArrayTexture)Ae.setTexture2DArray(me,0),Yt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}fe.pixelStorei(37440,me.flipY),fe.pixelStorei(37441,me.premultiplyAlpha),fe.pixelStorei(3317,me.unpackAlignment);const Qt=fe.getParameter(3314),Ln=fe.getParameter(32878),Pr=fe.getParameter(3316),$i=fe.getParameter(3315),Ls=fe.getParameter(32877),Dt=Re.isCompressedTexture?Re.mipmaps[0]:Re.image;fe.pixelStorei(3314,Dt.width),fe.pixelStorei(32878,Dt.height),fe.pixelStorei(3316,J.min.x),fe.pixelStorei(3315,J.min.y),fe.pixelStorei(32877,J.min.z),Re.isDataTexture||Re.isData3DTexture?fe.texSubImage3D(Yt,Be,ye.x,ye.y,ye.z,Mt,Et,zt,Vt,en,Dt.data):Re.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),fe.compressedTexSubImage3D(Yt,Be,ye.x,ye.y,ye.z,Mt,Et,zt,Vt,Dt.data)):fe.texSubImage3D(Yt,Be,ye.x,ye.y,ye.z,Mt,Et,zt,Vt,en,Dt),fe.pixelStorei(3314,Qt),fe.pixelStorei(32878,Ln),fe.pixelStorei(3316,Pr),fe.pixelStorei(3315,$i),fe.pixelStorei(32877,Ls),Be===0&&me.generateMipmaps&&fe.generateMipmap(Yt),Ue.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?Ae.setTextureCube(J,0):J.isData3DTexture?Ae.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?Ae.setTexture2DArray(J,0):Ae.setTexture2D(J,0),Ue.unbindTexture()},this.resetState=function(){b=0,E=0,T=null,Ue.reset(),Ce.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class iC extends i1{}iC.prototype.isWebGL1Renderer=!0;class K0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new tt(e),this.density=t}clone(){return new K0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Y0{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new tt(e),this.near=t,this.far=n}clone(){return new Y0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class s1 extends on{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Gp{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ap,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=cs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const wi=new W;class Xl{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)wi.fromBufferAttribute(this,t),wi.applyMatrix4(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)wi.fromBufferAttribute(this,t),wi.applyNormalMatrix(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)wi.fromBufferAttribute(this,t),wi.transformDirection(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Na(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Na(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Na(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Na(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array),s=Tn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new pn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class o1 extends yr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new tt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ed;const qh=new W,td=new W,nd=new W,rd=new Ie,Zh=new Ie,sC=new It,Eg=new W,ep=new W,Cg=new W,IS=new Ie,Sv=new Ie,LS=new Ie;class oC extends on{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",ed===void 0){ed=new Jt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Gp(t,5);ed.setIndex([0,1,2,0,2,3]),ed.setAttribute("position",new Xl(n,3,0,!1)),ed.setAttribute("uv",new Xl(n,2,3,!1))}this.geometry=ed,this.material=e!==void 0?e:new o1,this.center=new Ie(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),td.setFromMatrixScale(this.matrixWorld),sC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),nd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&td.multiplyScalar(-nd.z);const n=this.material.rotation;let i,s;n!==0&&(s=Math.cos(n),i=Math.sin(n));const o=this.center;Tg(Eg.set(-.5,-.5,0),nd,o,td,i,s),Tg(ep.set(.5,-.5,0),nd,o,td,i,s),Tg(Cg.set(.5,.5,0),nd,o,td,i,s),IS.set(0,0),Sv.set(1,0),LS.set(1,1);let l=e.ray.intersectTriangle(Eg,ep,Cg,!1,qh);if(l===null&&(Tg(ep.set(-.5,.5,0),nd,o,td,i,s),Sv.set(0,1),l=e.ray.intersectTriangle(Eg,Cg,ep,!1,qh),l===null))return;const c=e.ray.origin.distanceTo(qh);c<e.near||c>e.far||t.push({distance:c,point:qh.clone(),uv:Cs.getUV(qh,Eg,ep,Cg,IS,Sv,LS,new Ie),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Tg(r,e,t,n,i,s){rd.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(Zh.x=s*rd.x-i*rd.y,Zh.y=i*rd.x+s*rd.y):Zh.copy(rd),r.copy(e),r.x+=Zh.x,r.y+=Zh.y,r.applyMatrix4(sC)}const Rg=new W,DS=new W;class aC extends on{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Rg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Rg);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Rg.setFromMatrixPosition(e.matrixWorld),DS.setFromMatrixPosition(this.matrixWorld);const n=Rg.distanceTo(DS)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),n>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,s=n.length;i<s;i++){const o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const OS=new W,kS=new xn,FS=new xn,vO=new W,NS=new It;class a1 extends Nr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new It,this.bindMatrixInverse=new It}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xn,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,i=this.geometry;kS.fromBufferAttribute(i.attributes.skinIndex,e),FS.fromBufferAttribute(i.attributes.skinWeight,e),OS.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=FS.getComponent(s);if(o!==0){const l=kS.getComponent(s);NS.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(vO.copy(OS).applyMatrix4(NS),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Q0 extends on{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vd extends Hn{constructor(e=null,t=1,n=1,i,s,o,l,c,d=er,p=er,m,y){super(null,o,l,c,d,p,i,s,m,y),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const zS=new It,xO=new It;class Vp{constructor(e=[],t=[]){this.uuid=cs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new It)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new It;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const l=e[s]?e[s].matrixWorld:xO;zS.multiplyMatrices(l,t[s]),zS.toArray(n,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Vp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=GE(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new vd(t,e,e,as,Fa);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const s=e.bones[n];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Q0),this.bones.push(o),this.boneInverses.push(new It().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const l=n[i];e.boneInverses.push(l.toArray())}return e}}class Ec extends pn{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const US=new It,HS=new It,Pg=[],_O=new It,tp=new Nr;class l1 extends Nr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ec(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let i=0;i<n;i++)this.setMatrixAt(i,_O)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,i=this.count;if(tp.geometry=this.geometry,tp.material=this.material,tp.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,US),HS.multiplyMatrices(n,US),tp.matrixWorld=HS,tp.raycast(e,Pg);for(let o=0,l=Pg.length;o<l;o++){const c=Pg[o];c.instanceId=s,c.object=this,t.push(c)}Pg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ec(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class li extends yr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new tt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const GS=new W,VS=new W,WS=new It,Av=new Ld,Bg=new nu;class ja extends on{constructor(e=new Jt,t=new li){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,s=t.count;i<s;i++)GS.fromBufferAttribute(t,i-1),VS.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=GS.distanceTo(VS);e.setAttribute("lineDistance",new _t(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Bg.copy(n.boundingSphere),Bg.applyMatrix4(i),Bg.radius+=s,e.ray.intersectsSphere(Bg)===!1)return;WS.copy(i).invert(),Av.copy(e.ray).applyMatrix4(WS);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=new W,p=new W,m=new W,y=new W,v=this.isLineSegments?2:1,w=n.index,A=n.attributes.position;if(w!==null){const b=Math.max(0,o.start),E=Math.min(w.count,o.start+o.count);for(let T=b,R=E-1;T<R;T+=v){const L=w.getX(T),O=w.getX(T+1);if(d.fromBufferAttribute(A,L),p.fromBufferAttribute(A,O),Av.distanceSqToSegment(d,p,y,m)>c)continue;y.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(y);I<e.near||I>e.far||t.push({distance:I,point:m.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else{const b=Math.max(0,o.start),E=Math.min(A.count,o.start+o.count);for(let T=b,R=E-1;T<R;T+=v){if(d.fromBufferAttribute(A,T),p.fromBufferAttribute(A,T+1),Av.distanceSqToSegment(d,p,y,m)>c)continue;y.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(y);O<e.near||O>e.far||t.push({distance:O,point:m.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}const jS=new W,JS=new W;class vo extends ja{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,s=t.count;i<s;i+=2)jS.fromBufferAttribute(t,i),JS.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+jS.distanceTo(JS);e.setAttribute("lineDistance",new _t(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class u1 extends ja{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class q0 extends yr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $S=new It,o_=new Ld,Ig=new nu,Lg=new W;class c1 extends on{constructor(e=new Jt,t=new q0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Ig.copy(n.boundingSphere),Ig.applyMatrix4(i),Ig.radius+=s,e.ray.intersectsSphere(Ig)===!1)return;$S.copy(i).invert(),o_.copy(e.ray).applyMatrix4($S);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=n.index,m=n.attributes.position;if(d!==null){const y=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let w=y,_=v;w<_;w++){const A=d.getX(w);Lg.fromBufferAttribute(m,A),XS(Lg,A,c,i,e,t,this)}}else{const y=Math.max(0,o.start),v=Math.min(m.count,o.start+o.count);for(let w=y,_=v;w<_;w++)Lg.fromBufferAttribute(m,w),XS(Lg,w,c,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function XS(r,e,t,n,i,s,o){const l=o_.distanceSqToPoint(r);if(l<t){const c=new W;o_.closestPointToPoint(r,c),c.applyMatrix4(n);const d=i.ray.origin.distanceTo(c);if(d<i.near||d>i.far)return;s.push({distance:d,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:o})}}class wO extends Hn{constructor(e,t,n,i,s,o,l,c,d){super(e,t,n,i,s,o,l,c,d),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Jn,this.magFilter=s!==void 0?s:Jn,this.generateMipmaps=!1;const p=this;function m(){p.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class SO extends Hn{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=er,this.minFilter=er,this.generateMipmaps=!1,this.needsUpdate=!0}}class f1 extends Hn{constructor(e,t,n,i,s,o,l,c,d,p,m,y){super(null,o,l,c,d,p,i,s,m,y),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class AO extends f1{constructor(e,t,n,i,s,o){super(e,t,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Yr}}class MO extends Hn{constructor(e,t,n,i,s,o,l,c,d){super(e,t,n,i,s,o,l,c,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(i),t.push(s),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let l=0,c=s-1,d;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),d=n[i]-o,d<0)l=i+1;else if(d>0)c=i-1;else{c=i;break}if(i=c,n[i]===o)return i/(s-1);const p=n[i],y=n[i+1]-p,v=(o-p)/y;return(i+v)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),l=this.getPoint(s),c=t||(o.isVector2?new Ie:new W);return c.copy(l).sub(o).normalize(),c}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new W,i=[],s=[],o=[],l=new W,c=new It;for(let v=0;v<=e;v++){const w=v/e;i[v]=this.getTangentAt(w,new W)}s[0]=new W,o[0]=new W;let d=Number.MAX_VALUE;const p=Math.abs(i[0].x),m=Math.abs(i[0].y),y=Math.abs(i[0].z);p<=d&&(d=p,n.set(1,0,0)),m<=d&&(d=m,n.set(0,1,0)),y<=d&&n.set(0,0,1),l.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],l),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),l.crossVectors(i[v-1],i[v]),l.length()>Number.EPSILON){l.normalize();const w=Math.acos(lr(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(l,w))}o[v].crossVectors(i[v],s[v])}if(t===!0){let v=Math.acos(lr(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(l.crossVectors(s[0],s[e]))>0&&(v=-v);for(let w=1;w<=e;w++)s[w].applyMatrix4(c.makeRotationAxis(i[w],v*w)),o[w].crossVectors(i[w],s[w])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Z0 extends xo{constructor(e=0,t=0,n=1,i=1,s=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,t){const n=t||new Ie,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),m=Math.sin(this.aRotation),y=c-this.aX,v=d-this.aY;c=y*p-v*m+this.aX,d=y*m+v*p+this.aY}return n.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class lC extends Z0{constructor(e,t,n,i,s,o){super(e,t,n,n,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function d1(){let r=0,e=0,t=0,n=0;function i(s,o,l,c){r=s,e=l,t=-3*s+3*o-2*l-c,n=2*s-2*o+l+c}return{initCatmullRom:function(s,o,l,c,d){i(o,l,d*(l-s),d*(c-o))},initNonuniformCatmullRom:function(s,o,l,c,d,p,m){let y=(o-s)/d-(l-s)/(d+p)+(l-o)/p,v=(l-o)/p-(c-o)/(p+m)+(c-l)/m;y*=p,v*=p,i(o,l,y,v)},calc:function(s){const o=s*s,l=o*s;return r+e*s+t*o+n*l}}}const Dg=new W,Mv=new d1,bv=new d1,Ev=new d1;class uC extends xo{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new W){const n=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let d,p;this.closed||l>0?d=i[(l-1)%s]:(Dg.subVectors(i[0],i[1]).add(i[0]),d=Dg);const m=i[l%s],y=i[(l+1)%s];if(this.closed||l+2<s?p=i[(l+2)%s]:(Dg.subVectors(i[s-1],i[s-2]).add(i[s-1]),p=Dg),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let w=Math.pow(d.distanceToSquared(m),v),_=Math.pow(m.distanceToSquared(y),v),A=Math.pow(y.distanceToSquared(p),v);_<1e-4&&(_=1),w<1e-4&&(w=_),A<1e-4&&(A=_),Mv.initNonuniformCatmullRom(d.x,m.x,y.x,p.x,w,_,A),bv.initNonuniformCatmullRom(d.y,m.y,y.y,p.y,w,_,A),Ev.initNonuniformCatmullRom(d.z,m.z,y.z,p.z,w,_,A)}else this.curveType==="catmullrom"&&(Mv.initCatmullRom(d.x,m.x,y.x,p.x,this.tension),bv.initCatmullRom(d.y,m.y,y.y,p.y,this.tension),Ev.initCatmullRom(d.z,m.z,y.z,p.z,this.tension));return n.set(Mv.calc(c),bv.calc(c),Ev.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new W().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function KS(r,e,t,n,i){const s=(n-e)*.5,o=(i-t)*.5,l=r*r,c=r*l;return(2*t-2*n+s+o)*c+(-3*t+3*n-2*s-o)*l+s*r+t}function bO(r,e){const t=1-r;return t*t*e}function EO(r,e){return 2*(1-r)*r*e}function CO(r,e){return r*r*e}function pp(r,e,t,n){return bO(r,e)+EO(r,t)+CO(r,n)}function TO(r,e){const t=1-r;return t*t*t*e}function RO(r,e){const t=1-r;return 3*t*t*r*e}function PO(r,e){return 3*(1-r)*r*r*e}function BO(r,e){return r*r*r*e}function mp(r,e,t,n,i){return TO(r,e)+RO(r,t)+PO(r,n)+BO(r,i)}class h1 extends xo{constructor(e=new Ie,t=new Ie,n=new Ie,i=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Ie){const n=t,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return n.set(mp(e,i.x,s.x,o.x,l.x),mp(e,i.y,s.y,o.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cC extends xo{constructor(e=new W,t=new W,n=new W,i=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new W){const n=t,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return n.set(mp(e,i.x,s.x,o.x,l.x),mp(e,i.y,s.y,o.y,l.y),mp(e,i.z,s.z,o.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ey extends xo{constructor(e=new Ie,t=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ie){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Ie;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fC extends xo{constructor(e=new W,t=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new W){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p1 extends xo{constructor(e=new Ie,t=new Ie,n=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ie){const n=t,i=this.v0,s=this.v1,o=this.v2;return n.set(pp(e,i.x,s.x,o.x),pp(e,i.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m1 extends xo{constructor(e=new W,t=new W,n=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new W){const n=t,i=this.v0,s=this.v1,o=this.v2;return n.set(pp(e,i.x,s.x,o.x),pp(e,i.y,s.y,o.y),pp(e,i.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class g1 extends xo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ie){const n=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),l=s-o,c=i[o===0?o:o-1],d=i[o],p=i[o>i.length-2?i.length-1:o+1],m=i[o>i.length-3?i.length-1:o+2];return n.set(KS(l,c.x,d.x,p.x,m.x),KS(l,c.y,d.y,p.y,m.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Ie().fromArray(i))}return this}}var y1=Object.freeze({__proto__:null,ArcCurve:lC,CatmullRomCurve3:uC,CubicBezierCurve:h1,CubicBezierCurve3:cC,EllipseCurve:Z0,LineCurve:ey,LineCurve3:fC,QuadraticBezierCurve:p1,QuadraticBezierCurve3:m1,SplineCurve:g1});class dC extends xo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ey(t,e))}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=n){const o=i[s]-n,l=this.curves[s],c=l.getLength(),d=c===0?0:1-o/c;return l.getPointAt(d,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let d=0;d<c.length;d++){const p=c[d];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new y1[i.type]().fromJSON(i))}return this}}class Ep extends dC{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new ey(this.currentPoint.clone(),new Ie(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const s=new p1(this.currentPoint.clone(),new Ie(e,t),new Ie(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,s,o){const l=new h1(this.currentPoint.clone(),new Ie(e,t),new Ie(n,i),new Ie(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new g1(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,s,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,n,i,s,o),this}absarc(e,t,n,i,s,o){return this.absellipse(e,t,n,n,i,s,o),this}ellipse(e,t,n,i,s,o,l,c){const d=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+d,t+p,n,i,s,o,l,c),this}absellipse(e,t,n,i,s,o,l,c){const d=new Z0(e,t,n,i,s,o,l,c);if(this.curves.length>0){const m=d.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(d);const p=d.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Fd extends Jt{constructor(e=[new Ie(0,-.5),new Ie(.5,0),new Ie(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=lr(i,0,Math.PI*2);const s=[],o=[],l=[],c=[],d=[],p=1/t,m=new W,y=new Ie,v=new W,w=new W,_=new W;let A=0,b=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:A=e[E+1].x-e[E].x,b=e[E+1].y-e[E].y,v.x=b*1,v.y=-A,v.z=b*0,_.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case e.length-1:c.push(_.x,_.y,_.z);break;default:A=e[E+1].x-e[E].x,b=e[E+1].y-e[E].y,v.x=b*1,v.y=-A,v.z=b*0,w.copy(v),v.x+=_.x,v.y+=_.y,v.z+=_.z,v.normalize(),c.push(v.x,v.y,v.z),_.copy(w)}for(let E=0;E<=t;E++){const T=n+E*p*i,R=Math.sin(T),L=Math.cos(T);for(let O=0;O<=e.length-1;O++){m.x=e[O].x*R,m.y=e[O].y,m.z=e[O].x*L,o.push(m.x,m.y,m.z),y.x=E/t,y.y=O/(e.length-1),l.push(y.x,y.y);const F=c[3*O+0]*R,I=c[3*O+1],G=c[3*O+0]*L;d.push(F,I,G)}}for(let E=0;E<t;E++)for(let T=0;T<e.length-1;T++){const R=T+E*e.length,L=R,O=R+e.length,F=R+e.length+1,I=R+1;s.push(L,O,I),s.push(F,I,O)}this.setIndex(s),this.setAttribute("position",new _t(o,3)),this.setAttribute("uv",new _t(l,2)),this.setAttribute("normal",new _t(d,3))}static fromJSON(e){return new Fd(e.points,e.segments,e.phiStart,e.phiLength)}}class Wp extends Fd{constructor(e=1,t=1,n=4,i=8){const s=new Ep;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new Wp(e.radius,e.length,e.capSegments,e.radialSegments)}}class jp extends Jt{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const s=[],o=[],l=[],c=[],d=new W,p=new Ie;o.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let m=0,y=3;m<=t;m++,y+=3){const v=n+m/t*i;d.x=e*Math.cos(v),d.y=e*Math.sin(v),o.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(o[y]/e+1)/2,p.y=(o[y+1]/e+1)/2,c.push(p.x,p.y)}for(let m=1;m<=t;m++)s.push(m,m+1,0);this.setIndex(s),this.setAttribute("position",new _t(o,3)),this.setAttribute("normal",new _t(l,3)),this.setAttribute("uv",new _t(c,2))}static fromJSON(e){return new jp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Oc extends Jt{constructor(e=1,t=1,n=1,i=32,s=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c};const d=this;i=Math.floor(i),s=Math.floor(s);const p=[],m=[],y=[],v=[];let w=0;const _=[],A=n/2;let b=0;E(),o===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(p),this.setAttribute("position",new _t(m,3)),this.setAttribute("normal",new _t(y,3)),this.setAttribute("uv",new _t(v,2));function E(){const R=new W,L=new W;let O=0;const F=(t-e)/n;for(let I=0;I<=s;I++){const G=[],V=I/s,q=V*(t-e)+e;for(let ce=0;ce<=i;ce++){const ee=ce/i,Z=ee*c+l,le=Math.sin(Z),he=Math.cos(Z);L.x=q*le,L.y=-V*n+A,L.z=q*he,m.push(L.x,L.y,L.z),R.set(le,F,he).normalize(),y.push(R.x,R.y,R.z),v.push(ee,1-V),G.push(w++)}_.push(G)}for(let I=0;I<i;I++)for(let G=0;G<s;G++){const V=_[G][I],q=_[G+1][I],ce=_[G+1][I+1],ee=_[G][I+1];p.push(V,q,ee),p.push(q,ce,ee),O+=6}d.addGroup(b,O,0),b+=O}function T(R){const L=w,O=new Ie,F=new W;let I=0;const G=R===!0?e:t,V=R===!0?1:-1;for(let ce=1;ce<=i;ce++)m.push(0,A*V,0),y.push(0,V,0),v.push(.5,.5),w++;const q=w;for(let ce=0;ce<=i;ce++){const Z=ce/i*c+l,le=Math.cos(Z),he=Math.sin(Z);F.x=G*he,F.y=A*V,F.z=G*le,m.push(F.x,F.y,F.z),y.push(0,V,0),O.x=le*.5+.5,O.y=he*.5*V+.5,v.push(O.x,O.y),w++}for(let ce=0;ce<i;ce++){const ee=L+ce,Z=q+ce;R===!0?p.push(Z,Z+1,ee):p.push(Z+1,Z,ee),I+=3}d.addGroup(b,I,R===!0?1:2),b+=I}}static fromJSON(e){return new Oc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Jp extends Oc{constructor(e=1,t=1,n=32,i=1,s=!1,o=0,l=Math.PI*2){super(0,e,t,n,i,s,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:l}}static fromJSON(e){return new Jp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ya extends Jt{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const s=[],o=[];l(i),d(n),p(),this.setAttribute("position",new _t(s,3)),this.setAttribute("normal",new _t(s.slice(),3)),this.setAttribute("uv",new _t(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(E){const T=new W,R=new W,L=new W;for(let O=0;O<t.length;O+=3)v(t[O+0],T),v(t[O+1],R),v(t[O+2],L),c(T,R,L,E)}function c(E,T,R,L){const O=L+1,F=[];for(let I=0;I<=O;I++){F[I]=[];const G=E.clone().lerp(R,I/O),V=T.clone().lerp(R,I/O),q=O-I;for(let ce=0;ce<=q;ce++)ce===0&&I===O?F[I][ce]=G:F[I][ce]=G.clone().lerp(V,ce/q)}for(let I=0;I<O;I++)for(let G=0;G<2*(O-I)-1;G++){const V=Math.floor(G/2);G%2===0?(y(F[I][V+1]),y(F[I+1][V]),y(F[I][V])):(y(F[I][V+1]),y(F[I+1][V+1]),y(F[I+1][V]))}}function d(E){const T=new W;for(let R=0;R<s.length;R+=3)T.x=s[R+0],T.y=s[R+1],T.z=s[R+2],T.normalize().multiplyScalar(E),s[R+0]=T.x,s[R+1]=T.y,s[R+2]=T.z}function p(){const E=new W;for(let T=0;T<s.length;T+=3){E.x=s[T+0],E.y=s[T+1],E.z=s[T+2];const R=A(E)/2/Math.PI+.5,L=b(E)/Math.PI+.5;o.push(R,1-L)}w(),m()}function m(){for(let E=0;E<o.length;E+=6){const T=o[E+0],R=o[E+2],L=o[E+4],O=Math.max(T,R,L),F=Math.min(T,R,L);O>.9&&F<.1&&(T<.2&&(o[E+0]+=1),R<.2&&(o[E+2]+=1),L<.2&&(o[E+4]+=1))}}function y(E){s.push(E.x,E.y,E.z)}function v(E,T){const R=E*3;T.x=e[R+0],T.y=e[R+1],T.z=e[R+2]}function w(){const E=new W,T=new W,R=new W,L=new W,O=new Ie,F=new Ie,I=new Ie;for(let G=0,V=0;G<s.length;G+=9,V+=6){E.set(s[G+0],s[G+1],s[G+2]),T.set(s[G+3],s[G+4],s[G+5]),R.set(s[G+6],s[G+7],s[G+8]),O.set(o[V+0],o[V+1]),F.set(o[V+2],o[V+3]),I.set(o[V+4],o[V+5]),L.copy(E).add(T).add(R).divideScalar(3);const q=A(L);_(O,V+0,E,q),_(F,V+2,T,q),_(I,V+4,R,q)}}function _(E,T,R,L){L<0&&E.x===1&&(o[T]=E.x-1),R.x===0&&R.z===0&&(o[T]=L/2/Math.PI+.5)}function A(E){return Math.atan2(E.z,-E.x)}function b(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}static fromJSON(e){return new Ya(e.vertices,e.indices,e.radius,e.details)}}class $p extends Ya{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $p(e.radius,e.detail)}}const Og=new W,kg=new W,Cv=new W,Fg=new Cs;class hC extends Jt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(yc*t),o=e.getIndex(),l=e.getAttribute("position"),c=o?o.count:l.count,d=[0,0,0],p=["a","b","c"],m=new Array(3),y={},v=[];for(let w=0;w<c;w+=3){o?(d[0]=o.getX(w),d[1]=o.getX(w+1),d[2]=o.getX(w+2)):(d[0]=w,d[1]=w+1,d[2]=w+2);const{a:_,b:A,c:b}=Fg;if(_.fromBufferAttribute(l,d[0]),A.fromBufferAttribute(l,d[1]),b.fromBufferAttribute(l,d[2]),Fg.getNormal(Cv),m[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,m[1]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,m[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let E=0;E<3;E++){const T=(E+1)%3,R=m[E],L=m[T],O=Fg[p[E]],F=Fg[p[T]],I=`${R}_${L}`,G=`${L}_${R}`;G in y&&y[G]?(Cv.dot(y[G].normal)<=s&&(v.push(O.x,O.y,O.z),v.push(F.x,F.y,F.z)),y[G]=null):I in y||(y[I]={index0:d[E],index1:d[T],normal:Cv.clone()})}}for(const w in y)if(y[w]){const{index0:_,index1:A}=y[w];Og.fromBufferAttribute(l,_),kg.fromBufferAttribute(l,A),v.push(Og.x,Og.y,Og.z),v.push(kg.x,kg.y,kg.z)}this.setAttribute("position",new _t(v,3))}}}class _c extends Ep{constructor(e){super(e),this.uuid=cs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Ep().fromJSON(i))}return this}}const IO={triangulate:function(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let s=pC(r,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let l,c,d,p,m,y,v;if(n&&(s=FO(r,e,s,t)),r.length>80*t){l=d=r[0],c=p=r[1];for(let w=t;w<i;w+=t)m=r[w],y=r[w+1],m<l&&(l=m),y<c&&(c=y),m>d&&(d=m),y>p&&(p=y);v=Math.max(d-l,p-c),v=v!==0?32767/v:0}return Cp(s,o,t,l,c,v,0),o}};function pC(r,e,t,n,i){let s,o;if(i===XO(r,e,t,n)>0)for(s=e;s<t;s+=n)o=YS(s,r[s],r[s+1],o);else for(s=t-n;s>=e;s-=n)o=YS(s,r[s],r[s+1],o);return o&&ty(o,o.next)&&(Rp(o),o=o.next),o}function Cc(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(ty(t,t.next)||$n(t.prev,t,t.next)===0)){if(Rp(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Cp(r,e,t,n,i,s,o){if(!r)return;!o&&s&&GO(r,n,i,s);let l=r,c,d;for(;r.prev!==r.next;){if(c=r.prev,d=r.next,s?DO(r,n,i,s):LO(r)){e.push(c.i/t|0),e.push(r.i/t|0),e.push(d.i/t|0),Rp(r),r=d.next,l=d.next;continue}if(r=d,r===l){o?o===1?(r=OO(Cc(r),e,t),Cp(r,e,t,n,i,s,2)):o===2&&kO(r,e,t,n,i,s):Cp(Cc(r),e,t,n,i,s,1);break}}}function LO(r){const e=r.prev,t=r,n=r.next;if($n(e,t,n)>=0)return!1;const i=e.x,s=t.x,o=n.x,l=e.y,c=t.y,d=n.y,p=i<s?i<o?i:o:s<o?s:o,m=l<c?l<d?l:d:c<d?c:d,y=i>s?i>o?i:o:s>o?s:o,v=l>c?l>d?l:d:c>d?c:d;let w=n.next;for(;w!==e;){if(w.x>=p&&w.x<=y&&w.y>=m&&w.y<=v&&pd(i,l,s,c,o,d,w.x,w.y)&&$n(w.prev,w,w.next)>=0)return!1;w=w.next}return!0}function DO(r,e,t,n){const i=r.prev,s=r,o=r.next;if($n(i,s,o)>=0)return!1;const l=i.x,c=s.x,d=o.x,p=i.y,m=s.y,y=o.y,v=l<c?l<d?l:d:c<d?c:d,w=p<m?p<y?p:y:m<y?m:y,_=l>c?l>d?l:d:c>d?c:d,A=p>m?p>y?p:y:m>y?m:y,b=a_(v,w,e,t,n),E=a_(_,A,e,t,n);let T=r.prevZ,R=r.nextZ;for(;T&&T.z>=b&&R&&R.z<=E;){if(T.x>=v&&T.x<=_&&T.y>=w&&T.y<=A&&T!==i&&T!==o&&pd(l,p,c,m,d,y,T.x,T.y)&&$n(T.prev,T,T.next)>=0||(T=T.prevZ,R.x>=v&&R.x<=_&&R.y>=w&&R.y<=A&&R!==i&&R!==o&&pd(l,p,c,m,d,y,R.x,R.y)&&$n(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;T&&T.z>=b;){if(T.x>=v&&T.x<=_&&T.y>=w&&T.y<=A&&T!==i&&T!==o&&pd(l,p,c,m,d,y,T.x,T.y)&&$n(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;R&&R.z<=E;){if(R.x>=v&&R.x<=_&&R.y>=w&&R.y<=A&&R!==i&&R!==o&&pd(l,p,c,m,d,y,R.x,R.y)&&$n(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function OO(r,e,t){let n=r;do{const i=n.prev,s=n.next.next;!ty(i,s)&&mC(i,n,n.next,s)&&Tp(i,s)&&Tp(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),Rp(n),Rp(n.next),n=r=s),n=n.next}while(n!==r);return Cc(n)}function kO(r,e,t,n,i,s){let o=r;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&jO(o,l)){let c=gC(o,l);o=Cc(o,o.next),c=Cc(c,c.next),Cp(o,e,t,n,i,s,0),Cp(c,e,t,n,i,s,0);return}l=l.next}o=o.next}while(o!==r)}function FO(r,e,t,n){const i=[];let s,o,l,c,d;for(s=0,o=e.length;s<o;s++)l=e[s]*n,c=s<o-1?e[s+1]*n:r.length,d=pC(r,l,c,n,!1),d===d.next&&(d.steiner=!0),i.push(WO(d));for(i.sort(NO),s=0;s<i.length;s++)t=zO(i[s],t);return t}function NO(r,e){return r.x-e.x}function zO(r,e){const t=UO(r,e);if(!t)return e;const n=gC(t,r);return Cc(n,n.next),Cc(t,t.next)}function UO(r,e){let t=e,n=-1/0,i;const s=r.x,o=r.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const y=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=s&&y>n&&(n=y,i=t.x<t.next.x?t:t.next,y===s))return i}t=t.next}while(t!==e);if(!i)return null;const l=i,c=i.x,d=i.y;let p=1/0,m;t=i;do s>=t.x&&t.x>=c&&s!==t.x&&pd(o<d?s:n,o,c,d,o<d?n:s,o,t.x,t.y)&&(m=Math.abs(o-t.y)/(s-t.x),Tp(t,r)&&(m<p||m===p&&(t.x>i.x||t.x===i.x&&HO(i,t)))&&(i=t,p=m)),t=t.next;while(t!==l);return i}function HO(r,e){return $n(r.prev,r,e.prev)<0&&$n(e.next,r,r.next)<0}function GO(r,e,t,n){let i=r;do i.z===0&&(i.z=a_(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,VO(i)}function VO(r){let e,t,n,i,s,o,l,c,d=1;do{for(t=r,r=null,s=null,o=0;t;){for(o++,n=t,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,l--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;t=n}s.nextZ=null,d*=2}while(o>1);return r}function a_(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function WO(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function pd(r,e,t,n,i,s,o,l){return(i-o)*(e-l)>=(r-o)*(s-l)&&(r-o)*(n-l)>=(t-o)*(e-l)&&(t-o)*(s-l)>=(i-o)*(n-l)}function jO(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!JO(r,e)&&(Tp(r,e)&&Tp(e,r)&&$O(r,e)&&($n(r.prev,r,e.prev)||$n(r,e.prev,e))||ty(r,e)&&$n(r.prev,r,r.next)>0&&$n(e.prev,e,e.next)>0)}function $n(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function ty(r,e){return r.x===e.x&&r.y===e.y}function mC(r,e,t,n){const i=zg($n(r,e,t)),s=zg($n(r,e,n)),o=zg($n(t,n,r)),l=zg($n(t,n,e));return!!(i!==s&&o!==l||i===0&&Ng(r,t,e)||s===0&&Ng(r,n,e)||o===0&&Ng(t,r,n)||l===0&&Ng(t,e,n))}function Ng(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function zg(r){return r>0?1:r<0?-1:0}function JO(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&mC(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function Tp(r,e){return $n(r.prev,r,r.next)<0?$n(r,e,r.next)>=0&&$n(r,r.prev,e)>=0:$n(r,e,r.prev)<0||$n(r,r.next,e)<0}function $O(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function gC(r,e){const t=new l_(r.i,r.x,r.y),n=new l_(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function YS(r,e,t,n){const i=new l_(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Rp(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function l_(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function XO(r,e,t,n){let i=0;for(let s=e,o=t-n;s<t;s+=n)i+=(r[o]-r[s])*(r[s+1]+r[o+1]),o=s;return i}class Fo{static area(e){const t=e.length;let n=0;for(let i=t-1,s=0;s<t;i=s++)n+=e[i].x*e[s].y-e[s].x*e[i].y;return n*.5}static isClockWise(e){return Fo.area(e)<0}static triangulateShape(e,t){const n=[],i=[],s=[];QS(e),qS(n,e);let o=e.length;t.forEach(QS);for(let c=0;c<t.length;c++)i.push(o),o+=t[c].length,qS(n,t[c]);const l=IO.triangulate(n,i);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function QS(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function qS(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class Xp extends Jt{constructor(e=new _c([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],s=[];for(let l=0,c=e.length;l<c;l++){const d=e[l];o(d)}this.setAttribute("position",new _t(i,3)),this.setAttribute("uv",new _t(s,2)),this.computeVertexNormals();function o(l){const c=[],d=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,w=t.bevelSize!==void 0?t.bevelSize:v-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:KO;let T,R=!1,L,O,F,I;b&&(T=b.getSpacedPoints(p),R=!0,y=!1,L=b.computeFrenetFrames(p,!1),O=new W,F=new W,I=new W),y||(A=0,v=0,w=0,_=0);const G=l.extractPoints(d);let V=G.shape;const q=G.holes;if(!Fo.isClockWise(V)){V=V.reverse();for(let Te=0,Ae=q.length;Te<Ae;Te++){const Ge=q[Te];Fo.isClockWise(Ge)&&(q[Te]=Ge.reverse())}}const ee=Fo.triangulateShape(V,q),Z=V;for(let Te=0,Ae=q.length;Te<Ae;Te++){const Ge=q[Te];V=V.concat(Ge)}function le(Te,Ae,Ge){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ae.clone().multiplyScalar(Ge).add(Te)}const he=V.length,de=ee.length;function z(Te,Ae,Ge){let et,$e,At;const gt=Te.x-Ae.x,lt=Te.y-Ae.y,Gt=Ge.x-Te.x,Nt=Ge.y-Te.y,Y=gt*gt+lt*lt,H=gt*Nt-lt*Gt;if(Math.abs(H)>Number.EPSILON){const ae=Math.sqrt(Y),Le=Math.sqrt(Gt*Gt+Nt*Nt),Fe=Ae.x-lt/ae,We=Ae.y+gt/ae,pt=Ge.x-Nt/Le,Qe=Ge.y+Gt/Le,Ce=((pt-Fe)*Nt-(Qe-We)*Gt)/(gt*Nt-lt*Gt);et=Fe+gt*Ce-Te.x,$e=We+lt*Ce-Te.y;const at=et*et+$e*$e;if(at<=2)return new Ie(et,$e);At=Math.sqrt(at/2)}else{let ae=!1;gt>Number.EPSILON?Gt>Number.EPSILON&&(ae=!0):gt<-Number.EPSILON?Gt<-Number.EPSILON&&(ae=!0):Math.sign(lt)===Math.sign(Nt)&&(ae=!0),ae?(et=-lt,$e=gt,At=Math.sqrt(Y)):(et=gt,$e=lt,At=Math.sqrt(Y/2))}return new Ie(et/At,$e/At)}const K=[];for(let Te=0,Ae=Z.length,Ge=Ae-1,et=Te+1;Te<Ae;Te++,Ge++,et++)Ge===Ae&&(Ge=0),et===Ae&&(et=0),K[Te]=z(Z[Te],Z[Ge],Z[et]);const $=[];let U,j=K.concat();for(let Te=0,Ae=q.length;Te<Ae;Te++){const Ge=q[Te];U=[];for(let et=0,$e=Ge.length,At=$e-1,gt=et+1;et<$e;et++,At++,gt++)At===$e&&(At=0),gt===$e&&(gt=0),U[et]=z(Ge[et],Ge[At],Ge[gt]);$.push(U),j=j.concat(U)}for(let Te=0;Te<A;Te++){const Ae=Te/A,Ge=v*Math.cos(Ae*Math.PI/2),et=w*Math.sin(Ae*Math.PI/2)+_;for(let $e=0,At=Z.length;$e<At;$e++){const gt=le(Z[$e],K[$e],et);Ve(gt.x,gt.y,-Ge)}for(let $e=0,At=q.length;$e<At;$e++){const gt=q[$e];U=$[$e];for(let lt=0,Gt=gt.length;lt<Gt;lt++){const Nt=le(gt[lt],U[lt],et);Ve(Nt.x,Nt.y,-Ge)}}}const ge=w+_;for(let Te=0;Te<he;Te++){const Ae=y?le(V[Te],j[Te],ge):V[Te];R?(F.copy(L.normals[0]).multiplyScalar(Ae.x),O.copy(L.binormals[0]).multiplyScalar(Ae.y),I.copy(T[0]).add(F).add(O),Ve(I.x,I.y,I.z)):Ve(Ae.x,Ae.y,0)}for(let Te=1;Te<=p;Te++)for(let Ae=0;Ae<he;Ae++){const Ge=y?le(V[Ae],j[Ae],ge):V[Ae];R?(F.copy(L.normals[Te]).multiplyScalar(Ge.x),O.copy(L.binormals[Te]).multiplyScalar(Ge.y),I.copy(T[Te]).add(F).add(O),Ve(I.x,I.y,I.z)):Ve(Ge.x,Ge.y,m/p*Te)}for(let Te=A-1;Te>=0;Te--){const Ae=Te/A,Ge=v*Math.cos(Ae*Math.PI/2),et=w*Math.sin(Ae*Math.PI/2)+_;for(let $e=0,At=Z.length;$e<At;$e++){const gt=le(Z[$e],K[$e],et);Ve(gt.x,gt.y,m+Ge)}for(let $e=0,At=q.length;$e<At;$e++){const gt=q[$e];U=$[$e];for(let lt=0,Gt=gt.length;lt<Gt;lt++){const Nt=le(gt[lt],U[lt],et);R?Ve(Nt.x,Nt.y+T[p-1].y,T[p-1].x+Ge):Ve(Nt.x,Nt.y,m+Ge)}}}_e(),Pe();function _e(){const Te=i.length/3;if(y){let Ae=0,Ge=he*Ae;for(let et=0;et<de;et++){const $e=ee[et];ke($e[2]+Ge,$e[1]+Ge,$e[0]+Ge)}Ae=p+A*2,Ge=he*Ae;for(let et=0;et<de;et++){const $e=ee[et];ke($e[0]+Ge,$e[1]+Ge,$e[2]+Ge)}}else{for(let Ae=0;Ae<de;Ae++){const Ge=ee[Ae];ke(Ge[2],Ge[1],Ge[0])}for(let Ae=0;Ae<de;Ae++){const Ge=ee[Ae];ke(Ge[0]+he*p,Ge[1]+he*p,Ge[2]+he*p)}}n.addGroup(Te,i.length/3-Te,0)}function Pe(){const Te=i.length/3;let Ae=0;fe(Z,Ae),Ae+=Z.length;for(let Ge=0,et=q.length;Ge<et;Ge++){const $e=q[Ge];fe($e,Ae),Ae+=$e.length}n.addGroup(Te,i.length/3-Te,1)}function fe(Te,Ae){let Ge=Te.length;for(;--Ge>=0;){const et=Ge;let $e=Ge-1;$e<0&&($e=Te.length-1);for(let At=0,gt=p+A*2;At<gt;At++){const lt=he*At,Gt=he*(At+1),Nt=Ae+et+lt,Y=Ae+$e+lt,H=Ae+$e+Gt,ae=Ae+et+Gt;Ye(Nt,Y,H,ae)}}}function Ve(Te,Ae,Ge){c.push(Te),c.push(Ae),c.push(Ge)}function ke(Te,Ae,Ge){Ue(Te),Ue(Ae),Ue(Ge);const et=i.length/3,$e=E.generateTopUV(n,i,et-3,et-2,et-1);ht($e[0]),ht($e[1]),ht($e[2])}function Ye(Te,Ae,Ge,et){Ue(Te),Ue(Ae),Ue(et),Ue(Ae),Ue(Ge),Ue(et);const $e=i.length/3,At=E.generateSideWallUV(n,i,$e-6,$e-3,$e-2,$e-1);ht(At[0]),ht(At[1]),ht(At[3]),ht(At[1]),ht(At[2]),ht(At[3])}function Ue(Te){i.push(c[Te*3+0]),i.push(c[Te*3+1]),i.push(c[Te*3+2])}function ht(Te){s.push(Te.x),s.push(Te.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return YO(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const l=t[e.shapes[s]];n.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new y1[i.type]().fromJSON(i)),new Xp(n,e.options)}}const KO={generateTopUV:function(r,e,t,n,i){const s=e[t*3],o=e[t*3+1],l=e[n*3],c=e[n*3+1],d=e[i*3],p=e[i*3+1];return[new Ie(s,o),new Ie(l,c),new Ie(d,p)]},generateSideWallUV:function(r,e,t,n,i,s){const o=e[t*3],l=e[t*3+1],c=e[t*3+2],d=e[n*3],p=e[n*3+1],m=e[n*3+2],y=e[i*3],v=e[i*3+1],w=e[i*3+2],_=e[s*3],A=e[s*3+1],b=e[s*3+2];return Math.abs(l-p)<Math.abs(o-d)?[new Ie(o,1-c),new Ie(d,1-m),new Ie(y,1-w),new Ie(_,1-b)]:[new Ie(l,1-c),new Ie(p,1-m),new Ie(v,1-w),new Ie(A,1-b)]}};function YO(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const s=r[n];t.shapes.push(s.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Kp extends Ya{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Kp(e.radius,e.detail)}}class Nd extends Ya{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Nd(e.radius,e.detail)}}class Yp extends Jt{constructor(e=.5,t=1,n=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:o},n=Math.max(3,n),i=Math.max(1,i);const l=[],c=[],d=[],p=[];let m=e;const y=(t-e)/i,v=new W,w=new Ie;for(let _=0;_<=i;_++){for(let A=0;A<=n;A++){const b=s+A/n*o;v.x=m*Math.cos(b),v.y=m*Math.sin(b),c.push(v.x,v.y,v.z),d.push(0,0,1),w.x=(v.x/t+1)/2,w.y=(v.y/t+1)/2,p.push(w.x,w.y)}m+=y}for(let _=0;_<i;_++){const A=_*(n+1);for(let b=0;b<n;b++){const E=b+A,T=E,R=E+n+1,L=E+n+2,O=E+1;l.push(T,R,O),l.push(R,L,O)}}this.setIndex(l),this.setAttribute("position",new _t(c,3)),this.setAttribute("normal",new _t(d,3)),this.setAttribute("uv",new _t(p,2))}static fromJSON(e){return new Yp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Qp extends Jt{constructor(e=new _c([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],s=[],o=[];let l=0,c=0;if(Array.isArray(e)===!1)d(e);else for(let p=0;p<e.length;p++)d(e[p]),this.addGroup(l,c,p),l+=c,c=0;this.setIndex(n),this.setAttribute("position",new _t(i,3)),this.setAttribute("normal",new _t(s,3)),this.setAttribute("uv",new _t(o,2));function d(p){const m=i.length/3,y=p.extractPoints(t);let v=y.shape;const w=y.holes;Fo.isClockWise(v)===!1&&(v=v.reverse());for(let A=0,b=w.length;A<b;A++){const E=w[A];Fo.isClockWise(E)===!0&&(w[A]=E.reverse())}const _=Fo.triangulateShape(v,w);for(let A=0,b=w.length;A<b;A++){const E=w[A];v=v.concat(E)}for(let A=0,b=v.length;A<b;A++){const E=v[A];i.push(E.x,E.y,0),s.push(0,0,1),o.push(E.x,E.y)}for(let A=0,b=_.length;A<b;A++){const E=_[A],T=E[0]+m,R=E[1]+m,L=E[2]+m;n.push(T,R,L),c+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return QO(t,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];n.push(o)}return new Qp(n,e.curveSegments)}}function QO(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class zd extends Jt{constructor(e=1,t=32,n=16,i=0,s=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:s,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(o+l,Math.PI);let d=0;const p=[],m=new W,y=new W,v=[],w=[],_=[],A=[];for(let b=0;b<=n;b++){const E=[],T=b/n;let R=0;b==0&&o==0?R=.5/t:b==n&&c==Math.PI&&(R=-.5/t);for(let L=0;L<=t;L++){const O=L/t;m.x=-e*Math.cos(i+O*s)*Math.sin(o+T*l),m.y=e*Math.cos(o+T*l),m.z=e*Math.sin(i+O*s)*Math.sin(o+T*l),w.push(m.x,m.y,m.z),y.copy(m).normalize(),_.push(y.x,y.y,y.z),A.push(O+R,1-T),E.push(d++)}p.push(E)}for(let b=0;b<n;b++)for(let E=0;E<t;E++){const T=p[b][E+1],R=p[b][E],L=p[b+1][E],O=p[b+1][E+1];(b!==0||o>0)&&v.push(T,R,O),(b!==n-1||c<Math.PI)&&v.push(R,L,O)}this.setIndex(v),this.setAttribute("position",new _t(w,3)),this.setAttribute("normal",new _t(_,3)),this.setAttribute("uv",new _t(A,2))}static fromJSON(e){return new zd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class qp extends Ya{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qp(e.radius,e.detail)}}class Zp extends Jt{constructor(e=1,t=.4,n=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:s},n=Math.floor(n),i=Math.floor(i);const o=[],l=[],c=[],d=[],p=new W,m=new W,y=new W;for(let v=0;v<=n;v++)for(let w=0;w<=i;w++){const _=w/i*s,A=v/n*Math.PI*2;m.x=(e+t*Math.cos(A))*Math.cos(_),m.y=(e+t*Math.cos(A))*Math.sin(_),m.z=t*Math.sin(A),l.push(m.x,m.y,m.z),p.x=e*Math.cos(_),p.y=e*Math.sin(_),y.subVectors(m,p).normalize(),c.push(y.x,y.y,y.z),d.push(w/i),d.push(v/n)}for(let v=1;v<=n;v++)for(let w=1;w<=i;w++){const _=(i+1)*v+w-1,A=(i+1)*(v-1)+w-1,b=(i+1)*(v-1)+w,E=(i+1)*v+w;o.push(_,A,E),o.push(A,b,E)}this.setIndex(o),this.setAttribute("position",new _t(l,3)),this.setAttribute("normal",new _t(c,3)),this.setAttribute("uv",new _t(d,2))}static fromJSON(e){return new Zp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class em extends Jt{constructor(e=1,t=.4,n=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:s,q:o},n=Math.floor(n),i=Math.floor(i);const l=[],c=[],d=[],p=[],m=new W,y=new W,v=new W,w=new W,_=new W,A=new W,b=new W;for(let T=0;T<=n;++T){const R=T/n*s*Math.PI*2;E(R,s,o,e,v),E(R+.01,s,o,e,w),A.subVectors(w,v),b.addVectors(w,v),_.crossVectors(A,b),b.crossVectors(_,A),_.normalize(),b.normalize();for(let L=0;L<=i;++L){const O=L/i*Math.PI*2,F=-t*Math.cos(O),I=t*Math.sin(O);m.x=v.x+(F*b.x+I*_.x),m.y=v.y+(F*b.y+I*_.y),m.z=v.z+(F*b.z+I*_.z),c.push(m.x,m.y,m.z),y.subVectors(m,v).normalize(),d.push(y.x,y.y,y.z),p.push(T/n),p.push(L/i)}}for(let T=1;T<=n;T++)for(let R=1;R<=i;R++){const L=(i+1)*(T-1)+(R-1),O=(i+1)*T+(R-1),F=(i+1)*T+R,I=(i+1)*(T-1)+R;l.push(L,O,I),l.push(O,F,I)}this.setIndex(l),this.setAttribute("position",new _t(c,3)),this.setAttribute("normal",new _t(d,3)),this.setAttribute("uv",new _t(p,2));function E(T,R,L,O,F){const I=Math.cos(T),G=Math.sin(T),V=L/R*T,q=Math.cos(V);F.x=O*(2+q)*.5*I,F.y=O*(2+q)*G*.5,F.z=O*Math.sin(V)*.5}}static fromJSON(e){return new em(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class tm extends Jt{constructor(e=new m1(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),t=64,n=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new W,c=new W,d=new Ie;let p=new W;const m=[],y=[],v=[],w=[];_(),this.setIndex(w),this.setAttribute("position",new _t(m,3)),this.setAttribute("normal",new _t(y,3)),this.setAttribute("uv",new _t(v,2));function _(){for(let T=0;T<t;T++)A(T);A(s===!1?t:0),E(),b()}function A(T){p=e.getPointAt(T/t,p);const R=o.normals[T],L=o.binormals[T];for(let O=0;O<=i;O++){const F=O/i*Math.PI*2,I=Math.sin(F),G=-Math.cos(F);c.x=G*R.x+I*L.x,c.y=G*R.y+I*L.y,c.z=G*R.z+I*L.z,c.normalize(),y.push(c.x,c.y,c.z),l.x=p.x+n*c.x,l.y=p.y+n*c.y,l.z=p.z+n*c.z,m.push(l.x,l.y,l.z)}}function b(){for(let T=1;T<=t;T++)for(let R=1;R<=i;R++){const L=(i+1)*(T-1)+(R-1),O=(i+1)*T+(R-1),F=(i+1)*T+R,I=(i+1)*(T-1)+R;w.push(L,O,I),w.push(O,F,I)}}function E(){for(let T=0;T<=t;T++)for(let R=0;R<=i;R++)d.x=T/t,d.y=R/i,v.push(d.x,d.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new tm(new y1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class yC extends Jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new W,s=new W;if(e.index!==null){const o=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,p=c.length;d<p;++d){const m=c[d],y=m.start,v=m.count;for(let w=y,_=y+v;w<_;w+=3)for(let A=0;A<3;A++){const b=l.getX(w+A),E=l.getX(w+(A+1)%3);i.fromBufferAttribute(o,b),s.fromBufferAttribute(o,E),ZS(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let l=0,c=o.count/3;l<c;l++)for(let d=0;d<3;d++){const p=3*l+d,m=3*l+(d+1)%3;i.fromBufferAttribute(o,p),s.fromBufferAttribute(o,m),ZS(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new _t(t,3))}}}function ZS(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var eA=Object.freeze({__proto__:null,BoxGeometry:ru,CapsuleGeometry:Wp,CircleGeometry:jp,ConeGeometry:Jp,CylinderGeometry:Oc,DodecahedronGeometry:$p,EdgesGeometry:hC,ExtrudeGeometry:Xp,IcosahedronGeometry:Kp,LatheGeometry:Fd,OctahedronGeometry:Nd,PlaneGeometry:Od,PolyhedronGeometry:Ya,RingGeometry:Yp,ShapeGeometry:Qp,SphereGeometry:zd,TetrahedronGeometry:qp,TorusGeometry:Zp,TorusKnotGeometry:em,TubeGeometry:tm,WireframeGeometry:yC});class vC extends yr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new tt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class xC extends Ho{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class nm extends yr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new tt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ps extends nm{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return lr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new tt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new tt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class _C extends yr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tt(16777215),this.specular=new tt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Np,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wC extends yr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class SC extends yr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class AC extends yr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Np,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MC extends yr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bC extends li{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function bs(r,e,t){return v1(r)?new r.constructor(r.subarray(e,t!==void 0?t:r.length)):r.slice(e,t)}function dc(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function v1(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function EC(r){function e(i,s){return r[i]-r[s]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function u_(r,e,t){const n=r.length,i=new r.constructor(n);for(let s=0,o=0;o!==n;++s){const l=t[s]*e;for(let c=0;c!==e;++c)i[o++]=r[l+c]}return i}function x1(r,e,t,n){let i=1,s=r[0];for(;s!==void 0&&s[n]===void 0;)s=r[i++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=r[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=r[i++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=r[i++];while(s!==void 0)}function qO(r,e,t,n,i=30){const s=r.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const d=s.tracks[c],p=d.getValueSize(),m=[],y=[];for(let v=0;v<d.times.length;++v){const w=d.times[v]*i;if(!(w<t||w>=n)){m.push(d.times[v]);for(let _=0;_<p;++_)y.push(d.values[v*p+_])}}m.length!==0&&(d.times=dc(m,d.times.constructor),d.values=dc(y,d.values.constructor),o.push(d))}s.tracks=o;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s}function ZO(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,s=e/n;for(let o=0;o<i;++o){const l=t.tracks[o],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const d=r.tracks.find(function(b){return b.name===l.name&&b.ValueTypeName===c});if(d===void 0)continue;let p=0;const m=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);let y=0;const v=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const w=l.times.length-1;let _;if(s<=l.times[0]){const b=p,E=m-p;_=bs(l.values,b,E)}else if(s>=l.times[w]){const b=w*m+p,E=b+m-p;_=bs(l.values,b,E)}else{const b=l.createInterpolant(),E=p,T=m-p;b.evaluate(s),_=bs(b.resultBuffer,E,T)}c==="quaternion"&&new zr().fromArray(_).normalize().conjugate().toArray(_);const A=d.times.length;for(let b=0;b<A;++b){const E=b*v+y;if(c==="quaternion")zr.multiplyQuaternionsFlat(d.values,E,_,0,d.values,E);else{const T=v-y*2;for(let R=0;R<T;++R)d.values[E+R]-=_[R]}}}return r.blendMode=K_,r}var ek=Object.freeze({__proto__:null,arraySlice:bs,convertArray:dc,isTypedArray:v1,getKeyframeOrder:EC,sortedArray:u_,flattenJSON:x1,subclip:qO,makeClipAdditive:ZO});class Ud{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],s=t[n-1];e:{t:{let o;n:{r:if(!(e<i)){for(let l=n+2;;){if(i===void 0){if(e<s)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(s=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(n=2,s=l);for(let c=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(i=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const l=n+o>>>1;e<t[l]?o=l:n=l+1}if(i=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CC extends Ud{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:uc,endingEnd:uc}}intervalChanged_(e,t,n){const i=this.parameterPositions;let s=e-2,o=e+1,l=i[s],c=i[o];if(l===void 0)switch(this.getSettings_().endingStart){case cc:s=e,l=2*t-n;break;case Sp:s=i.length-2,l=t+i[s]-i[s+1];break;default:s=e,l=n}if(c===void 0)switch(this.getSettings_().endingEnd){case cc:o=e,c=2*n-t;break;case Sp:o=1,c=n+i[1]-i[0];break;default:o=e-1,c=t}const d=(n-t)*.5,p=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(c-n),this._offsetPrev=s*p,this._offsetNext=o*p}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,d=c-l,p=this._offsetPrev,m=this._offsetNext,y=this._weightPrev,v=this._weightNext,w=(n-t)/(i-t),_=w*w,A=_*w,b=-y*A+2*y*_-y*w,E=(1+y)*A+(-1.5-2*y)*_+(-.5+y)*w+1,T=(-1-v)*A+(1.5+v)*_+.5*w,R=v*A-v*_;for(let L=0;L!==l;++L)s[L]=b*o[p+L]+E*o[d+L]+T*o[c+L]+R*o[m+L];return s}}class _1 extends Ud{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,d=c-l,p=(n-t)/(i-t),m=1-p;for(let y=0;y!==l;++y)s[y]=o[d+y]*m+o[c+y]*p;return s}}class TC extends Ud{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class _o{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=dc(t,this.TimeBufferType),this.values=dc(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:dc(e.times,Array),values:dc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new TC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _1(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CC(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Md:t=this.InterpolantFactoryMethodDiscrete;break;case bc:t=this.InterpolantFactoryMethodLinear;break;case c0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Md;case this.InterpolantFactoryMethodLinear:return bc;case this.InterpolantFactoryMethodSmooth:return c0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let s=0,o=i-1;for(;s!==i&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=bs(n,s,o),this.values=bs(this.values,s*l,o*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==s;l++){const c=n[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(i!==void 0&&v1(i))for(let l=0,c=i.length;l!==c;++l){const d=i[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=bs(this.times),t=bs(this.values),n=this.getValueSize(),i=this.getInterpolation()===c0,s=e.length-1;let o=1;for(let l=1;l<s;++l){let c=!1;const d=e[l],p=e[l+1];if(d!==p&&(l!==1||d!==e[0]))if(i)c=!0;else{const m=l*n,y=m-n,v=m+n;for(let w=0;w!==n;++w){const _=t[m+w];if(_!==t[y+w]||_!==t[v+w]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];const m=l*n,y=o*n;for(let v=0;v!==n;++v)t[y+v]=t[m+v]}++o}}if(s>0){e[o]=e[s];for(let l=s*n,c=o*n,d=0;d!==n;++d)t[c+d]=t[l+d];++o}return o!==e.length?(this.times=bs(e,0,o),this.values=bs(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=bs(this.times,0),t=bs(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}_o.prototype.TimeBufferType=Float32Array;_o.prototype.ValueBufferType=Float32Array;_o.prototype.DefaultInterpolation=bc;class kc extends _o{}kc.prototype.ValueTypeName="bool";kc.prototype.ValueBufferType=Array;kc.prototype.DefaultInterpolation=Md;kc.prototype.InterpolantFactoryMethodLinear=void 0;kc.prototype.InterpolantFactoryMethodSmooth=void 0;class w1 extends _o{}w1.prototype.ValueTypeName="color";class Tc extends _o{}Tc.prototype.ValueTypeName="number";class RC extends Ud{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(n-t)/(i-t);let d=e*l;for(let p=d+l;d!==p;d+=4)zr.slerpFlat(s,0,o,d-l,o,d,c);return s}}class Kl extends _o{InterpolantFactoryMethodLinear(e){return new RC(this.times,this.values,this.getValueSize(),e)}}Kl.prototype.ValueTypeName="quaternion";Kl.prototype.DefaultInterpolation=bc;Kl.prototype.InterpolantFactoryMethodSmooth=void 0;class Fc extends _o{}Fc.prototype.ValueTypeName="string";Fc.prototype.ValueBufferType=Array;Fc.prototype.DefaultInterpolation=Md;Fc.prototype.InterpolantFactoryMethodLinear=void 0;Fc.prototype.InterpolantFactoryMethodSmooth=void 0;class Rc extends _o{}Rc.prototype.ValueTypeName="vector";class Cd{constructor(e,t=-1,n,i=j0){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=cs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,l=n.length;o!==l;++o)t.push(nk(n[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push(_o.toJSON(n[s]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const s=t.length,o=[];for(let l=0;l<s;l++){let c=[],d=[];c.push((l+s-1)%s,l,(l+1)%s),d.push(0,1,0);const p=EC(c);c=u_(c,1,p),d=u_(d,1,p),!i&&c[0]===0&&(c.push(s),d.push(d[0])),o.push(new Tc(".morphTargetInfluences["+t[l].name+"]",c,d).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const d=e[l],p=d.name.match(s);if(p&&p.length>1){const m=p[1];let y=i[m];y||(i[m]=y=[]),y.push(d)}}const o=[];for(const l in i)o.push(this.CreateFromMorphTargetSequence(l,i[l],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(m,y,v,w,_){if(v.length!==0){const A=[],b=[];x1(v,A,b,w),A.length!==0&&_.push(new m(y,A,b))}},i=[],s=e.name||"default",o=e.fps||30,l=e.blendMode;let c=e.length||-1;const d=e.hierarchy||[];for(let m=0;m<d.length;m++){const y=d[m].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let w;for(w=0;w<y.length;w++)if(y[w].morphTargets)for(let _=0;_<y[w].morphTargets.length;_++)v[y[w].morphTargets[_]]=-1;for(const _ in v){const A=[],b=[];for(let E=0;E!==y[w].morphTargets.length;++E){const T=y[w];A.push(T.time),b.push(T.morphTarget===_?1:0)}i.push(new Tc(".morphTargetInfluence["+_+"]",A,b))}c=v.length*o}else{const v=".bones["+t[m].name+"]";n(Rc,v+".position",y,"pos",i),n(Kl,v+".quaternion",y,"rot",i),n(Rc,v+".scale",y,"scl",i)}}return i.length===0?null:new this(s,c,i,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tk(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tc;case"vector":case"vector2":case"vector3":case"vector4":return Rc;case"color":return w1;case"quaternion":return Kl;case"bool":case"boolean":return kc;case"string":return Fc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function nk(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=tk(r.type);if(r.times===void 0){const t=[],n=[];x1(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const Pc={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class S1{constructor(e,t,n){const i=this;let s=!1,o=0,l=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(p){l++,s===!1&&i.onStart!==void 0&&i.onStart(p,o,l),s=!0},this.itemEnd=function(p){o++,i.onProgress!==void 0&&i.onProgress(p,o,l),o===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(p){i.onError!==void 0&&i.onError(p)},this.resolveURL=function(p){return c?c(p):p},this.setURLModifier=function(p){return c=p,this},this.addHandler=function(p,m){return d.push(p,m),this},this.removeHandler=function(p){const m=d.indexOf(p);return m!==-1&&d.splice(m,2),this},this.getHandler=function(p){for(let m=0,y=d.length;m<y;m+=2){const v=d[m],w=d[m+1];if(v.global&&(v.lastIndex=0),v.test(p))return w}return null}}}const PC=new S1;class Ti{constructor(e){this.manager=e!==void 0?e:PC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,s){n.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ra={};class rk extends Error{constructor(e,t){super(e),this.response=t}}class ds extends Ti{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Pc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ra[e]!==void 0){Ra[e].push({onLoad:t,onProgress:n,onError:i});return}Ra[e]=[],Ra[e].push({onLoad:t,onProgress:n,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const p=Ra[e],m=d.body.getReader(),y=d.headers.get("Content-Length")||d.headers.get("X-File-Size"),v=y?parseInt(y):0,w=v!==0;let _=0;const A=new ReadableStream({start(b){E();function E(){m.read().then(({done:T,value:R})=>{if(T)b.close();else{_+=R.byteLength;const L=new ProgressEvent("progress",{lengthComputable:w,loaded:_,total:v});for(let O=0,F=p.length;O<F;O++){const I=p[O];I.onProgress&&I.onProgress(L)}b.enqueue(R),E()}})}}});return new Response(A)}else throw new rk(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(c){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return d.json();default:if(l===void 0)return d.text();{const m=/charset="?([^;"\s]*)"?/i.exec(l),y=m&&m[1]?m[1].toLowerCase():void 0,v=new TextDecoder(y);return d.arrayBuffer().then(w=>v.decode(w))}}}).then(d=>{Pc.add(e,d);const p=Ra[e];delete Ra[e];for(let m=0,y=p.length;m<y;m++){const v=p[m];v.onLoad&&v.onLoad(d)}}).catch(d=>{const p=Ra[e];if(p===void 0)throw this.manager.itemError(e),d;delete Ra[e];for(let m=0,y=p.length;m<y;m++){const v=p[m];v.onError&&v.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ik extends Ti{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new ds(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=Cd.parse(e[n]);t.push(i)}return t}}class sk extends Ti{constructor(e){super(e)}load(e,t,n,i){const s=this,o=[],l=new f1,c=new ds(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let d=0;function p(m){c.load(e[m],function(y){const v=s.parse(y,!0);o[m]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},d+=1,d===6&&(v.mipmapCount===1&&(l.minFilter=Jn),l.image=o,l.format=v.format,l.needsUpdate=!0,t&&t(l))},n,i)}if(Array.isArray(e))for(let m=0,y=e.length;m<y;++m)p(m);else c.load(e,function(m){const y=s.parse(m,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let w=0;w<v;w++){o[w]={mipmaps:[]};for(let _=0;_<y.mipmapCount;_++)o[w].mipmaps.push(y.mipmaps[w*y.mipmapCount+_]),o[w].format=y.format,o[w].width=y.width,o[w].height=y.height}l.image=o}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=Jn),l.format=y.format,l.needsUpdate=!0,t&&t(l)},n,i);return l}}class Pp extends Ti{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Pc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const l=bp("img");function c(){p(),Pc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function d(m){p(),i&&i(m),s.manager.itemError(e),s.manager.itemEnd(e)}function p(){l.removeEventListener("load",c,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class ok extends Ti{constructor(e){super(e)}load(e,t,n,i){const s=new Hp,o=new Pp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function c(d){o.load(e[d],function(p){s.images[d]=p,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let d=0;d<e.length;++d)c(d);return s}}class ak extends Ti{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new vd,l=new ds(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){const d=s.parse(c);d&&(d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:Yr,o.wrapT=d.wrapT!==void 0?d.wrapT:Yr,o.magFilter=d.magFilter!==void 0?d.magFilter:Jn,o.minFilter=d.minFilter!==void 0?d.minFilter:Jn,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.encoding!==void 0&&(o.encoding=d.encoding),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Uo),d.mipmapCount===1&&(o.minFilter=Jn),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,t&&t(o,d))},n,i),o}}class BC extends Ti{constructor(e){super(e)}load(e,t,n,i){const s=new Hn,o=new Pp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},n,i),s}}class iu extends on{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new tt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class IC extends iu{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(on.DefaultUp),this.updateMatrix(),this.groundColor=new tt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Tv=new It,tA=new W,nA=new W;class A1{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.map=null,this.mapPass=null,this.matrix=new It,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $0,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;tA.setFromMatrixPosition(e.matrixWorld),t.position.copy(tA),nA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(nA),t.updateMatrixWorld(),Tv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tv),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Tv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class lk extends A1{constructor(){super(new tr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Mp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class M1 extends iu{constructor(e,t,n=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(on.DefaultUp),this.updateMatrix(),this.target=new on,this.distance=n,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new lk}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const rA=new It,np=new W,Rv=new W;class uk extends A1{constructor(){super(new tr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new xn(2,1,1,1),new xn(0,1,1,1),new xn(3,1,1,1),new xn(1,1,1,1),new xn(3,0,1,1),new xn(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),np.setFromMatrixPosition(e.matrixWorld),n.position.copy(np),Rv.copy(n.position),Rv.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Rv),n.updateMatrixWorld(),i.makeTranslation(-np.x,-np.y,-np.z),rA.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rA)}}class b1 extends iu{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new uk}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ck extends A1{constructor(){super(new Ua(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class E1 extends iu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(on.DefaultUp),this.updateMatrix(),this.target=new on,this.shadow=new ck}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class LC extends iu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class DC extends iu{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class OC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new W)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(n*s)),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*n*s),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-i*i)}}class ny extends iu{constructor(e=new OC,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ry extends Ti{constructor(e){super(e),this.textures={}}load(e,t,n,i){const s=this,o=new ds(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=ry.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new tt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=n(o.value);break;case"c":i.uniforms[s].value=new tt().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ie().fromArray(o.value);break;case"v3":i.uniforms[s].value=new W().fromArray(o.value);break;case"v4":i.uniforms[s].value=new xn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Ei().fromArray(o.value);break;case"m4":i.uniforms[s].value=new It().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ie().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:vC,SpriteMaterial:o1,RawShaderMaterial:xC,ShaderMaterial:Ho,PointsMaterial:q0,MeshPhysicalMaterial:Ps,MeshStandardMaterial:nm,MeshPhongMaterial:_C,MeshToonMaterial:wC,MeshNormalMaterial:SC,MeshLambertMaterial:AC,MeshDepthMaterial:n1,MeshDistanceMaterial:r1,MeshBasicMaterial:ls,MeshMatcapMaterial:MC,LineDashedMaterial:bC,LineBasicMaterial:li,Material:yr};return new t[e]}}class Vl{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class kC extends Jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class FC extends Ti{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new ds(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(v,w){if(t[w]!==void 0)return t[w];const A=v.interleavedBuffers[w],b=s(v,A.buffer),E=dd(A.type,b),T=new Gp(E,A.stride);return T.uuid=A.uuid,t[w]=T,T}function s(v,w){if(n[w]!==void 0)return n[w];const A=v.arrayBuffers[w],b=new Uint32Array(A).buffer;return n[w]=b,b}const o=e.isInstancedBufferGeometry?new kC:new Jt,l=e.data.index;if(l!==void 0){const v=dd(l.type,l.array);o.setIndex(new pn(v,1))}const c=e.data.attributes;for(const v in c){const w=c[v];let _;if(w.isInterleavedBufferAttribute){const A=i(e.data,w.data);_=new Xl(A,w.itemSize,w.offset,w.normalized)}else{const A=dd(w.type,w.array),b=w.isInstancedBufferAttribute?Ec:pn;_=new b(A,w.itemSize,w.normalized)}w.name!==void 0&&(_.name=w.name),w.usage!==void 0&&_.setUsage(w.usage),w.updateRange!==void 0&&(_.updateRange.offset=w.updateRange.offset,_.updateRange.count=w.updateRange.count),o.setAttribute(v,_)}const d=e.data.morphAttributes;if(d)for(const v in d){const w=d[v],_=[];for(let A=0,b=w.length;A<b;A++){const E=w[A];let T;if(E.isInterleavedBufferAttribute){const R=i(e.data,E.data);T=new Xl(R,E.itemSize,E.offset,E.normalized)}else{const R=dd(E.type,E.array);T=new pn(R,E.itemSize,E.normalized)}E.name!==void 0&&(T.name=E.name),_.push(T)}o.morphAttributes[v]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let v=0,w=m.length;v!==w;++v){const _=m[v];o.addGroup(_.start,_.count,_.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new W;y.center!==void 0&&v.fromArray(y.center),o.boundingSphere=new nu(v,y.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class fk extends Ti{constructor(e){super(e)}load(e,t,n,i){const s=this,o=this.path===""?Vl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new ds(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let d=null;try{d=JSON.parse(c)}catch(m){i!==void 0&&i(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}const p=d.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(d,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?Vl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ds(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),l=JSON.parse(o),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,s,c,l,n),p=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,p),t!==void 0){let m=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){m=!0;break}m===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,l,o,t),d=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,d),c}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const s=new _c().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=new Vp().fromJSON(e[s],i);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new FC;for(let s=0,o=e.length;s<o;s++){let l;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(c);break;default:c.type in eA?l=eA[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),l.isBufferGeometry===!0&&c.userData!==void 0&&(l.userData=c.userData),n[c.uuid]=l}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const s=new ry;s.setTextures(t);for(let o=0,l=e.length;o<l;o++){const c=e[o];n[c.uuid]===void 0&&(n[c.uuid]=s.parse(c)),i[c.uuid]=n[c.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],s=Cd.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const n=this,i={};let s;function o(c){return n.manager.itemStart(c),s.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const d=c,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return o(p)}else return c.data?{data:dd(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new S1(t);s=new Pp(c),s.setCrossOrigin(this.crossOrigin);for(let d=0,p=e.length;d<p;d++){const m=e[d],y=m.url;if(Array.isArray(y)){const v=[];for(let w=0,_=y.length;w<_;w++){const A=y[w],b=l(A);b!==null&&(b instanceof HTMLImageElement?v.push(b):v.push(new vd(b.data,b.width,b.height)))}i[m.uuid]=new fc(v)}else{const v=l(m.url);i[m.uuid]=new fc(v)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function s(o){if(typeof o=="string"){const l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await i.loadAsync(c)}else return o.data?{data:dd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Pp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const c=e[o],d=c.url;if(Array.isArray(d)){const p=[];for(let m=0,y=d.length;m<y;m++){const v=d[m],w=await s(v);w!==null&&(w instanceof HTMLImageElement?p.push(w):p.push(new vd(w.data,w.width,w.height)))}n[c.uuid]=new fc(p)}else{const p=await s(c.url);n[c.uuid]=new fc(p)}}}return n}parseTextures(e,t){function n(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=t[l.image],d=c.data;let p;Array.isArray(d)?(p=new Hp,d.length===6&&(p.needsUpdate=!0)):(d&&d.data?p=new vd:p=new Hn,d&&(p.needsUpdate=!0)),p.source=c,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=n(l.mapping,dk)),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=n(l.wrap[0],iA),p.wrapT=n(l.wrap[1],iA)),l.format!==void 0&&(p.format=l.format),l.type!==void 0&&(p.type=l.type),l.encoding!==void 0&&(p.encoding=l.encoding),l.minFilter!==void 0&&(p.minFilter=n(l.minFilter,sA)),l.magFilter!==void 0&&(p.magFilter=n(l.magFilter,sA)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.userData!==void 0&&(p.userData=l.userData),i[l.uuid]=p}return i}parseObject(e,t,n,i,s){let o;function l(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function c(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let w=0,_=y.length;w<_;w++){const A=y[w];n[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),v.push(n[A])}return v}return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),n[y]}}function d(y){return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),i[y]}let p,m;switch(e.type){case"Scene":o=new s1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new tt(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Y0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new K0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new tr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ua(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new LC(e.color,e.intensity);break;case"DirectionalLight":o=new E1(e.color,e.intensity);break;case"PointLight":o=new b1(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new DC(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new M1(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new IC(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new ny().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),m=c(e.material),o=new a1(p,m),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),m=c(e.material),o=new Nr(p,m);break;case"InstancedMesh":p=l(e.geometry),m=c(e.material);const y=e.count,v=e.instanceMatrix,w=e.instanceColor;o=new l1(p,m,y),o.instanceMatrix=new Ec(new Float32Array(v.array),16),w!==void 0&&(o.instanceColor=new Ec(new Float32Array(w.array),w.itemSize));break;case"LOD":o=new aC;break;case"Line":o=new ja(l(e.geometry),c(e.material));break;case"LineLoop":o=new u1(l(e.geometry),c(e.material));break;case"LineSegments":o=new vo(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new c1(l(e.geometry),c(e.material));break;case"Sprite":o=new oC(c(e.material));break;case"Group":o=new ho;break;case"Bone":o=new Q0;break;default:o=new on}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)o.add(this.parseObject(y[v],t,n,i,s))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const w=y[v];o.animations.push(s[w])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const w=y[v],_=o.getObjectByProperty("uuid",w.object);_!==void 0&&o.addLevel(_,w.distance,w.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}}const dk={UVMapping:V0,CubeReflectionMapping:Wl,CubeRefractionMapping:jl,EquirectangularReflectionMapping:xp,EquirectangularRefractionMapping:_p,CubeUVReflectionMapping:Id},iA={RepeatWrapping:Jl,ClampToEdgeWrapping:Yr,MirroredRepeatWrapping:Sd},sA={NearestFilter:er,NearestMipmapNearestFilter:wp,NearestMipmapLinearFilter:yd,LinearFilter:Jn,LinearMipmapNearestFilter:W0,LinearMipmapLinearFilter:Uo};class NC extends Ti{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Pc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){Pc.add(e,c),t&&t(c),s.manager.itemEnd(e)}).catch(function(c){i&&i(c),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Ug;class C1{static getContext(){return Ug===void 0&&(Ug=new(window.AudioContext||window.webkitAudioContext)),Ug}static setContext(e){Ug=e}}class hk extends Ti{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new ds(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);C1.getContext().decodeAudioData(c,function(p){t(p)})}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}}class pk extends ny{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const i=new tt().set(e),s=new tt().set(t),o=new W(i.r,i.g,i.b),l=new W(s.r,s.g,s.b),c=Math.sqrt(Math.PI),d=c*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(l).multiplyScalar(c),this.sh.coefficients[1].copy(o).sub(l).multiplyScalar(d)}}class mk extends ny{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new tt().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const oA=new It,aA=new It,Qu=new It;class gk{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new tr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new tr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Qu.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(yc*t.fov*.5)/t.zoom;let l,c;aA.elements[12]=-i,oA.elements[12]=i,l=-o*t.aspect+s,c=o*t.aspect+s,Qu.elements[0]=2*t.near/(c-l),Qu.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(Qu),l=-o*t.aspect-s,c=o*t.aspect-s,Qu.elements[0]=2*t.near/(c-l),Qu.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(Qu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(aA),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(oA)}}class T1{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=lA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=lA();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function lA(){return(typeof performance>"u"?Date:performance).now()}const qu=new W,uA=new zr,yk=new W,Zu=new W;class vk extends on{constructor(){super(),this.type="AudioListener",this.context=C1.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new T1}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qu,uA,yk),Zu.set(0,0,-1).applyQuaternion(uA),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(qu.x,i),t.positionY.linearRampToValueAtTime(qu.y,i),t.positionZ.linearRampToValueAtTime(qu.z,i),t.forwardX.linearRampToValueAtTime(Zu.x,i),t.forwardY.linearRampToValueAtTime(Zu.y,i),t.forwardZ.linearRampToValueAtTime(Zu.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(qu.x,qu.y,qu.z),t.setOrientation(Zu.x,Zu.y,Zu.z,n.x,n.y,n.z)}}class zC extends on{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ec=new W,cA=new zr,xk=new W,tc=new W;class _k extends zC{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ec,cA,xk),tc.set(0,0,1).applyQuaternion(cA);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ec.x,n),t.positionY.linearRampToValueAtTime(ec.y,n),t.positionZ.linearRampToValueAtTime(ec.z,n),t.orientationX.linearRampToValueAtTime(tc.x,n),t.orientationY.linearRampToValueAtTime(tc.y,n),t.orientationZ.linearRampToValueAtTime(tc.z,n)}else t.setPosition(ec.x,ec.y,ec.z),t.setOrientation(tc.x,tc.y,tc.z)}}class wk{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class UC{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==i;++l)n[s+l]=n[l];o=t}else{o+=t;const l=t/o;this._mixBufferRegion(n,s,0,l,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(n,i,c,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let c=t,d=t+t;c!==d;++c)if(n[c]!==n[c+t]){l.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let s=n,o=i;s!==o;++s)t[s]=t[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){zr.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,s){const o=this._workIndex*s;zr.multiplyQuaternionsFlat(e,o,e,t,e,n),zr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,s){const o=1-i;for(let l=0;l!==s;++l){const c=t+l;e[c]=e[c]*o+e[n+l]*i}}_lerpAdditive(e,t,n,i,s){for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]+e[n+o]*i}}}const R1="\\[\\]\\.:\\/",Sk=new RegExp("["+R1+"]","g"),P1="[^"+R1+"]",Ak="[^"+R1.replace("\\.","")+"]",Mk=/((?:WC+[\/:])*)/.source.replace("WC",P1),bk=/(WCOD+)?/.source.replace("WCOD",Ak),Ek=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",P1),Ck=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",P1),Tk=new RegExp("^"+Mk+bk+Ek+Ck+"$"),Rk=["material","materials","bones","map"];class Pk{constructor(e,t,n){const i=n||cn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class cn{constructor(e,t,n){this.path=t,this.parsedPath=n||cn.parseTrackName(t),this.node=cn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new cn.Composite(e,t,n):new cn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Sk,"")}static parseTrackName(e){const t=Tk.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);Rk.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===t||l.uuid===t)return l;const c=n(l.children);if(c)return c}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=cn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===d){d=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[i];if(o===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cn.Composite=Pk;cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};cn.prototype.GetterByBindingType=[cn.prototype._getValue_direct,cn.prototype._getValue_array,cn.prototype._getValue_arrayElement,cn.prototype._getValue_toArray];cn.prototype.SetterByBindingTypeAndVersioning=[[cn.prototype._setValue_direct,cn.prototype._setValue_direct_setNeedsUpdate,cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_array,cn.prototype._setValue_array_setNeedsUpdate,cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_arrayElement,cn.prototype._setValue_arrayElement_setNeedsUpdate,cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_fromArray,cn.prototype._setValue_fromArray_setNeedsUpdate,cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Bk{constructor(){this.isAnimationObjectGroup=!0,this.uuid=cs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let l,c=e.length,d=this.nCachedObjects_;for(let p=0,m=arguments.length;p!==m;++p){const y=arguments[p],v=y.uuid;let w=t[v];if(w===void 0){w=c++,t[v]=w,e.push(y);for(let _=0,A=o;_!==A;++_)s[_].push(new cn(y,n[_],i[_]))}else if(w<d){l=e[w];const _=--d,A=e[_];t[A.uuid]=w,e[w]=A,t[v]=_,e[_]=y;for(let b=0,E=o;b!==E;++b){const T=s[b],R=T[_];let L=T[w];T[w]=R,L===void 0&&(L=new cn(y,n[b],i[b])),T[_]=L}}else e[w]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],d=c.uuid,p=t[d];if(p!==void 0&&p>=s){const m=s++,y=e[m];t[y.uuid]=p,e[p]=y,t[d]=m,e[m]=c;for(let v=0,w=i;v!==w;++v){const _=n[v],A=_[m],b=_[p];_[p]=A,_[m]=b}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_,o=e.length;for(let l=0,c=arguments.length;l!==c;++l){const d=arguments[l],p=d.uuid,m=t[p];if(m!==void 0)if(delete t[p],m<s){const y=--s,v=e[y],w=--o,_=e[w];t[v.uuid]=m,e[m]=v,t[_.uuid]=y,e[y]=_,e.pop();for(let A=0,b=i;A!==b;++A){const E=n[A],T=E[y],R=E[w];E[m]=T,E[y]=R,E.pop()}}else{const y=--o,v=e[y];y>0&&(t[v.uuid]=m),e[m]=v,e.pop();for(let w=0,_=i;w!==_;++w){const A=n[w];A[m]=A[y],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,l=this._parsedPaths,c=this._objects,d=c.length,p=this.nCachedObjects_,m=new Array(d);i=s.length,n[e]=i,o.push(e),l.push(t),s.push(m);for(let y=p,v=c.length;y!==v;++y){const w=c[y];m[y]=new cn(w,e,t)}return m}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l],d=e[l];t[d]=n,o[n]=c,o.pop(),s[n]=s[l],s.pop(),i[n]=i[l],i.pop()}}}class Ik{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const s=t.tracks,o=s.length,l=new Array(o),c={endingStart:uc,endingEnd:uc};for(let d=0;d!==o;++d){const p=s[d].createInterpolant(null);l[d]=p,p.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=OE,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,s=e._clip.duration,o=s/i,l=i/s;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,s=i.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,d=l.sampleValues;return c[0]=s,c[1]=s+n,d[0]=e/o,d[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);const o=this._updateTime(t),l=this._updateWeight(e);if(l>0){const c=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case K_:for(let p=0,m=c.length;p!==m;++p)c[p].evaluate(o),d[p].accumulateAdditive(l);break;case j0:default:for(let p=0,m=c.length;p!==m;++p)c[p].evaluate(o),d[p].accumulate(i,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,s=this._loopCount;const o=n===kE;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(n===DE){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const l=Math.floor(i/t);i-=t*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=cc,i.endingEnd=cc):(e?i.endingStart=this.zeroSlopeAtStart?cc:uc:i.endingStart=Sp,t?i.endingEnd=this.zeroSlopeAtEnd?cc:uc:i.endingEnd=Sp)}_scheduleFading(e,t,n){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,c[0]=t,l[1]=s+e,c[1]=n,this}}const Lk=new Float32Array(1);class HC extends Ka{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,l=e._interpolants,c=n.uuid,d=this._bindingsByRootAndName;let p=d[c];p===void 0&&(p={},d[c]=p);for(let m=0;m!==s;++m){const y=i[m],v=y.name;let w=p[v];if(w!==void 0)++w.referenceCount,o[m]=w;else{if(w=o[m],w!==void 0){w._cacheIndex===null&&(++w.referenceCount,this._addInactiveBinding(w,c,v));continue}const _=t&&t._propertyBindings[m].binding.parsedPath;w=new UC(cn.create(n,v,_),y.ValueTypeName,y.getValueSize()),++w.referenceCount,this._addInactiveBinding(w,c,v),o[m]=w}l[m].resultBuffer=w.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,l=o[s],c=l.knownActions,d=c[c.length-1],p=e._byClipCacheIndex;d._byClipCacheIndex=p,c[p]=d,c.pop(),e._byClipCacheIndex=null;const m=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete m[y],c.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,l=o[i],c=t[t.length-1],d=e._cacheIndex;c._cacheIndex=d,t[d]=c,t.pop(),delete l[s],Object.keys(l).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new _1(new Float32Array(2),new Float32Array(2),1,Lk),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Cd.findByName(i,e):e;const l=o!==null?o.uuid:e,c=this._actionsByClip[l];let d=null;if(n===void 0&&(o!==null?n=o.blendMode:n=j0),c!==void 0){const m=c.actionByRoot[s];if(m!==void 0&&m.blendMode===n)return m;d=c.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const p=new Ik(this,o,t,n);return this._bindAction(p,d),this._addInactiveAction(p,l,s),p}existingAction(e,t){const n=t||this._root,i=n.uuid,s=typeof e=="string"?Cd.findByName(n,e):e,o=s?s.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(i,e,s,o);const l=this._bindings,c=this._nActiveBindings;for(let d=0;d!==c;++d)l[d].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const o=s.knownActions;for(let l=0,c=o.length;l!==c;++l){const d=o[l];this._deactivateAction(d);const p=d._cacheIndex,m=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,m._cacheIndex=p,t[p]=m,t.pop(),this._removeInactiveBindingsForAction(d)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const l=n[o].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class B1{constructor(e){this.value=e}clone(){return new B1(this.value.clone===void 0?this.value:this.value.clone())}}let Dk=0;class Ok extends Ka{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Dk++}),this.name="",this.usage=Ap,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class kk extends Gp{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Fk{constructor(e,t,n,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class GC{constructor(e,t,n=0,i=1/0){this.ray=new Ld(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new xc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return c_(e,this,n,t),n.sort(fA),n}intersectObjects(e,t=!0,n=[]){for(let i=0,s=e.length;i<s;i++)c_(e[i],this,n,t);return n.sort(fA),n}}function fA(r,e){return r.distance-e.distance}function c_(r,e,t,n){if(r.layers.test(e.layers)&&r.raycast(e,t),n===!0){const i=r.children;for(let s=0,o=i.length;s<o;s++)c_(i[s],e,t,!0)}}class f_{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(lr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Nk{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const dA=new Ie;class zk{constructor(e=new Ie(1/0,1/0),t=new Ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=dA.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return dA.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const hA=new W,Hg=new W;class Uk{constructor(e=new W,t=new W){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){hA.subVectors(e,this.start),Hg.subVectors(this.end,this.start);const n=Hg.dot(Hg);let s=Hg.dot(hA)/n;return t&&(s=lr(s,0,1)),s}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const pA=new W;class Hk extends on{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Jt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){const d=o/c*Math.PI*2,p=l/c*Math.PI*2;i.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new _t(i,3));const s=new li({fog:!1,toneMapped:!1});this.cone=new vo(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),pA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(pA),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const kl=new W,Gg=new It,Pv=new It;class Gk extends vo{constructor(e){const t=VC(e),n=new Jt,i=[],s=[],o=new tt(0,0,1),l=new tt(0,1,0);for(let d=0;d<t.length;d++){const p=t[d];p.parent&&p.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(l.r,l.g,l.b))}n.setAttribute("position",new _t(i,3)),n.setAttribute("color",new _t(s,3));const c=new li({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");Pv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(Gg.multiplyMatrices(Pv,l.matrixWorld),kl.setFromMatrixPosition(Gg),i.setXYZ(o,kl.x,kl.y,kl.z),Gg.multiplyMatrices(Pv,l.parent.matrixWorld),kl.setFromMatrixPosition(Gg),i.setXYZ(o+1,kl.x,kl.y,kl.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function VC(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,VC(r.children[t]));return e}class Vk extends Nr{constructor(e,t,n){const i=new zd(t,4,2),s=new ls({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Wk=new W,mA=new tt,gA=new tt;class jk extends on{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new Nd(t);i.rotateY(Math.PI*.5),this.material=new ls({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new pn(o,3)),this.add(new Nr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");mA.copy(this.light.color),gA.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const s=n<i/2?mA:gA;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Wk.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Jk extends vo{constructor(e=10,t=10,n=4473924,i=8947848){n=new tt(n),i=new tt(i);const s=t/2,o=e/t,l=e/2,c=[],d=[];for(let y=0,v=0,w=-l;y<=t;y++,w+=o){c.push(-l,0,w,l,0,w),c.push(w,0,-l,w,0,l);const _=y===s?n:i;_.toArray(d,v),v+=3,_.toArray(d,v),v+=3,_.toArray(d,v),v+=3,_.toArray(d,v),v+=3}const p=new Jt;p.setAttribute("position",new _t(c,3)),p.setAttribute("color",new _t(d,3));const m=new li({vertexColors:!0,toneMapped:!1});super(p,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class $k extends vo{constructor(e=10,t=16,n=8,i=64,s=4473924,o=8947848){s=new tt(s),o=new tt(o);const l=[],c=[];if(t>1)for(let m=0;m<t;m++){const y=m/t*(Math.PI*2),v=Math.sin(y)*e,w=Math.cos(y)*e;l.push(0,0,0),l.push(v,0,w);const _=m&1?s:o;c.push(_.r,_.g,_.b),c.push(_.r,_.g,_.b)}for(let m=0;m<n;m++){const y=m&1?s:o,v=e-e/n*m;for(let w=0;w<i;w++){let _=w/i*(Math.PI*2),A=Math.sin(_)*v,b=Math.cos(_)*v;l.push(A,0,b),c.push(y.r,y.g,y.b),_=(w+1)/i*(Math.PI*2),A=Math.sin(_)*v,b=Math.cos(_)*v,l.push(A,0,b),c.push(y.r,y.g,y.b)}}const d=new Jt;d.setAttribute("position",new _t(l,3)),d.setAttribute("color",new _t(c,3));const p=new li({vertexColors:!0,toneMapped:!1});super(d,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const yA=new W,Vg=new W,vA=new W;class Xk extends on{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Jt;i.setAttribute("position",new _t([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new li({fog:!1,toneMapped:!1});this.lightPlane=new ja(i,s),this.add(this.lightPlane),i=new Jt,i.setAttribute("position",new _t([0,0,0,0,0,1],3)),this.targetLine=new ja(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),yA.setFromMatrixPosition(this.light.matrixWorld),Vg.setFromMatrixPosition(this.light.target.matrixWorld),vA.subVectors(Vg,yA),this.lightPlane.lookAt(Vg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vg),this.targetLine.scale.z=vA.length()}}const Wg=new W,qn=new Up;class Kk extends vo{constructor(e){const t=new Jt,n=new li({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(w,_){c(w),c(_)}function c(w){i.push(0,0,0),s.push(0,0,0),o[w]===void 0&&(o[w]=[]),o[w].push(i.length/3-1)}t.setAttribute("position",new _t(i,3)),t.setAttribute("color",new _t(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new tt(16755200),p=new tt(16711680),m=new tt(43775),y=new tt(16777215),v=new tt(3355443);this.setColors(d,p,m,y,v)}setColors(e,t,n,i,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;qn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ar("c",t,e,qn,0,0,-1),ar("t",t,e,qn,0,0,1),ar("n1",t,e,qn,-1,-1,-1),ar("n2",t,e,qn,n,-1,-1),ar("n3",t,e,qn,-1,i,-1),ar("n4",t,e,qn,n,i,-1),ar("f1",t,e,qn,-1,-1,1),ar("f2",t,e,qn,n,-1,1),ar("f3",t,e,qn,-1,i,1),ar("f4",t,e,qn,n,i,1),ar("u1",t,e,qn,n*.7,i*1.1,-1),ar("u2",t,e,qn,-1*.7,i*1.1,-1),ar("u3",t,e,qn,0,i*2,-1),ar("cf1",t,e,qn,-1,0,1),ar("cf2",t,e,qn,n,0,1),ar("cf3",t,e,qn,0,-1,1),ar("cf4",t,e,qn,0,i,1),ar("cn1",t,e,qn,-1,0,-1),ar("cn2",t,e,qn,n,0,-1),ar("cn3",t,e,qn,0,-1,-1),ar("cn4",t,e,qn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ar(r,e,t,n,i,s,o){Wg.set(i,s,o).unproject(n);const l=e[r];if(l!==void 0){const c=t.getAttribute("position");for(let d=0,p=l.length;d<p;d++)c.setXYZ(l[d],Wg.x,Wg.y,Wg.z)}}const jg=new tu;class Yk extends vo{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Jt;s.setIndex(new pn(n,1)),s.setAttribute("position",new pn(i,3)),super(s,new li({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&jg.setFromObject(this.object),jg.isEmpty())return;const t=jg.min,n=jg.max,i=this.geometry.attributes.position,s=i.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qk extends vo{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Jt;s.setIndex(new pn(n,1)),s.setAttribute("position",new _t(i,3)),super(s,new li({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class qk extends ja{constructor(e,t=1,n=16776960){const i=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Jt;o.setAttribute("position",new _t(s,3)),o.computeBoundingSphere(),super(o,new li({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Jt;c.setAttribute("position",new _t(l,3)),c.computeBoundingSphere(),this.add(new Nr(c,new ls({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xA=new W;let Jg,Bv;class Zk extends on{constructor(e=new W(0,0,1),t=new W(0,0,0),n=1,i=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",Jg===void 0&&(Jg=new Jt,Jg.setAttribute("position",new _t([0,0,0,0,1,0],3)),Bv=new Oc(0,.5,1,5,1),Bv.translate(0,-.5,0)),this.position.copy(t),this.line=new ja(Jg,new li({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Nr(Bv,new ls({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xA.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xA,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class eF extends vo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Jt;i.setAttribute("position",new _t(t,3)),i.setAttribute("color",new _t(n,3));const s=new li({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,n){const i=new tt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(n),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tF{constructor(){this.type="ShapePath",this.color=new tt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ep,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,s,o){return this.currentPath.bezierCurveTo(e,t,n,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const E=[];for(let T=0,R=b.length;T<R;T++){const L=b[T],O=new _c;O.curves=L.curves,E.push(O)}return E}function n(b,E){const T=E.length;let R=!1;for(let L=T-1,O=0;O<T;L=O++){let F=E[L],I=E[O],G=I.x-F.x,V=I.y-F.y;if(Math.abs(V)>Number.EPSILON){if(V<0&&(F=E[O],G=-G,I=E[L],V=-V),b.y<F.y||b.y>I.y)continue;if(b.y===F.y){if(b.x===F.x)return!0}else{const q=V*(b.x-F.x)-G*(b.y-F.y);if(q===0)return!0;if(q<0)continue;R=!R}}else{if(b.y!==F.y)continue;if(I.x<=b.x&&b.x<=F.x||F.x<=b.x&&b.x<=I.x)return!0}}return R}const i=Fo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,l,c;const d=[];if(s.length===1)return l=s[0],c=new _c,c.curves=l.curves,d.push(c),d;let p=!i(s[0].getPoints());p=e?!p:p;const m=[],y=[];let v=[],w=0,_;y[w]=void 0,v[w]=[];for(let b=0,E=s.length;b<E;b++)l=s[b],_=l.getPoints(),o=i(_),o=e?!o:o,o?(!p&&y[w]&&w++,y[w]={s:new _c,p:_},y[w].s.curves=l.curves,p&&w++,v[w]=[]):v[w].push({h:l,p:_[0]});if(!y[0])return t(s);if(y.length>1){let b=!1,E=0;for(let T=0,R=y.length;T<R;T++)m[T]=[];for(let T=0,R=y.length;T<R;T++){const L=v[T];for(let O=0;O<L.length;O++){const F=L[O];let I=!0;for(let G=0;G<y.length;G++)n(F.p,y[G].p)&&(T!==G&&E++,I?(I=!1,m[G].push(F)):b=!0);I&&m[T].push(F)}}E>0&&b===!1&&(v=m)}let A;for(let b=0,E=y.length;b<E;b++){c=y[b].s,d.push(c),A=v[b];for(let T=0,R=A.length;T<R;T++)c.holes.push(A[T].h)}return d}}const Da=nF();function nF(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const d=c-127;d<-27?(n[c]=0,n[c|256]=32768,i[c]=24,i[c|256]=24):d<-14?(n[c]=1024>>-d-14,n[c|256]=1024>>-d-14|32768,i[c]=-d-1,i[c|256]=-d-1):d<=15?(n[c]=d+15<<10,n[c|256]=d+15<<10|32768,i[c]=13,i[c|256]=13):d<128?(n[c]=31744,n[c|256]=64512,i[c]=24,i[c|256]=24):(n[c]=31744,n[c|256]=64512,i[c]=13,i[c|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let d=c<<13,p=0;for(;!(d&8388608);)d<<=1,p-=8388608;d&=-8388609,p+=947912704,s[c]=d|p}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:l}}function rF(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=lr(r,-65504,65504),Da.floatView[0]=r;const e=Da.uint32View[0],t=e>>23&511;return Da.baseTable[t]+((e&8388607)>>Da.shiftTable[t])}function iF(r){const e=r>>10;return Da.uint32View[0]=Da.mantissaTable[Da.offsetTable[e]+(r&1023)]+Da.exponentTable[e],Da.floatView[0]}var sF=Object.freeze({__proto__:null,toHalfFloat:rF,fromHalfFloat:iF});function oF(){console.error("THREE.ImmediateRenderObject has been removed.")}class aF extends Rs{constructor(e,t,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,n),this.samples=4}}class lF extends zp{constructor(e,t,n,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,n,i)}}class uF extends J0{constructor(e,t,n,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,n,i)}}class cF extends ru{constructor(e,t,n,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,i,s,o)}}class fF extends Wp{constructor(e,t,n,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,i)}}class dF extends jp{constructor(e,t,n,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,i)}}class hF extends Jp{constructor(e,t,n,i,s,o,l){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,i,s,o,l)}}class pF extends Oc{constructor(e,t,n,i,s,o,l,c){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,i,s,o,l,c)}}class mF extends $p{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class gF extends Xp{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class yF extends Kp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class vF extends Fd{constructor(e,t,n,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,i)}}class xF extends Nd{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class _F extends Od{constructor(e,t,n,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,i)}}class wF extends Ya{constructor(e,t,n,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,i)}}class SF extends Yp{constructor(e,t,n,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,i,s,o)}}class AF extends Qp{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class MF extends zd{constructor(e,t,n,i,s,o,l){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,i,s,o,l)}}class bF extends qp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class EF extends Zp{constructor(e,t,n,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,i,s)}}class CF extends em{constructor(e,t,n,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,i,s,o)}}class TF extends tm{constructor(e,t,n,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:kp}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=kp);const S0=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:$_,AddEquation:ac,AddOperation:pE,AdditiveAnimationBlendMode:K_,AdditiveBlending:Px,AlphaFormat:ME,AlwaysDepth:aE,AlwaysStencilFunc:HE,AmbientLight:LC,AmbientLightProbe:mk,AnimationClip:Cd,AnimationLoader:ik,AnimationMixer:HC,AnimationObjectGroup:Bk,AnimationUtils:ek,ArcCurve:lC,ArrayCamera:nC,ArrowHelper:Zk,Audio:zC,AudioAnalyser:wk,AudioContext:C1,AudioListener:vk,AudioLoader:hk,AxesHelper:eF,BackSide:us,BasicDepthPacking:NE,BasicShadowMap:PP,Bone:Q0,BooleanKeyframeTrack:kc,Box2:zk,Box3:tu,Box3Helper:Qk,BoxBufferGeometry:cF,BoxGeometry:ru,BoxHelper:Yk,BufferAttribute:pn,BufferGeometry:Jt,BufferGeometryLoader:FC,ByteType:xE,Cache:Pc,Camera:Up,CameraHelper:Kk,CanvasTexture:MO,CapsuleBufferGeometry:fF,CapsuleGeometry:Wp,CatmullRomCurve3:uC,CineonToneMapping:yE,CircleBufferGeometry:dF,CircleGeometry:jp,ClampToEdgeWrapping:Yr,Clock:T1,Color:tt,ColorKeyframeTrack:w1,ColorManagement:oi,CompressedArrayTexture:AO,CompressedTexture:f1,CompressedTextureLoader:sk,ConeBufferGeometry:hF,ConeGeometry:Jp,CubeCamera:XE,CubeReflectionMapping:Wl,CubeRefractionMapping:jl,CubeTexture:Hp,CubeTextureLoader:ok,CubeUVReflectionMapping:Id,CubicBezierCurve:h1,CubicBezierCurve3:cC,CubicInterpolant:CC,CullFaceBack:Rx,CullFaceFront:$b,CullFaceFrontBack:RP,CullFaceNone:Jb,Curve:xo,CurvePath:dC,CustomBlending:Xb,CustomToneMapping:vE,CylinderBufferGeometry:pF,CylinderGeometry:Oc,Cylindrical:Nk,Data3DTexture:J0,DataArrayTexture:zp,DataTexture:vd,DataTexture2DArray:lF,DataTexture3D:uF,DataTextureLoader:ak,DataUtils:sF,DecrementStencilOp:zP,DecrementWrapStencilOp:HP,DefaultLoadingManager:PC,DepthFormat:Gl,DepthStencilFormat:Mc,DepthTexture:rC,DirectionalLight:E1,DirectionalLightHelper:Xk,DiscreteInterpolant:TC,DodecahedronBufferGeometry:mF,DodecahedronGeometry:$p,DoubleSide:Fp,DstAlphaFactor:tE,DstColorFactor:rE,DynamicCopyUsage:nB,DynamicDrawUsage:YP,DynamicReadUsage:ZP,EdgesGeometry:hC,EllipseCurve:Z0,EqualDepth:uE,EqualStencilFunc:jP,EquirectangularReflectionMapping:xp,EquirectangularRefractionMapping:_p,Euler:Dd,EventDispatcher:Ka,ExtrudeBufferGeometry:gF,ExtrudeGeometry:Xp,FileLoader:ds,Float16BufferAttribute:kB,Float32BufferAttribute:_t,Float64BufferAttribute:FB,FloatType:Fa,Fog:Y0,FogExp2:K0,FramebufferTexture:SO,FrontSide:Va,Frustum:$0,GLBufferAttribute:Fk,GLSL1:iB,GLSL3:n_,GreaterDepth:fE,GreaterEqualDepth:cE,GreaterEqualStencilFunc:KP,GreaterStencilFunc:$P,GridHelper:Jk,Group:ho,HalfFloatType:Ad,HemisphereLight:IC,HemisphereLightHelper:jk,HemisphereLightProbe:pk,IcosahedronBufferGeometry:yF,IcosahedronGeometry:Kp,ImageBitmapLoader:NC,ImageLoader:Pp,ImageUtils:q_,ImmediateRenderObject:oF,IncrementStencilOp:NP,IncrementWrapStencilOp:UP,InstancedBufferAttribute:Ec,InstancedBufferGeometry:kC,InstancedInterleavedBuffer:kk,InstancedMesh:l1,Int16BufferAttribute:DB,Int32BufferAttribute:OB,Int8BufferAttribute:BB,IntType:wE,InterleavedBuffer:Gp,InterleavedBufferAttribute:Xl,Interpolant:Ud,InterpolateDiscrete:Md,InterpolateLinear:bc,InterpolateSmooth:c0,InvertStencilOp:GP,KeepStencilOp:f0,KeyframeTrack:_o,LOD:aC,LatheBufferGeometry:vF,LatheGeometry:Fd,Layers:xc,LessDepth:lE,LessEqualDepth:v0,LessEqualStencilFunc:JP,LessStencilFunc:WP,Light:iu,LightProbe:ny,Line:ja,Line3:Uk,LineBasicMaterial:li,LineCurve:ey,LineCurve3:fC,LineDashedMaterial:bC,LineLoop:u1,LineSegments:vo,LinearEncoding:Wa,LinearFilter:Jn,LinearInterpolant:_1,LinearMipMapLinearFilter:DP,LinearMipMapNearestFilter:LP,LinearMipmapLinearFilter:Uo,LinearMipmapNearestFilter:W0,LinearSRGBColorSpace:bd,LinearToneMapping:mE,Loader:Ti,LoaderUtils:Vl,LoadingManager:S1,LoopOnce:DE,LoopPingPong:kE,LoopRepeat:OE,LuminanceAlphaFormat:CE,LuminanceFormat:EE,MOUSE:ic,Material:yr,MaterialLoader:ry,MathUtils:VE,Matrix3:Ei,Matrix4:It,MaxEquation:Dx,Mesh:Nr,MeshBasicMaterial:ls,MeshDepthMaterial:n1,MeshDistanceMaterial:r1,MeshLambertMaterial:AC,MeshMatcapMaterial:MC,MeshNormalMaterial:SC,MeshPhongMaterial:_C,MeshPhysicalMaterial:Ps,MeshStandardMaterial:nm,MeshToonMaterial:wC,MinEquation:Lx,MirroredRepeatWrapping:Sd,MixOperation:hE,MultiplyBlending:Ix,MultiplyOperation:Np,NearestFilter:er,NearestMipMapLinearFilter:IP,NearestMipMapNearestFilter:BP,NearestMipmapLinearFilter:yd,NearestMipmapNearestFilter:wp,NeverDepth:oE,NeverStencilFunc:VP,NoBlending:za,NoColorSpace:OP,NoToneMapping:po,NormalAnimationBlendMode:j0,NormalBlending:mc,NotEqualDepth:dE,NotEqualStencilFunc:XP,NumberKeyframeTrack:Tc,Object3D:on,ObjectLoader:fk,ObjectSpaceNormalMap:UE,OctahedronBufferGeometry:xF,OctahedronGeometry:Nd,OneFactor:qb,OneMinusDstAlphaFactor:nE,OneMinusDstColorFactor:iE,OneMinusSrcAlphaFactor:J_,OneMinusSrcColorFactor:eE,OrthographicCamera:Ua,PCFShadowMap:V_,PCFSoftShadowMap:W_,PMREMGenerator:i_,Path:Ep,PerspectiveCamera:tr,Plane:Ia,PlaneBufferGeometry:_F,PlaneGeometry:Od,PlaneHelper:qk,PointLight:b1,PointLightHelper:Vk,Points:c1,PointsMaterial:q0,PolarGridHelper:$k,PolyhedronBufferGeometry:wF,PolyhedronGeometry:Ya,PositionalAudio:_k,PropertyBinding:cn,PropertyMixer:UC,QuadraticBezierCurve:p1,QuadraticBezierCurve3:m1,Quaternion:zr,QuaternionKeyframeTrack:Kl,QuaternionLinearInterpolant:RC,REVISION:kp,RGBADepthPacking:zE,RGBAFormat:as,RGBAIntegerFormat:IE,RGBA_ASTC_10x10_Format:qx,RGBA_ASTC_10x5_Format:Kx,RGBA_ASTC_10x6_Format:Yx,RGBA_ASTC_10x8_Format:Qx,RGBA_ASTC_12x10_Format:Zx,RGBA_ASTC_12x12_Format:e_,RGBA_ASTC_4x4_Format:Hx,RGBA_ASTC_5x4_Format:Gx,RGBA_ASTC_5x5_Format:Vx,RGBA_ASTC_6x5_Format:Wx,RGBA_ASTC_6x6_Format:jx,RGBA_ASTC_8x5_Format:Jx,RGBA_ASTC_8x6_Format:$x,RGBA_ASTC_8x8_Format:Xx,RGBA_BPTC_Format:t_,RGBA_ETC2_EAC_Format:Ux,RGBA_PVRTC_2BPPV1_Format:Nx,RGBA_PVRTC_4BPPV1_Format:Fx,RGBA_S3TC_DXT1_Format:a0,RGBA_S3TC_DXT3_Format:l0,RGBA_S3TC_DXT5_Format:u0,RGBFormat:bE,RGB_ETC1_Format:LE,RGB_ETC2_Format:zx,RGB_PVRTC_2BPPV1_Format:kx,RGB_PVRTC_4BPPV1_Format:Ox,RGB_S3TC_DXT1_Format:o0,RGFormat:PE,RGIntegerFormat:BE,RawShaderMaterial:xC,Ray:Ld,Raycaster:GC,RectAreaLight:DC,RedFormat:TE,RedIntegerFormat:RE,ReinhardToneMapping:gE,RepeatWrapping:Jl,ReplaceStencilOp:FP,ReverseSubtractEquation:Yb,RingBufferGeometry:SF,RingGeometry:Yp,SRGBColorSpace:uo,Scene:s1,ShaderChunk:Xt,ShaderLib:co,ShaderMaterial:Ho,ShadowMaterial:vC,Shape:_c,ShapeBufferGeometry:AF,ShapeGeometry:Qp,ShapePath:tF,ShapeUtils:Fo,ShortType:_E,Skeleton:Vp,SkeletonHelper:Gk,SkinnedMesh:a1,Source:fc,Sphere:nu,SphereBufferGeometry:MF,SphereGeometry:zd,Spherical:f_,SphericalHarmonics3:OC,SplineCurve:g1,SpotLight:M1,SpotLightHelper:Hk,Sprite:oC,SpriteMaterial:o1,SrcAlphaFactor:j_,SrcAlphaSaturateFactor:sE,SrcColorFactor:Zb,StaticCopyUsage:tB,StaticDrawUsage:Ap,StaticReadUsage:qP,StereoCamera:gk,StreamCopyUsage:rB,StreamDrawUsage:QP,StreamReadUsage:eB,StringKeyframeTrack:Fc,SubtractEquation:Kb,SubtractiveBlending:Bx,TOUCH:sc,TangentSpaceNormalMap:eu,TetrahedronBufferGeometry:bF,TetrahedronGeometry:qp,Texture:Hn,TextureLoader:BC,TorusBufferGeometry:EF,TorusGeometry:Zp,TorusKnotBufferGeometry:CF,TorusKnotGeometry:em,Triangle:Cs,TriangleFanDrawMode:x0,TriangleStripDrawMode:Y_,TrianglesDrawMode:FE,TubeBufferGeometry:TF,TubeGeometry:tm,TwoPassDoubleSide:up,UVMapping:V0,Uint16BufferAttribute:Z_,Uint32BufferAttribute:e1,Uint8BufferAttribute:IB,Uint8ClampedBufferAttribute:LB,Uniform:B1,UniformsGroup:Ok,UniformsLib:qe,UniformsUtils:$E,UnsignedByteType:$l,UnsignedInt248Type:gc,UnsignedIntType:Hl,UnsignedShort4444Type:SE,UnsignedShort5551Type:AE,UnsignedShortType:X_,VSMShadowMap:fd,Vector2:Ie,Vector3:W,Vector4:xn,VectorKeyframeTrack:Rc,VideoTexture:wO,WebGL1Renderer:iC,WebGL3DRenderTarget:wB,WebGLArrayRenderTarget:_B,WebGLCubeRenderTarget:KE,WebGLMultipleRenderTargets:SB,WebGLMultisampleRenderTarget:aF,WebGLRenderTarget:Rs,WebGLRenderer:i1,WebGLUtils:tC,WireframeGeometry:yC,WrapAroundEnding:Sp,ZeroCurvatureEnding:uc,ZeroFactor:Qb,ZeroSlopeEnding:cc,ZeroStencilOp:kP,_SRGBAFormat:_0,sRGBEncoding:Mn},Symbol.toStringTag,{value:"Module"}));var Iv={exports:{}},Fl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A;function RF(){return _A||(_A=1,Fl.ConcurrentRoot=1,Fl.ContinuousEventPriority=4,Fl.DefaultEventPriority=16,Fl.DiscreteEventPriority=1,Fl.IdleEventPriority=536870912,Fl.LegacyRoot=0),Fl}var wA;function PF(){return wA||(wA=1,Iv.exports=RF()),Iv.exports}var fp=PF();function BF(r){let e;const t=new Set,n=(d,p)=>{const m=typeof d=="function"?d(e):d;if(m!==e){const y=e;e=p?m:Object.assign({},e,m),t.forEach(v=>v(e,y))}},i=()=>e,s=(d,p=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=p(e);function v(){const w=p(e);if(!m(y,w)){const _=y;d(y=w,_)}}return t.add(v),()=>t.delete(v)},c={setState:n,getState:i,subscribe:(d,p,m)=>p||m?s(d,p,m):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=r(n,i,c),c}const IF=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),SA=IF?k.useEffect:k.useLayoutEffect;function iy(r){const e=typeof r=="function"?BF(r):r,t=(n=e.getState,i=Object.is)=>{const[,s]=k.useReducer(A=>A+1,0),o=e.getState(),l=k.useRef(o),c=k.useRef(n),d=k.useRef(i),p=k.useRef(!1),m=k.useRef();m.current===void 0&&(m.current=n(o));let y,v=!1;(l.current!==o||c.current!==n||d.current!==i||p.current)&&(y=n(o),v=!i(m.current,y)),SA(()=>{v&&(m.current=y),l.current=o,c.current=n,d.current=i,p.current=!1});const w=k.useRef(o);SA(()=>{const A=()=>{try{const E=e.getState(),T=c.current(E);d.current(m.current,T)||(l.current=E,m.current=T,s())}catch{p.current=!0,s()}},b=e.subscribe(A);return e.getState()!==w.current&&A(),b},[]);const _=v?y:m.current;return k.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const i=n.length<=0;return{value:n.shift(),done:i}}}},t}var Lv={exports:{}},Dv={exports:{}},Ov={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function LF(){return AA||(AA=1,function(r){function e(z,K){var $=z.length;z.push(K);e:for(;0<$;){var U=$-1>>>1,j=z[U];if(0<i(j,K))z[U]=K,z[$]=j,$=U;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var K=z[0],$=z.pop();if($!==K){z[0]=$;e:for(var U=0,j=z.length,ge=j>>>1;U<ge;){var _e=2*(U+1)-1,Pe=z[_e],fe=_e+1,Ve=z[fe];if(0>i(Pe,$))fe<j&&0>i(Ve,Pe)?(z[U]=Ve,z[fe]=$,U=fe):(z[U]=Pe,z[_e]=$,U=_e);else if(fe<j&&0>i(Ve,$))z[U]=Ve,z[fe]=$,U=fe;else break e}}return K}function i(z,K){var $=z.sortIndex-K.sortIndex;return $!==0?$:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],p=1,m=null,y=3,v=!1,w=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var K=t(d);K!==null;){if(K.callback===null)n(d);else if(K.startTime<=z)n(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=t(d)}}function R(z){if(_=!1,T(z),!w)if(t(c)!==null)w=!0,he(L);else{var K=t(d);K!==null&&de(R,K.startTime-z)}}function L(z,K){w=!1,_&&(_=!1,b(I),I=-1),v=!0;var $=y;try{for(T(K),m=t(c);m!==null&&(!(m.expirationTime>K)||z&&!q());){var U=m.callback;if(typeof U=="function"){m.callback=null,y=m.priorityLevel;var j=U(m.expirationTime<=K);K=r.unstable_now(),typeof j=="function"?m.callback=j:m===t(c)&&n(c),T(K)}else n(c);m=t(c)}if(m!==null)var ge=!0;else{var _e=t(d);_e!==null&&de(R,_e.startTime-K),ge=!1}return ge}finally{m=null,y=$,v=!1}}var O=!1,F=null,I=-1,G=5,V=-1;function q(){return!(r.unstable_now()-V<G)}function ce(){if(F!==null){var z=r.unstable_now();V=z;var K=!0;try{K=F(!0,z)}finally{K?ee():(O=!1,F=null)}}else O=!1}var ee;if(typeof E=="function")ee=function(){E(ce)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,le=Z.port2;Z.port1.onmessage=ce,ee=function(){le.postMessage(null)}}else ee=function(){A(ce,0)};function he(z){F=z,O||(O=!0,ee())}function de(z,K){I=A(function(){z(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){w||v||(w=!0,he(L))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(z){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var $=y;y=K;try{return z()}finally{y=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=y;y=z;try{return K()}finally{y=$}},r.unstable_scheduleCallback=function(z,K,$){var U=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$+j,z={id:p++,callback:K,priorityLevel:z,startTime:$,expirationTime:j,sortIndex:-1},$>U?(z.sortIndex=$,e(d,z),t(c)===null&&z===t(d)&&(_?(b(I),I=-1):_=!0,de(R,$-U))):(z.sortIndex=j,e(c,z),w||v||(w=!0,he(L))),z},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(z){var K=y;return function(){var $=y;y=K;try{return z.apply(this,arguments)}finally{y=$}}}}(Ov)),Ov}var MA;function DF(){return MA||(MA=1,Dv.exports=LF()),Dv.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv,bA;function OF(){return bA||(bA=1,kv=function(e){var t={},n=z0(),i=DF(),s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,x=1;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),L=Symbol.iterator;function O(f){return f===null||typeof f!="object"?null:(f=L&&f[L]||f["@@iterator"],typeof f=="function"?f:null)}function F(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case p:return"Fragment";case d:return"Portal";case y:return"Profiler";case m:return"StrictMode";case A:return"Suspense";case b:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case w:return(f.displayName||"Context")+".Consumer";case v:return(f._context.displayName||"Context")+".Provider";case _:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case E:return h=f.displayName||null,h!==null?h:F(f.type)||"Memo";case T:h=f._payload,f=f._init;try{return F(f(h))}catch{}}return null}function I(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(h);case 8:return h===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function G(f){var h=f,x=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(x=h.return),f=h.return;while(f)}return h.tag===3?x:null}function V(f){if(G(f)!==f)throw Error(o(188))}function q(f){var h=f.alternate;if(!h){if(h=G(f),h===null)throw Error(o(188));return h!==f?null:f}for(var x=f,M=h;;){var P=x.return;if(P===null)break;var D=P.alternate;if(D===null){if(M=P.return,M!==null){x=M;continue}break}if(P.child===D.child){for(D=P.child;D;){if(D===x)return V(P),f;if(D===M)return V(P),h;D=D.sibling}throw Error(o(188))}if(x.return!==M.return)x=P,M=D;else{for(var X=!1,oe=P.child;oe;){if(oe===x){X=!0,x=P,M=D;break}if(oe===M){X=!0,M=P,x=D;break}oe=oe.sibling}if(!X){for(oe=D.child;oe;){if(oe===x){X=!0,x=D,M=P;break}if(oe===M){X=!0,M=D,x=P;break}oe=oe.sibling}if(!X)throw Error(o(189))}}if(x.alternate!==M)throw Error(o(190))}if(x.tag!==3)throw Error(o(188));return x.stateNode.current===x?f:h}function ce(f){return f=q(f),f!==null?ee(f):null}function ee(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=ee(f);if(h!==null)return h;f=f.sibling}return null}function Z(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=Z(f);if(h!==null)return h}f=f.sibling}return null}var le=Array.isArray,he=e.getPublicInstance,de=e.getRootHostContext,z=e.getChildHostContext,K=e.prepareForCommit,$=e.resetAfterCommit,U=e.createInstance,j=e.appendInitialChild,ge=e.finalizeInitialChildren,_e=e.prepareUpdate,Pe=e.shouldSetTextContent,fe=e.createTextInstance,Ve=e.scheduleTimeout,ke=e.cancelTimeout,Ye=e.noTimeout,Ue=e.isPrimaryRenderer,ht=e.supportsMutation,Te=e.supportsPersistence,Ae=e.supportsHydration,Ge=e.getInstanceFromNode,et=e.preparePortalMount,$e=e.getCurrentEventPriority,At=e.detachDeletedInstance,gt=e.supportsMicrotasks,lt=e.scheduleMicrotask,Gt=e.supportsTestSelectors,Nt=e.findFiberRoot,Y=e.getBoundingRect,H=e.getTextContent,ae=e.isHiddenSubtree,Le=e.matchAccessibilityRole,Fe=e.setFocusIfFocusable,We=e.setupIntersectionObserver,pt=e.appendChild,Qe=e.appendChildToContainer,Ce=e.commitTextUpdate,at=e.commitMount,St=e.commitUpdate,st=e.insertBefore,yt=e.insertInContainerBefore,ft=e.removeChild,re=e.removeChildFromContainer,De=e.resetTextContent,nt=e.hideInstance,ne=e.hideTextInstance,we=e.unhideInstance,Oe=e.unhideTextInstance,Xe=e.clearContainer,vt=e.cloneInstance,Kt=e.createContainerChildSet,an=e.appendChildToContainerChildSet,mn=e.finalizeContainerChildren,vr=e.replaceContainerChildren,Zt=e.cloneHiddenInstance,rr=e.cloneHiddenTextInstance,In=e.canHydrateInstance,qa=e.canHydrateTextInstance,jo=e.canHydrateSuspenseInstance,zc=e.isSuspenseInstancePending,Is=e.isSuspenseInstanceFallback,J=e.registerSuspenseInstanceRetry,ye=e.getNextHydratableSibling,Re=e.getFirstHydratableChild,me=e.getFirstHydratableChildWithinContainer,Be=e.getFirstHydratableChildWithinSuspenseInstance,Mt=e.hydrateInstance,Et=e.hydrateTextInstance,zt=e.hydrateSuspenseInstance,Vt=e.getNextHydratableInstanceAfterSuspenseInstance,en=e.commitHydratedContainer,Yt=e.commitHydratedSuspenseInstance,Qt=e.clearSuspenseBoundary,Ln=e.clearSuspenseBoundaryFromContainer,Pr=e.shouldDeleteUnhydratedTailInstances,$i=e.didNotMatchHydratedContainerTextInstance,Ls=e.didNotMatchHydratedTextInstance,Dt;function Wt(f){if(Dt===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Dt=h&&h[1]||""}return`
`+Dt+f}var Ds=!1;function Dn(f,h){if(!f||Ds)return"";Ds=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(je){var M=je}Reflect.construct(f,[],h)}else{try{h.call()}catch(je){M=je}f.call(h.prototype)}else{try{throw Error()}catch(je){M=je}f()}}catch(je){if(je&&M&&typeof je.stack=="string"){for(var P=je.stack.split(`
`),D=M.stack.split(`
`),X=P.length-1,oe=D.length-1;1<=X&&0<=oe&&P[X]!==D[oe];)oe--;for(;1<=X&&0<=oe;X--,oe--)if(P[X]!==D[oe]){if(X!==1||oe!==1)do if(X--,oe--,0>oe||P[X]!==D[oe]){var Ee=`
`+P[X].replace(" at new "," at ");return f.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",f.displayName)),Ee}while(1<=X&&0<=oe);break}}}finally{Ds=!1,Error.prepareStackTrace=x}return(f=f?f.displayName||f.name:"")?Wt(f):""}var Ri=Object.prototype.hasOwnProperty,Za=[],ci=-1;function Ur(f){return{current:f}}function Ct(f){0>ci||(f.current=Za[ci],Za[ci]=null,ci--)}function nn(f,h){ci++,Za[ci]=f.current,f.current=h}var Fn={},dn=Ur(Fn),ur=Ur(!1),Os=Fn;function Pi(f,h){var x=f.type.contextTypes;if(!x)return Fn;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===h)return M.__reactInternalMemoizedMaskedChildContext;var P={},D;for(D in x)P[D]=h[D];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=P),P}function xr(f){return f=f.childContextTypes,f!=null}function So(){Ct(ur),Ct(dn)}function au(f,h,x){if(dn.current!==Fn)throw Error(o(168));nn(dn,h),nn(ur,x)}function pm(f,h,x){var M=f.stateNode;if(h=h.childContextTypes,typeof M.getChildContext!="function")return x;M=M.getChildContext();for(var P in M)if(!(P in h))throw Error(o(108,I(f)||"Unknown",P));return s({},x,M)}function Uc(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Fn,Os=dn.current,nn(dn,f),nn(ur,ur.current),!0}function Hc(f,h,x){var M=f.stateNode;if(!M)throw Error(o(169));x?(f=pm(f,h,Os),M.__reactInternalMemoizedMergedChildContext=f,Ct(ur),Ct(dn),nn(dn,f)):Ct(ur),nn(ur,x)}var Bi=Math.clz32?Math.clz32:yy,Kd=Math.log,lu=Math.LN2;function yy(f){return f>>>=0,f===0?32:31-(Kd(f)/lu|0)|0}var el=64,ln=4194304;function tl(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function uu(f,h){var x=f.pendingLanes;if(x===0)return 0;var M=0,P=f.suspendedLanes,D=f.pingedLanes,X=x&268435455;if(X!==0){var oe=X&~P;oe!==0?M=tl(oe):(D&=X,D!==0&&(M=tl(D)))}else X=x&~P,X!==0?M=tl(X):D!==0&&(M=tl(D));if(M===0)return 0;if(h!==0&&h!==M&&!(h&P)&&(P=M&-M,D=h&-h,P>=D||P===16&&(D&4194240)!==0))return h;if(M&4&&(M|=x&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=M;0<h;)x=31-Bi(h),P=1<<x,M|=f[x],h&=~P;return M}function Yd(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mm(f,h){for(var x=f.suspendedLanes,M=f.pingedLanes,P=f.expirationTimes,D=f.pendingLanes;0<D;){var X=31-Bi(D),oe=1<<X,Ee=P[X];Ee===-1?(!(oe&x)||oe&M)&&(P[X]=Yd(oe,h)):Ee<=h&&(f.expiredLanes|=oe),D&=~oe}}function Gc(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Vc(f){for(var h=[],x=0;31>x;x++)h.push(f);return h}function Jo(f,h,x){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-Bi(h),f[h]=x}function Wc(f,h){var x=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<x;){var P=31-Bi(x),D=1<<P;h[P]=0,M[P]=-1,f[P]=-1,x&=~D}}function hs(f,h){var x=f.entangledLanes|=h;for(f=f.entanglements;x;){var M=31-Bi(x),P=1<<M;P&h|f[M]&h&&(f[M]|=h),x&=~P}}var $t=0;function ks(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var $o=i.unstable_scheduleCallback,nl=i.unstable_cancelCallback,Ao=i.unstable_shouldYield,vy=i.unstable_requestPaint,ir=i.unstable_now,Xo=i.unstable_ImmediatePriority,xy=i.unstable_UserBlockingPriority,jc=i.unstable_NormalPriority,Jc=i.unstable_IdlePriority,cu=null,ps=null;function fu(f){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(cu,f,void 0,(f.current.flags&128)===128)}catch{}}function du(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Hr=typeof Object.is=="function"?Object.is:du,Ii=null,$c=!1,Qd=!1;function Xc(f){Ii===null?Ii=[f]:Ii.push(f)}function Kc(f){$c=!0,Xc(f)}function Li(){if(!Qd&&Ii!==null){Qd=!0;var f=0,h=$t;try{var x=Ii;for($t=1;f<x.length;f++){var M=x[f];do M=M(!0);while(M!==null)}Ii=null,$c=!1}catch(P){throw Ii!==null&&(Ii=Ii.slice(f+1)),$o(Xo,Li),P}finally{$t=h,Qd=!1}}return null}var gm=l.ReactCurrentBatchConfig;function Xi(f,h){if(Hr(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var x=Object.keys(f),M=Object.keys(h);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var P=x[M];if(!Ri.call(h,P)||!Hr(f[P],h[P]))return!1}return!0}function qd(f){switch(f.tag){case 5:return Wt(f.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 2:case 15:return f=Dn(f.type,!1),f;case 11:return f=Dn(f.type.render,!1),f;case 1:return f=Dn(f.type,!0),f;default:return""}}function qr(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var x in f)h[x]===void 0&&(h[x]=f[x]);return h}return h}var hu=Ur(null),Ko=null,Fs=null,Yc=null;function Gr(){Yc=Fs=Ko=null}function Yo(f,h,x){Ue?(nn(hu,h._currentValue),h._currentValue=x):(nn(hu,h._currentValue2),h._currentValue2=x)}function pu(f){var h=hu.current;Ct(hu),Ue?f._currentValue=h:f._currentValue2=h}function Qo(f,h,x){for(;f!==null;){var M=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),f===x)break;f=f.return}}function rl(f,h){Ko=f,Yc=Fs=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(hr=!0),f.firstContext=null)}function Zr(f){var h=Ue?f._currentValue:f._currentValue2;if(Yc!==f)if(f={context:f,memoizedValue:h,next:null},Fs===null){if(Ko===null)throw Error(o(308));Fs=f,Ko.dependencies={lanes:0,firstContext:f}}else Fs=Fs.next=f;return h}var Di=null,Oi=!1;function il(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zd(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Ns(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function Mo(f,h){var x=f.updateQueue;x!==null&&(x=x.shared,Vn!==null&&f.mode&1&&!(Ut&2)?(f=x.interleaved,f===null?(h.next=h,Di===null?Di=[x]:Di.push(x)):(h.next=f.next,f.next=h),x.interleaved=h):(f=x.pending,f===null?h.next=h:(h.next=f.next,f.next=h),x.pending=h))}function Qc(f,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194240)!==0)){var M=h.lanes;M&=f.pendingLanes,x|=M,h.lanes=x,hs(f,x)}}function qc(f,h){var x=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var P=null,D=null;if(x=x.firstBaseUpdate,x!==null){do{var X={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};D===null?P=D=X:D=D.next=X,x=x.next}while(x!==null);D===null?P=D=h:D=D.next=h}else P=D=h;x={baseState:M.baseState,firstBaseUpdate:P,lastBaseUpdate:D,shared:M.shared,effects:M.effects},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=h:f.next=h,x.lastBaseUpdate=h}function Zc(f,h,x,M){var P=f.updateQueue;Oi=!1;var D=P.firstBaseUpdate,X=P.lastBaseUpdate,oe=P.shared.pending;if(oe!==null){P.shared.pending=null;var Ee=oe,je=Ee.next;Ee.next=null,X===null?D=je:X.next=je,X=Ee;var ot=f.alternate;ot!==null&&(ot=ot.updateQueue,oe=ot.lastBaseUpdate,oe!==X&&(oe===null?ot.firstBaseUpdate=je:oe.next=je,ot.lastBaseUpdate=Ee))}if(D!==null){var Ot=P.baseState;X=0,ot=je=Ee=null,oe=D;do{var bt=oe.lane,jt=oe.eventTime;if((M&bt)===bt){ot!==null&&(ot=ot.next={eventTime:jt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var rt=f,br=oe;switch(bt=h,jt=x,br.tag){case 1:if(rt=br.payload,typeof rt=="function"){Ot=rt.call(jt,Ot,bt);break e}Ot=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=br.payload,bt=typeof rt=="function"?rt.call(jt,Ot,bt):rt,bt==null)break e;Ot=s({},Ot,bt);break e;case 2:Oi=!0}}oe.callback!==null&&oe.lane!==0&&(f.flags|=64,bt=P.effects,bt===null?P.effects=[oe]:bt.push(oe))}else jt={eventTime:jt,lane:bt,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},ot===null?(je=ot=jt,Ee=Ot):ot=ot.next=jt,X|=bt;if(oe=oe.next,oe===null){if(oe=P.shared.pending,oe===null)break;bt=oe,oe=bt.next,bt.next=null,P.lastBaseUpdate=bt,P.shared.pending=null}}while(!0);if(ot===null&&(Ee=Ot),P.baseState=Ee,P.firstBaseUpdate=je,P.lastBaseUpdate=ot,h=P.shared.interleaved,h!==null){P=h;do X|=P.lane,P=P.next;while(P!==h)}else D===null&&(P.shared.lanes=0);vs|=X,f.lanes=X,f.memoizedState=Ot}}function ym(f,h,x){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var M=f[h],P=M.callback;if(P!==null){if(M.callback=null,M=x,typeof P!="function")throw Error(o(191,P));P.call(M)}}}var vm=new n.Component().refs;function eh(f,h,x,M){h=f.memoizedState,x=x(M,h),x=x==null?h:s({},h,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var ef={isMounted:function(f){return(f=f._reactInternals)?G(f)===f:!1},enqueueSetState:function(f,h,x){f=f._reactInternals;var M=un(),P=ts(f),D=Ns(M,P);D.payload=h,x!=null&&(D.callback=x),Mo(f,D),h=Lr(f,P,M),h!==null&&Qc(h,f,P)},enqueueReplaceState:function(f,h,x){f=f._reactInternals;var M=un(),P=ts(f),D=Ns(M,P);D.tag=1,D.payload=h,x!=null&&(D.callback=x),Mo(f,D),h=Lr(f,P,M),h!==null&&Qc(h,f,P)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var x=un(),M=ts(f),P=Ns(x,M);P.tag=2,h!=null&&(P.callback=h),Mo(f,P),h=Lr(f,M,x),h!==null&&Qc(h,f,M)}};function th(f,h,x,M,P,D,X){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,D,X):h.prototype&&h.prototype.isPureReactComponent?!Xi(x,M)||!Xi(P,D):!0}function xm(f,h,x){var M=!1,P=Fn,D=h.contextType;return typeof D=="object"&&D!==null?D=Zr(D):(P=xr(h)?Os:dn.current,M=h.contextTypes,D=(M=M!=null)?Pi(f,P):Fn),h=new h(x,D),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ef,f.stateNode=h,h._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=P,f.__reactInternalMemoizedMaskedChildContext=D),h}function _m(f,h,x,M){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,M),h.state!==f&&ef.enqueueReplaceState(h,h.state,null)}function nh(f,h,x,M){var P=f.stateNode;P.props=x,P.state=f.memoizedState,P.refs=vm,il(f);var D=h.contextType;typeof D=="object"&&D!==null?P.context=Zr(D):(D=xr(h)?Os:dn.current,P.context=Pi(f,D)),P.state=f.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(eh(f,h,D,x),P.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(h=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),h!==P.state&&ef.enqueueReplaceState(P,P.state,null),Zc(f,x,P,M),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308)}var sl=[],bo=0,tf=null,nf=0,ki=[],fi=0,qo=null,zs=1,Us="";function Zo(f,h){sl[bo++]=nf,sl[bo++]=tf,tf=f,nf=h}function wm(f,h,x){ki[fi++]=zs,ki[fi++]=Us,ki[fi++]=qo,qo=f;var M=zs;f=Us;var P=32-Bi(M)-1;M&=~(1<<P),x+=1;var D=32-Bi(h)+P;if(30<D){var X=P-P%5;D=(M&(1<<X)-1).toString(32),M>>=X,P-=X,zs=1<<32-Bi(h)+P|x<<P|M,Us=D+f}else zs=1<<D|x<<P|M,Us=f}function rh(f){f.return!==null&&(Zo(f,1),wm(f,1,0))}function ih(f){for(;f===tf;)tf=sl[--bo],sl[bo]=null,nf=sl[--bo],sl[bo]=null;for(;f===qo;)qo=ki[--fi],ki[fi]=null,Us=ki[--fi],ki[fi]=null,zs=ki[--fi],ki[fi]=null}var Vr=null,_r=null,Rn=!1,ol=!1,Fi=null;function sh(f,h){var x=vi(5,null,null,0);x.elementType="DELETED",x.stateNode=h,x.return=f,h=f.deletions,h===null?(f.deletions=[x],f.flags|=16):h.push(x)}function oh(f,h){switch(f.tag){case 5:return h=In(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,Vr=f,_r=Re(h),!0):!1;case 6:return h=qa(h,f.pendingProps),h!==null?(f.stateNode=h,Vr=f,_r=null,!0):!1;case 13:if(h=jo(h),h!==null){var x=qo!==null?{id:zs,overflow:Us}:null;return f.memoizedState={dehydrated:h,treeContext:x,retryLane:1073741824},x=vi(18,null,null,0),x.stateNode=h,x.return=f,f.child=x,Vr=f,_r=null,!0}return!1;default:return!1}}function rf(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Eo(f){if(Rn){var h=_r;if(h){var x=h;if(!oh(f,h)){if(rf(f))throw Error(o(418));h=ye(x);var M=Vr;h&&oh(f,h)?sh(M,x):(f.flags=f.flags&-4097|2,Rn=!1,Vr=f)}}else{if(rf(f))throw Error(o(418));f.flags=f.flags&-4097|2,Rn=!1,Vr=f}}}function Sm(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Vr=f}function mu(f){if(!Ae||f!==Vr)return!1;if(!Rn)return Sm(f),Rn=!0,!1;if(f.tag!==3&&(f.tag!==5||Pr(f.type)&&!Pe(f.type,f.memoizedProps))){var h=_r;if(h){if(rf(f)){for(f=_r;f;)f=ye(f);throw Error(o(418))}for(;h;)sh(f,h),h=ye(h)}}if(Sm(f),f.tag===13){if(!Ae)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));_r=Vt(f)}else _r=Vr?ye(f.stateNode):null;return!0}function al(){Ae&&(_r=Vr=null,ol=Rn=!1)}function sf(f){Fi===null?Fi=[f]:Fi.push(f)}function ll(f,h,x){if(f=x.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(o(309));var M=x.stateNode}if(!M)throw Error(o(147,f));var P=M,D=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===D?h.ref:(h=function(X){var oe=P.refs;oe===vm&&(oe=P.refs={}),X===null?delete oe[D]:oe[D]=X},h._stringRef=D,h)}if(typeof f!="string")throw Error(o(284));if(!x._owner)throw Error(o(290,f))}return f}function Co(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function ul(f){var h=f._init;return h(f._payload)}function Am(f){function h(xe,ue){if(f){var be=xe.deletions;be===null?(xe.deletions=[ue],xe.flags|=16):be.push(ue)}}function x(xe,ue){if(!f)return null;for(;ue!==null;)h(xe,ue),ue=ue.sibling;return null}function M(xe,ue){for(xe=new Map;ue!==null;)ue.key!==null?xe.set(ue.key,ue):xe.set(ue.index,ue),ue=ue.sibling;return xe}function P(xe,ue){return xe=eo(xe,ue),xe.index=0,xe.sibling=null,xe}function D(xe,ue,be){return xe.index=be,f?(be=xe.alternate,be!==null?(be=be.index,be<ue?(xe.flags|=2,ue):be):(xe.flags|=2,ue)):(xe.flags|=1048576,ue)}function X(xe){return f&&xe.alternate===null&&(xe.flags|=2),xe}function oe(xe,ue,be,Ze){return ue===null||ue.tag!==6?(ue=If(be,xe.mode,Ze),ue.return=xe,ue):(ue=P(ue,be),ue.return=xe,ue)}function Ee(xe,ue,be,Ze){var xt=be.type;return xt===p?ot(xe,ue,be.props.children,Ze,be.key):ue!==null&&(ue.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===T&&ul(xt)===ue.type)?(Ze=P(ue,be.props),Ze.ref=ll(xe,ue,be),Ze.return=xe,Ze):(Ze=Bf(be.type,be.key,be.props,null,xe.mode,Ze),Ze.ref=ll(xe,ue,be),Ze.return=xe,Ze)}function je(xe,ue,be,Ze){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==be.containerInfo||ue.stateNode.implementation!==be.implementation?(ue=Lf(be,xe.mode,Ze),ue.return=xe,ue):(ue=P(ue,be.children||[]),ue.return=xe,ue)}function ot(xe,ue,be,Ze,xt){return ue===null||ue.tag!==7?(ue=wa(be,xe.mode,Ze,xt),ue.return=xe,ue):(ue=P(ue,be),ue.return=xe,ue)}function Ot(xe,ue,be){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=If(""+ue,xe.mode,be),ue.return=xe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case c:return be=Bf(ue.type,ue.key,ue.props,null,xe.mode,be),be.ref=ll(xe,null,ue),be.return=xe,be;case d:return ue=Lf(ue,xe.mode,be),ue.return=xe,ue;case T:var Ze=ue._init;return Ot(xe,Ze(ue._payload),be)}if(le(ue)||O(ue))return ue=wa(ue,xe.mode,be,null),ue.return=xe,ue;Co(xe,ue)}return null}function bt(xe,ue,be,Ze){var xt=ue!==null?ue.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return xt!==null?null:oe(xe,ue,""+be,Ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case c:return be.key===xt?Ee(xe,ue,be,Ze):null;case d:return be.key===xt?je(xe,ue,be,Ze):null;case T:return xt=be._init,bt(xe,ue,xt(be._payload),Ze)}if(le(be)||O(be))return xt!==null?null:ot(xe,ue,be,Ze,null);Co(xe,be)}return null}function jt(xe,ue,be,Ze,xt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return xe=xe.get(be)||null,oe(ue,xe,""+Ze,xt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case c:return xe=xe.get(Ze.key===null?be:Ze.key)||null,Ee(ue,xe,Ze,xt);case d:return xe=xe.get(Ze.key===null?be:Ze.key)||null,je(ue,xe,Ze,xt);case T:var Ft=Ze._init;return jt(xe,ue,be,Ft(Ze._payload),xt)}if(le(Ze)||O(Ze))return xe=xe.get(be)||null,ot(ue,xe,Ze,xt,null);Co(ue,Ze)}return null}function rt(xe,ue,be,Ze){for(var xt=null,Ft=null,kt=ue,sn=ue=0,Yn=null;kt!==null&&sn<be.length;sn++){kt.index>sn?(Yn=kt,kt=null):Yn=kt.sibling;var rn=bt(xe,kt,be[sn],Ze);if(rn===null){kt===null&&(kt=Yn);break}f&&kt&&rn.alternate===null&&h(xe,kt),ue=D(rn,ue,sn),Ft===null?xt=rn:Ft.sibling=rn,Ft=rn,kt=Yn}if(sn===be.length)return x(xe,kt),Rn&&Zo(xe,sn),xt;if(kt===null){for(;sn<be.length;sn++)kt=Ot(xe,be[sn],Ze),kt!==null&&(ue=D(kt,ue,sn),Ft===null?xt=kt:Ft.sibling=kt,Ft=kt);return Rn&&Zo(xe,sn),xt}for(kt=M(xe,kt);sn<be.length;sn++)Yn=jt(kt,xe,sn,be[sn],Ze),Yn!==null&&(f&&Yn.alternate!==null&&kt.delete(Yn.key===null?sn:Yn.key),ue=D(Yn,ue,sn),Ft===null?xt=Yn:Ft.sibling=Yn,Ft=Yn);return f&&kt.forEach(function(to){return h(xe,to)}),Rn&&Zo(xe,sn),xt}function br(xe,ue,be,Ze){var xt=O(be);if(typeof xt!="function")throw Error(o(150));if(be=xt.call(be),be==null)throw Error(o(151));for(var Ft=xt=null,kt=ue,sn=ue=0,Yn=null,rn=be.next();kt!==null&&!rn.done;sn++,rn=be.next()){kt.index>sn?(Yn=kt,kt=null):Yn=kt.sibling;var to=bt(xe,kt,rn.value,Ze);if(to===null){kt===null&&(kt=Yn);break}f&&kt&&to.alternate===null&&h(xe,kt),ue=D(to,ue,sn),Ft===null?xt=to:Ft.sibling=to,Ft=to,kt=Yn}if(rn.done)return x(xe,kt),Rn&&Zo(xe,sn),xt;if(kt===null){for(;!rn.done;sn++,rn=be.next())rn=Ot(xe,rn.value,Ze),rn!==null&&(ue=D(rn,ue,sn),Ft===null?xt=rn:Ft.sibling=rn,Ft=rn);return Rn&&Zo(xe,sn),xt}for(kt=M(xe,kt);!rn.done;sn++,rn=be.next())rn=jt(kt,xe,sn,rn.value,Ze),rn!==null&&(f&&rn.alternate!==null&&kt.delete(rn.key===null?sn:rn.key),ue=D(rn,ue,sn),Ft===null?xt=rn:Ft.sibling=rn,Ft=rn);return f&&kt.forEach(function(Fh){return h(xe,Fh)}),Rn&&Zo(xe,sn),xt}function xi(xe,ue,be,Ze){if(typeof be=="object"&&be!==null&&be.type===p&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case c:e:{for(var xt=be.key,Ft=ue;Ft!==null;){if(Ft.key===xt){if(xt=be.type,xt===p){if(Ft.tag===7){x(xe,Ft.sibling),ue=P(Ft,be.props.children),ue.return=xe,xe=ue;break e}}else if(Ft.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===T&&ul(xt)===Ft.type){x(xe,Ft.sibling),ue=P(Ft,be.props),ue.ref=ll(xe,Ft,be),ue.return=xe,xe=ue;break e}x(xe,Ft);break}else h(xe,Ft);Ft=Ft.sibling}be.type===p?(ue=wa(be.props.children,xe.mode,Ze,be.key),ue.return=xe,xe=ue):(Ze=Bf(be.type,be.key,be.props,null,xe.mode,Ze),Ze.ref=ll(xe,ue,be),Ze.return=xe,xe=Ze)}return X(xe);case d:e:{for(Ft=be.key;ue!==null;){if(ue.key===Ft)if(ue.tag===4&&ue.stateNode.containerInfo===be.containerInfo&&ue.stateNode.implementation===be.implementation){x(xe,ue.sibling),ue=P(ue,be.children||[]),ue.return=xe,xe=ue;break e}else{x(xe,ue);break}else h(xe,ue);ue=ue.sibling}ue=Lf(be,xe.mode,Ze),ue.return=xe,xe=ue}return X(xe);case T:return Ft=be._init,xi(xe,ue,Ft(be._payload),Ze)}if(le(be))return rt(xe,ue,be,Ze);if(O(be))return br(xe,ue,be,Ze);Co(xe,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,ue!==null&&ue.tag===6?(x(xe,ue.sibling),ue=P(ue,be),ue.return=xe,xe=ue):(x(xe,ue),ue=If(be,xe.mode,Ze),ue.return=xe,xe=ue),X(xe)):x(xe,ue)}return xi}var Hs=Am(!0),Mm=Am(!1),cl={},ei=Ur(cl),ea=Ur(cl),ta=Ur(cl);function Ki(f){if(f===cl)throw Error(o(174));return f}function of(f,h){nn(ta,h),nn(ea,f),nn(ei,cl),f=de(h),Ct(ei),nn(ei,f)}function fl(){Ct(ei),Ct(ea),Ct(ta)}function bm(f){var h=Ki(ta.current),x=Ki(ei.current);h=z(x,f.type,h),x!==h&&(nn(ea,f),nn(ei,h))}function ah(f){ea.current===f&&(Ct(ei),Ct(ea))}var On=Ur(0);function af(f){for(var h=f;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||zc(x)||Is(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var di=[];function na(){for(var f=0;f<di.length;f++){var h=di[f];Ue?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}di.length=0}var gu=l.ReactCurrentDispatcher,hi=l.ReactCurrentBatchConfig,ra=0,kn=null,cr=null,fr=null,lf=!1,ms=!1,ia=0,yu=0;function dr(){throw Error(o(321))}function uf(f,h){if(h===null)return!1;for(var x=0;x<h.length&&x<f.length;x++)if(!Hr(f[x],h[x]))return!1;return!0}function dl(f,h,x,M,P,D){if(ra=D,kn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,gu.current=f===null||f.memoizedState===null?hh:ph,f=x(M,P),ms){D=0;do{if(ms=!1,ia=0,25<=D)throw Error(o(301));D+=1,fr=cr=null,h.updateQueue=null,gu.current=mh,f=x(M,P)}while(ms)}if(gu.current=gl,h=cr!==null&&cr.next!==null,ra=0,fr=cr=kn=null,lf=!1,h)throw Error(o(300));return f}function To(){var f=ia!==0;return ia=0,f}function Yi(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?kn.memoizedState=fr=f:fr=fr.next=f,fr}function Qi(){if(cr===null){var f=kn.alternate;f=f!==null?f.memoizedState:null}else f=cr.next;var h=fr===null?kn.memoizedState:fr.next;if(h!==null)fr=h,cr=f;else{if(f===null)throw Error(o(310));cr=f,f={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},fr===null?kn.memoizedState=fr=f:fr=fr.next=f}return fr}function gs(f,h){return typeof h=="function"?h(f):h}function vu(f){var h=Qi(),x=h.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=f;var M=cr,P=M.baseQueue,D=x.pending;if(D!==null){if(P!==null){var X=P.next;P.next=D.next,D.next=X}M.baseQueue=P=D,x.pending=null}if(P!==null){D=P.next,M=M.baseState;var oe=X=null,Ee=null,je=D;do{var ot=je.lane;if((ra&ot)===ot)Ee!==null&&(Ee=Ee.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),M=je.hasEagerState?je.eagerState:f(M,je.action);else{var Ot={lane:ot,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};Ee===null?(oe=Ee=Ot,X=M):Ee=Ee.next=Ot,kn.lanes|=ot,vs|=ot}je=je.next}while(je!==null&&je!==D);Ee===null?X=M:Ee.next=oe,Hr(M,h.memoizedState)||(hr=!0),h.memoizedState=M,h.baseState=X,h.baseQueue=Ee,x.lastRenderedState=M}if(f=x.interleaved,f!==null){P=f;do D=P.lane,kn.lanes|=D,vs|=D,P=P.next;while(P!==f)}else P===null&&(x.lanes=0);return[h.memoizedState,x.dispatch]}function xu(f){var h=Qi(),x=h.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=f;var M=x.dispatch,P=x.pending,D=h.memoizedState;if(P!==null){x.pending=null;var X=P=P.next;do D=f(D,X.action),X=X.next;while(X!==P);Hr(D,h.memoizedState)||(hr=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),x.lastRenderedState=D}return[D,M]}function lh(){}function uh(f,h){var x=kn,M=Qi(),P=h(),D=!Hr(M.memoizedState,P);if(D&&(M.memoizedState=P,hr=!0),M=M.queue,hl(Gs.bind(null,x,M,f),[f]),M.getSnapshot!==h||D||fr!==null&&fr.memoizedState.tag&1){if(x.flags|=2048,wu(9,fh.bind(null,x,M,P,h),void 0,null),Vn===null)throw Error(o(349));ra&30||ch(x,h,P)}return P}function ch(f,h,x){f.flags|=16384,f={getSnapshot:h,value:x},h=kn.updateQueue,h===null?(h={lastEffect:null,stores:null},kn.updateQueue=h,h.stores=[f]):(x=h.stores,x===null?h.stores=[f]:x.push(f))}function fh(f,h,x,M){h.value=x,h.getSnapshot=M,cf(h)&&Lr(f,1,-1)}function Gs(f,h,x){return x(function(){cf(h)&&Lr(f,1,-1)})}function cf(f){var h=f.getSnapshot;f=f.value;try{var x=h();return!Hr(f,x)}catch{return!0}}function _u(f){var h=Yi();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:f},h.queue=f,f=f.dispatch=_y.bind(null,kn,f),[h.memoizedState,f]}function wu(f,h,x,M){return f={tag:f,create:h,destroy:x,deps:M,next:null},h=kn.updateQueue,h===null?(h={lastEffect:null,stores:null},kn.updateQueue=h,h.lastEffect=f.next=f):(x=h.lastEffect,x===null?h.lastEffect=f.next=f:(M=x.next,x.next=f,f.next=M,h.lastEffect=f)),f}function Em(){return Qi().memoizedState}function Ro(f,h,x,M){var P=Yi();kn.flags|=f,P.memoizedState=wu(1|h,x,void 0,M===void 0?null:M)}function ff(f,h,x,M){var P=Qi();M=M===void 0?null:M;var D=void 0;if(cr!==null){var X=cr.memoizedState;if(D=X.destroy,M!==null&&uf(M,X.deps)){P.memoizedState=wu(h,x,D,M);return}}kn.flags|=f,P.memoizedState=wu(1|h,x,D,M)}function df(f,h){return Ro(8390656,8,f,h)}function hl(f,h){return ff(2048,8,f,h)}function _n(f,h){return ff(4,2,f,h)}function hf(f,h){return ff(4,4,f,h)}function Su(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function pl(f,h,x){return x=x!=null?x.concat([f]):null,ff(4,4,Su.bind(null,h,f),x)}function pf(){}function mf(f,h){var x=Qi();h=h===void 0?null:h;var M=x.memoizedState;return M!==null&&h!==null&&uf(h,M[1])?M[0]:(x.memoizedState=[f,h],f)}function ml(f,h){var x=Qi();h=h===void 0?null:h;var M=x.memoizedState;return M!==null&&h!==null&&uf(h,M[1])?M[0]:(f=f(),x.memoizedState=[f,h],f)}function gf(f,h){var x=$t;$t=x!==0&&4>x?x:4,f(!0);var M=hi.transition;hi.transition={};try{f(!1),h()}finally{$t=x,hi.transition=M}}function sa(){return Qi().memoizedState}function Cm(f,h,x){var M=ts(f);x={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null},Tm(f)?dh(h,x):(Au(f,h,x),x=un(),f=Lr(f,M,x),f!==null&&Mu(f,h,M))}function _y(f,h,x){var M=ts(f),P={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null};if(Tm(f))dh(h,P);else{Au(f,h,P);var D=f.alternate;if(f.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var X=h.lastRenderedState,oe=D(X,x);if(P.hasEagerState=!0,P.eagerState=oe,Hr(oe,X))return}catch{}finally{}x=un(),f=Lr(f,M,x),f!==null&&Mu(f,h,M)}}function Tm(f){var h=f.alternate;return f===kn||h!==null&&h===kn}function dh(f,h){ms=lf=!0;var x=f.pending;x===null?h.next=h:(h.next=x.next,x.next=h),f.pending=h}function Au(f,h,x){Vn!==null&&f.mode&1&&!(Ut&2)?(f=h.interleaved,f===null?(x.next=x,Di===null?Di=[h]:Di.push(h)):(x.next=f.next,f.next=x),h.interleaved=x):(f=h.pending,f===null?x.next=x:(x.next=f.next,f.next=x),h.pending=x)}function Mu(f,h,x){if(x&4194240){var M=h.lanes;M&=f.pendingLanes,x|=M,h.lanes=x,hs(f,x)}}var gl={readContext:Zr,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},hh={readContext:Zr,useCallback:function(f,h){return Yi().memoizedState=[f,h===void 0?null:h],f},useContext:Zr,useEffect:df,useImperativeHandle:function(f,h,x){return x=x!=null?x.concat([f]):null,Ro(4194308,4,Su.bind(null,h,f),x)},useLayoutEffect:function(f,h){return Ro(4194308,4,f,h)},useInsertionEffect:function(f,h){return Ro(4,2,f,h)},useMemo:function(f,h){var x=Yi();return h=h===void 0?null:h,f=f(),x.memoizedState=[f,h],f},useReducer:function(f,h,x){var M=Yi();return h=x!==void 0?x(h):h,M.memoizedState=M.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},M.queue=f,f=f.dispatch=Cm.bind(null,kn,f),[M.memoizedState,f]},useRef:function(f){var h=Yi();return f={current:f},h.memoizedState=f},useState:_u,useDebugValue:pf,useDeferredValue:function(f){var h=_u(f),x=h[0],M=h[1];return df(function(){var P=hi.transition;hi.transition={};try{M(f)}finally{hi.transition=P}},[f]),x},useTransition:function(){var f=_u(!1),h=f[0];return f=gf.bind(null,f[1]),Yi().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,x){var M=kn,P=Yi();if(Rn){if(x===void 0)throw Error(o(407));x=x()}else{if(x=h(),Vn===null)throw Error(o(349));ra&30||ch(M,h,x)}P.memoizedState=x;var D={value:x,getSnapshot:h};return P.queue=D,df(Gs.bind(null,M,D,f),[f]),M.flags|=2048,wu(9,fh.bind(null,M,D,x,h),void 0,null),x},useId:function(){var f=Yi(),h=Vn.identifierPrefix;if(Rn){var x=Us,M=zs;x=(M&~(1<<32-Bi(M)-1)).toString(32)+x,h=":"+h+"R"+x,x=ia++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=yu++,h=":"+h+"r"+x.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},ph={readContext:Zr,useCallback:mf,useContext:Zr,useEffect:hl,useImperativeHandle:pl,useInsertionEffect:_n,useLayoutEffect:hf,useMemo:ml,useReducer:vu,useRef:Em,useState:function(){return vu(gs)},useDebugValue:pf,useDeferredValue:function(f){var h=vu(gs),x=h[0],M=h[1];return hl(function(){var P=hi.transition;hi.transition={};try{M(f)}finally{hi.transition=P}},[f]),x},useTransition:function(){var f=vu(gs)[0],h=Qi().memoizedState;return[f,h]},useMutableSource:lh,useSyncExternalStore:uh,useId:sa,unstable_isNewReconciler:!1},mh={readContext:Zr,useCallback:mf,useContext:Zr,useEffect:hl,useImperativeHandle:pl,useInsertionEffect:_n,useLayoutEffect:hf,useMemo:ml,useReducer:xu,useRef:Em,useState:function(){return xu(gs)},useDebugValue:pf,useDeferredValue:function(f){var h=xu(gs),x=h[0],M=h[1];return hl(function(){var P=hi.transition;hi.transition={};try{M(f)}finally{hi.transition=P}},[f]),x},useTransition:function(){var f=xu(gs)[0],h=Qi().memoizedState;return[f,h]},useMutableSource:lh,useSyncExternalStore:uh,useId:sa,unstable_isNewReconciler:!1};function gh(f,h){try{var x="",M=h;do x+=qd(M),M=M.return;while(M);var P=x}catch(D){P=`
Error generating stack: `+D.message+`
`+D.stack}return{value:f,source:h,stack:P}}function yf(f,h){try{console.error(h.value)}catch(x){setTimeout(function(){throw x})}}var wy=typeof WeakMap=="function"?WeakMap:Map;function Rm(f,h,x){x=Ns(-1,x),x.tag=3,x.payload={element:null};var M=h.value;return x.callback=function(){Sl||(Sl=!0,Cn=M),yf(f,h)},x}function vf(f,h,x){x=Ns(-1,x),x.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var P=h.value;x.payload=function(){return M(P)},x.callback=function(){yf(f,h)}}var D=f.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(x.callback=function(){yf(f,h),typeof M!="function"&&(es===null?es=new Set([this]):es.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),x}function Vs(f,h,x){var M=f.pingCache;if(M===null){M=f.pingCache=new wy;var P=new Set;M.set(h,P)}else P=M.get(h),P===void 0&&(P=new Set,M.set(h,P));P.has(x)||(P.add(x),f=Dh.bind(null,f,h,x),h.then(f,f))}function yh(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function oa(f,h,x,M,P){return f.mode&1?(f.flags|=65536,f.lanes=P,f):(f===h?f.flags|=65536:(f.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(h=Ns(-1,1),h.tag=2,Mo(x,h))),x.lanes|=1),f)}function sr(f){f.flags|=4}function yl(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var pi,aa,xf,_f;if(ht)pi=function(f,h){for(var x=h.child;x!==null;){if(x.tag===5||x.tag===6)j(f,x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},aa=function(){},xf=function(f,h,x,M,P){if(f=f.memoizedProps,f!==M){var D=h.stateNode,X=Ki(ei.current);x=_e(D,x,f,M,P,X),(h.updateQueue=x)&&sr(h)}},_f=function(f,h,x,M){x!==M&&sr(h)};else if(Te){pi=function(f,h,x,M){for(var P=h.child;P!==null;){if(P.tag===5){var D=P.stateNode;x&&M&&(D=Zt(D,P.type,P.memoizedProps,P)),j(f,D)}else if(P.tag===6)D=P.stateNode,x&&M&&(D=rr(D,P.memoizedProps,P)),j(f,D);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)D=P.child,D!==null&&(D.return=P),pi(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var Po=function(f,h,x,M){for(var P=h.child;P!==null;){if(P.tag===5){var D=P.stateNode;x&&M&&(D=Zt(D,P.type,P.memoizedProps,P)),an(f,D)}else if(P.tag===6)D=P.stateNode,x&&M&&(D=rr(D,P.memoizedProps,P)),an(f,D);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)D=P.child,D!==null&&(D.return=P),Po(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};aa=function(f,h){var x=h.stateNode;if(!yl(f,h)){f=x.containerInfo;var M=Kt(f);Po(M,h,!1,!1),x.pendingChildren=M,sr(h),mn(f,M)}},xf=function(f,h,x,M,P){var D=f.stateNode,X=f.memoizedProps;if((f=yl(f,h))&&X===M)h.stateNode=D;else{var oe=h.stateNode,Ee=Ki(ei.current),je=null;X!==M&&(je=_e(oe,x,X,M,P,Ee)),f&&je===null?h.stateNode=D:(D=vt(D,je,x,X,M,h,f,oe),ge(D,x,M,P,Ee)&&sr(h),h.stateNode=D,f?sr(h):pi(D,h,!1,!1))}},_f=function(f,h,x,M){x!==M?(f=Ki(ta.current),x=Ki(ei.current),h.stateNode=fe(M,f,x,h),sr(h)):h.stateNode=f.stateNode}}else aa=function(){},xf=function(){},_f=function(){};function Ws(f,h){if(!Rn)switch(f.tailMode){case"hidden":h=f.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Gn(f){var h=f.alternate!==null&&f.alternate.child===f.child,x=0,M=0;if(h)for(var P=f.child;P!==null;)x|=P.lanes|P.childLanes,M|=P.subtreeFlags&14680064,M|=P.flags&14680064,P.return=f,P=P.sibling;else for(P=f.child;P!==null;)x|=P.lanes|P.childLanes,M|=P.subtreeFlags,M|=P.flags,P.return=f,P=P.sibling;return f.subtreeFlags|=M,f.childLanes=x,h}function wf(f,h,x){var M=h.pendingProps;switch(ih(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(h),null;case 1:return xr(h.type)&&So(),Gn(h),null;case 3:return M=h.stateNode,fl(),Ct(ur),Ct(dn),na(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(mu(h)?sr(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Fi!==null&&(Fu(Fi),Fi=null))),aa(f,h),Gn(h),null;case 5:ah(h),x=Ki(ta.current);var P=h.type;if(f!==null&&h.stateNode!=null)xf(f,h,P,M,x),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!M){if(h.stateNode===null)throw Error(o(166));return Gn(h),null}if(f=Ki(ei.current),mu(h)){if(!Ae)throw Error(o(175));f=Mt(h.stateNode,h.type,h.memoizedProps,x,f,h,!ol),h.updateQueue=f,f!==null&&sr(h)}else{var D=U(P,M,x,f,h);pi(D,h,!1,!1),h.stateNode=D,ge(D,P,M,x,f)&&sr(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Gn(h),null;case 6:if(f&&h.stateNode!=null)_f(f,h,f.memoizedProps,M);else{if(typeof M!="string"&&h.stateNode===null)throw Error(o(166));if(f=Ki(ta.current),x=Ki(ei.current),mu(h)){if(!Ae)throw Error(o(176));if(f=h.stateNode,M=h.memoizedProps,(x=Et(f,M,h,!ol))&&(P=Vr,P!==null))switch(D=(P.mode&1)!==0,P.tag){case 3:$i(P.stateNode.containerInfo,f,M,D);break;case 5:Ls(P.type,P.memoizedProps,P.stateNode,f,M,D)}x&&sr(h)}else h.stateNode=fe(M,f,x,h)}return Gn(h),null;case 13:if(Ct(On),M=h.memoizedState,Rn&&_r!==null&&h.mode&1&&!(h.flags&128)){for(f=_r;f;)f=ye(f);return al(),h.flags|=98560,h}if(M!==null&&M.dehydrated!==null){if(M=mu(h),f===null){if(!M)throw Error(o(318));if(!Ae)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));zt(f,h)}else al(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Gn(h),null}return Fi!==null&&(Fu(Fi),Fi=null),h.flags&128?(h.lanes=x,h):(M=M!==null,x=!1,f===null?mu(h):x=f.memoizedState!==null,M&&!x&&(h.child.flags|=8192,h.mode&1&&(f===null||On.current&1?zn===0&&(zn=3):Tf())),h.updateQueue!==null&&(h.flags|=4),Gn(h),null);case 4:return fl(),aa(f,h),f===null&&et(h.stateNode.containerInfo),Gn(h),null;case 10:return pu(h.type._context),Gn(h),null;case 17:return xr(h.type)&&So(),Gn(h),null;case 19:if(Ct(On),P=h.memoizedState,P===null)return Gn(h),null;if(M=(h.flags&128)!==0,D=P.rendering,D===null)if(M)Ws(P,!1);else{if(zn!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(D=af(f),D!==null){for(h.flags|=128,Ws(P,!1),f=D.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=x,M=h.child;M!==null;)x=M,P=f,x.flags&=14680066,D=x.alternate,D===null?(x.childLanes=0,x.lanes=P,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=D.childLanes,x.lanes=D.lanes,x.child=D.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=D.memoizedProps,x.memoizedState=D.memoizedState,x.updateQueue=D.updateQueue,x.type=D.type,P=D.dependencies,x.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),M=M.sibling;return nn(On,On.current&1|2),h.child}f=f.sibling}P.tail!==null&&ir()>Lo&&(h.flags|=128,M=!0,Ws(P,!1),h.lanes=4194304)}else{if(!M)if(f=af(D),f!==null){if(h.flags|=128,M=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),Ws(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!Rn)return Gn(h),null}else 2*ir()-P.renderingStartTime>Lo&&x!==1073741824&&(h.flags|=128,M=!0,Ws(P,!1),h.lanes=4194304);P.isBackwards?(D.sibling=h.child,h.child=D):(f=P.last,f!==null?f.sibling=D:h.child=D,P.last=D)}return P.tail!==null?(h=P.tail,P.rendering=h,P.tail=h.sibling,P.renderingStartTime=ir(),h.sibling=null,f=On.current,nn(On,M?f&1|2:f&1),h):(Gn(h),null);case 22:case 23:return Nu(),M=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(h.flags|=8192),M&&h.mode&1?Ir&1073741824&&(Gn(h),ht&&h.subtreeFlags&6&&(h.flags|=8192)):Gn(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var vh=l.ReactCurrentOwner,hr=!1;function Nn(f,h,x,M){h.child=f===null?Mm(h,null,x,M):Hs(h,f.child,x,M)}function wn(f,h,x,M,P){x=x.render;var D=h.ref;return rl(h,P),M=dl(f,h,x,M,D,P),x=To(),f!==null&&!hr?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~P,ti(f,h,P)):(Rn&&x&&rh(h),h.flags|=1,Nn(f,h,M,P),h.child)}function vn(f,h,x,M,P){if(f===null){var D=x.type;return typeof D=="function"&&!Pf(D)&&D.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(h.tag=15,h.type=D,js(f,h,D,M,P)):(f=Bf(x.type,null,M,h,h.mode,P),f.ref=h.ref,f.return=h,h.child=f)}if(D=f.child,!(f.lanes&P)){var X=D.memoizedProps;if(x=x.compare,x=x!==null?x:Xi,x(X,M)&&f.ref===h.ref)return ti(f,h,P)}return h.flags|=1,f=eo(D,M),f.ref=h.ref,f.return=h,h.child=f}function js(f,h,x,M,P){if(f!==null&&Xi(f.memoizedProps,M)&&f.ref===h.ref)if(hr=!1,(f.lanes&P)!==0)f.flags&131072&&(hr=!0);else return h.lanes=f.lanes,ti(f,h,P);return Js(f,h,x,M,P)}function wr(f,h,x){var M=h.pendingProps,P=M.children,D=f!==null?f.memoizedState:null;if(M.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},nn(ga,Ir),Ir|=x;else if(x&1073741824)h.memoizedState={baseLanes:0,cachePool:null},M=D!==null?D.baseLanes:x,nn(ga,Ir),Ir|=M;else return f=D!==null?D.baseLanes|x:x,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,nn(ga,Ir),Ir|=f,null;else D!==null?(M=D.baseLanes|x,h.memoizedState=null):M=x,nn(ga,Ir),Ir|=M;return Nn(f,h,P,x),h.child}function Wr(f,h){var x=h.ref;(f===null&&x!==null||f!==null&&f.ref!==x)&&(h.flags|=512,h.flags|=2097152)}function Js(f,h,x,M,P){var D=xr(x)?Os:dn.current;return D=Pi(h,D),rl(h,P),x=dl(f,h,x,M,D,P),M=To(),f!==null&&!hr?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~P,ti(f,h,P)):(Rn&&M&&rh(h),h.flags|=1,Nn(f,h,x,P),h.child)}function la(f,h,x,M,P){if(xr(x)){var D=!0;Uc(h)}else D=!1;if(rl(h,P),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),xm(h,x,M),nh(h,x,M,P),M=!0;else if(f===null){var X=h.stateNode,oe=h.memoizedProps;X.props=oe;var Ee=X.context,je=x.contextType;typeof je=="object"&&je!==null?je=Zr(je):(je=xr(x)?Os:dn.current,je=Pi(h,je));var ot=x.getDerivedStateFromProps,Ot=typeof ot=="function"||typeof X.getSnapshotBeforeUpdate=="function";Ot||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(oe!==M||Ee!==je)&&_m(h,X,M,je),Oi=!1;var bt=h.memoizedState;X.state=bt,Zc(h,M,X,P),Ee=h.memoizedState,oe!==M||bt!==Ee||ur.current||Oi?(typeof ot=="function"&&(eh(h,x,ot,M),Ee=h.memoizedState),(oe=Oi||th(h,x,oe,M,bt,Ee,je))?(Ot||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=Ee),X.props=M,X.state=Ee,X.context=je,M=oe):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{X=h.stateNode,Zd(f,h),oe=h.memoizedProps,je=h.type===h.elementType?oe:qr(h.type,oe),X.props=je,Ot=h.pendingProps,bt=X.context,Ee=x.contextType,typeof Ee=="object"&&Ee!==null?Ee=Zr(Ee):(Ee=xr(x)?Os:dn.current,Ee=Pi(h,Ee));var jt=x.getDerivedStateFromProps;(ot=typeof jt=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(oe!==Ot||bt!==Ee)&&_m(h,X,M,Ee),Oi=!1,bt=h.memoizedState,X.state=bt,Zc(h,M,X,P);var rt=h.memoizedState;oe!==Ot||bt!==rt||ur.current||Oi?(typeof jt=="function"&&(eh(h,x,jt,M),rt=h.memoizedState),(je=Oi||th(h,x,je,M,bt,rt,Ee)||!1)?(ot||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(M,rt,Ee),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(M,rt,Ee)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||oe===f.memoizedProps&&bt===f.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||oe===f.memoizedProps&&bt===f.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=rt),X.props=M,X.state=rt,X.context=Ee,M=je):(typeof X.componentDidUpdate!="function"||oe===f.memoizedProps&&bt===f.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||oe===f.memoizedProps&&bt===f.memoizedState||(h.flags|=1024),M=!1)}return Br(f,h,x,M,D,P)}function Br(f,h,x,M,P,D){Wr(f,h);var X=(h.flags&128)!==0;if(!M&&!X)return P&&Hc(h,x,!1),ti(f,h,D);M=h.stateNode,vh.current=h;var oe=X&&typeof x.getDerivedStateFromError!="function"?null:M.render();return h.flags|=1,f!==null&&X?(h.child=Hs(h,f.child,null,D),h.child=Hs(h,null,oe,D)):Nn(f,h,oe,D),h.memoizedState=M.state,P&&Hc(h,x,!0),h.child}function bu(f){var h=f.stateNode;h.pendingContext?au(f,h.pendingContext,h.pendingContext!==h.context):h.context&&au(f,h.context,!1),of(f,h.containerInfo)}function xh(f,h,x,M,P){return al(),sf(P),h.flags|=256,Nn(f,h,x,M),h.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function ua(f){return{baseLanes:f,cachePool:null}}function _h(f,h,x){var M=h.pendingProps,P=On.current,D=!1,X=(h.flags&128)!==0,oe;if((oe=X)||(oe=f!==null&&f.memoizedState===null?!1:(P&2)!==0),oe?(D=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(P|=1),nn(On,P&1),f===null)return Eo(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?Is(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(P=M.children,f=M.fallback,D?(M=h.mode,D=h.child,P={mode:"hidden",children:P},!(M&1)&&D!==null?(D.childLanes=0,D.pendingProps=P):D=Hu(P,M,0,null),f=wa(f,M,x,null),D.return=h,f.return=h,D.sibling=f,h.child=D,h.child.memoizedState=ua(x),h.memoizedState=Eu,f):qi(h,P));if(P=f.memoizedState,P!==null){if(oe=P.dehydrated,oe!==null){if(X)return h.flags&256?(h.flags&=-257,Tu(f,h,x,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(D=M.fallback,P=h.mode,M=Hu({mode:"visible",children:M.children},P,0,null),D=wa(D,P,x,null),D.flags|=2,M.return=h,D.return=h,M.sibling=D,h.child=M,h.mode&1&&Hs(h,f.child,null,x),h.child.memoizedState=ua(x),h.memoizedState=Eu,D);if(!(h.mode&1))h=Tu(f,h,x,null);else if(Is(oe))h=Tu(f,h,x,Error(o(419)));else if(M=(x&f.childLanes)!==0,hr||M){if(M=Vn,M!==null){switch(x&-x){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}M=D&(M.suspendedLanes|x)?0:D,M!==0&&M!==P.retryLane&&(P.retryLane=M,Lr(f,M,-1))}Tf(),h=Tu(f,h,x,Error(o(421)))}else zc(oe)?(h.flags|=128,h.child=f.child,h=Dm.bind(null,f),J(oe,h),h=null):(x=P.treeContext,Ae&&(_r=Be(oe),Vr=h,Rn=!0,Fi=null,ol=!1,x!==null&&(ki[fi++]=zs,ki[fi++]=Us,ki[fi++]=qo,zs=x.id,Us=x.overflow,qo=h)),h=qi(h,h.pendingProps.children),h.flags|=4096);return h}return D?(M=Sf(f,h,M.children,M.fallback,x),D=h.child,P=f.child.memoizedState,D.memoizedState=P===null?ua(x):{baseLanes:P.baseLanes|x,cachePool:null},D.childLanes=f.childLanes&~x,h.memoizedState=Eu,M):(x=Cu(f,h,M.children,x),h.memoizedState=null,x)}return D?(M=Sf(f,h,M.children,M.fallback,x),D=h.child,P=f.child.memoizedState,D.memoizedState=P===null?ua(x):{baseLanes:P.baseLanes|x,cachePool:null},D.childLanes=f.childLanes&~x,h.memoizedState=Eu,M):(x=Cu(f,h,M.children,x),h.memoizedState=null,x)}function qi(f,h){return h=Hu({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function Cu(f,h,x,M){var P=f.child;return f=P.sibling,x=eo(P,{mode:"visible",children:x}),!(h.mode&1)&&(x.lanes=M),x.return=h,x.sibling=null,f!==null&&(M=h.deletions,M===null?(h.deletions=[f],h.flags|=16):M.push(f)),h.child=x}function Sf(f,h,x,M,P){var D=h.mode;f=f.child;var X=f.sibling,oe={mode:"hidden",children:x};return!(D&1)&&h.child!==f?(x=h.child,x.childLanes=0,x.pendingProps=oe,h.deletions=null):(x=eo(f,oe),x.subtreeFlags=f.subtreeFlags&14680064),X!==null?M=eo(X,M):(M=wa(M,D,P,null),M.flags|=2),M.return=h,x.return=h,x.sibling=M,h.child=x,M}function Tu(f,h,x,M){return M!==null&&sf(M),Hs(h,f.child,null,x),f=qi(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function Pm(f,h,x){f.lanes|=h;var M=f.alternate;M!==null&&(M.lanes|=h),Qo(f.return,h,x)}function ys(f,h,x,M,P){var D=f.memoizedState;D===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:P}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=M,D.tail=x,D.tailMode=P)}function ca(f,h,x){var M=h.pendingProps,P=M.revealOrder,D=M.tail;if(Nn(f,h,M.children,x),M=On.current,M&2)M=M&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Pm(f,x,h);else if(f.tag===19)Pm(f,x,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(nn(On,M),!(h.mode&1))h.memoizedState=null;else switch(P){case"forwards":for(x=h.child,P=null;x!==null;)f=x.alternate,f!==null&&af(f)===null&&(P=x),x=x.sibling;x=P,x===null?(P=h.child,h.child=null):(P=x.sibling,x.sibling=null),ys(h,!1,P,x,D);break;case"backwards":for(x=null,P=h.child,h.child=null;P!==null;){if(f=P.alternate,f!==null&&af(f)===null){h.child=P;break}f=P.sibling,P.sibling=x,x=P,P=f}ys(h,!0,x,null,D);break;case"together":ys(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ti(f,h,x){if(f!==null&&(h.dependencies=f.dependencies),vs|=h.lanes,!(x&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,x=eo(f,f.pendingProps),h.child=x,x.return=h;f.sibling!==null;)f=f.sibling,x=x.sibling=eo(f,f.pendingProps),x.return=h;x.sibling=null}return h.child}function Af(f,h,x){switch(h.tag){case 3:bu(h),al();break;case 5:bm(h);break;case 1:xr(h.type)&&Uc(h);break;case 4:of(h,h.stateNode.containerInfo);break;case 10:Yo(h,h.type._context,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(nn(On,On.current&1),h.flags|=128,null):x&h.child.childLanes?_h(f,h,x):(nn(On,On.current&1),f=ti(f,h,x),f!==null?f.sibling:null);nn(On,On.current&1);break;case 19:if(M=(x&h.childLanes)!==0,f.flags&128){if(M)return ca(f,h,x);h.flags|=128}var P=h.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),nn(On,On.current),M)break;return null;case 22:case 23:return h.lanes=0,wr(f,h,x)}return ti(f,h,x)}function Mf(f,h){switch(ih(h),h.tag){case 1:return xr(h.type)&&So(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return fl(),Ct(ur),Ct(dn),na(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return ah(h),null;case 13:if(Ct(On),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));al()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return Ct(On),null;case 4:return fl(),null;case 10:return pu(h.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var jr=!1,pr=!1,fa=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Ni(f,h){var x=f.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(M){$r(f,h,M)}else x.current=null}function $s(f,h,x){try{x()}catch(M){$r(f,h,M)}}var wh=!1;function Sh(f,h){for(K(f.containerInfo),Ke=h;Ke!==null;)if(f=Ke,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Ke=h;else for(;Ke!==null;){f=Ke;try{var x=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var M=x.memoizedProps,P=x.memoizedState,D=f.stateNode,X=D.getSnapshotBeforeUpdate(f.elementType===f.type?M:qr(f.type,M),P);D.__reactInternalSnapshotBeforeUpdate=X}break;case 3:ht&&Xe(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(oe){$r(f,f.return,oe)}if(h=f.sibling,h!==null){h.return=f.return,Ke=h;break}Ke=f.return}return x=wh,wh=!1,x}function Xs(f,h,x){var M=h.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var P=M=M.next;do{if((P.tag&f)===f){var D=P.destroy;P.destroy=void 0,D!==void 0&&$s(h,x,D)}P=P.next}while(P!==M)}}function Sr(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&f)===f){var M=x.create;x.destroy=M()}x=x.next}while(x!==h)}}function Jr(f){var h=f.ref;if(h!==null){var x=f.stateNode;switch(f.tag){case 5:f=he(x);break;default:f=x}typeof h=="function"?h(f):h.current=f}}function En(f,h,x){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(cu,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var M=f=f.next;do{var P=M,D=P.destroy;P=P.tag,D!==void 0&&(P&2||P&4)&&$s(h,x,D),M=M.next}while(M!==f)}break;case 1:if(Ni(h,x),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(X){$r(h,x,X)}break;case 5:Ni(h,x);break;case 4:ht?bh(f,h,x):Te&&Te&&(h=h.stateNode.containerInfo,x=Kt(h),vr(h,x))}}function zi(f,h,x){for(var M=h;;)if(En(f,M,x),M.child===null||ht&&M.tag===4){if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function Ah(f){var h=f.alternate;h!==null&&(f.alternate=null,Ah(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&At(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Mh(f){return f.tag===5||f.tag===3||f.tag===4}function bf(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Mh(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Ef(f){if(ht){e:{for(var h=f.return;h!==null;){if(Mh(h))break e;h=h.return}throw Error(o(160))}var x=h;switch(x.tag){case 5:h=x.stateNode,x.flags&32&&(De(h),x.flags&=-33),x=bf(f),vl(f,x,h);break;case 3:case 4:h=x.stateNode.containerInfo,x=bf(f),Cf(f,x,h);break;default:throw Error(o(161))}}}function Cf(f,h,x){var M=f.tag;if(M===5||M===6)f=f.stateNode,h?yt(x,f,h):Qe(x,f);else if(M!==4&&(f=f.child,f!==null))for(Cf(f,h,x),f=f.sibling;f!==null;)Cf(f,h,x),f=f.sibling}function vl(f,h,x){var M=f.tag;if(M===5||M===6)f=f.stateNode,h?st(x,f,h):pt(x,f);else if(M!==4&&(f=f.child,f!==null))for(vl(f,h,x),f=f.sibling;f!==null;)vl(f,h,x),f=f.sibling}function bh(f,h,x){for(var M=h,P=!1,D,X;;){if(!P){P=M.return;e:for(;;){if(P===null)throw Error(o(160));switch(D=P.stateNode,P.tag){case 5:X=!1;break e;case 3:D=D.containerInfo,X=!0;break e;case 4:D=D.containerInfo,X=!0;break e}P=P.return}P=!0}if(M.tag===5||M.tag===6)zi(f,M,x),X?re(D,M.stateNode):ft(D,M.stateNode);else if(M.tag===18)X?Ln(D,M.stateNode):Qt(D,M.stateNode);else if(M.tag===4){if(M.child!==null){D=M.stateNode.containerInfo,X=!0,M.child.return=M,M=M.child;continue}}else if(En(f,M,x),M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return,M.tag===4&&(P=!1)}M.sibling.return=M.return,M=M.sibling}}function Bo(f,h){if(ht){switch(h.tag){case 0:case 11:case 14:case 15:Xs(3,h,h.return),Sr(3,h),Xs(5,h,h.return);return;case 1:return;case 5:var x=h.stateNode;if(x!=null){var M=h.memoizedProps;f=f!==null?f.memoizedProps:M;var P=h.type,D=h.updateQueue;h.updateQueue=null,D!==null&&St(x,D,P,f,M,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));x=h.memoizedProps,Ce(h.stateNode,f!==null?f.memoizedProps:x,x);return;case 3:Ae&&f!==null&&f.memoizedState.isDehydrated&&en(h.stateNode.containerInfo);return;case 12:return;case 13:xl(h);return;case 19:xl(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Xs(3,h,h.return),Sr(3,h),Xs(5,h,h.return);return;case 12:return;case 13:xl(h);return;case 19:xl(h);return;case 3:Ae&&f!==null&&f.memoizedState.isDehydrated&&en(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(Te){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,vr(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function xl(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var x=f.stateNode;x===null&&(x=f.stateNode=new fa),h.forEach(function(M){var P=Om.bind(null,f,M);x.has(M)||(x.add(M),M.then(P,P))})}}function Sy(f,h){for(Ke=h;Ke!==null;){h=Ke;var x=h.deletions;if(x!==null)for(var M=0;M<x.length;M++){var P=x[M];try{var D=f;ht?bh(D,P,h):zi(D,P,h);var X=P.alternate;X!==null&&(X.return=null),P.return=null}catch(xt){$r(P,h,xt)}}if(x=h.child,h.subtreeFlags&12854&&x!==null)x.return=h,Ke=x;else for(;Ke!==null;){h=Ke;try{var oe=h.flags;if(oe&32&&ht&&De(h.stateNode),oe&512){var Ee=h.alternate;if(Ee!==null){var je=Ee.ref;je!==null&&(typeof je=="function"?je(null):je.current=null)}}if(oe&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var ot=h.alternate;(ot===null||ot.memoizedState===null)&&(Ou=ir())}break;case 22:var Ot=h.memoizedState!==null,bt=h.alternate,jt=bt!==null&&bt.memoizedState!==null;if(x=h,ht){e:if(M=x,P=Ot,D=null,ht)for(var rt=M;;){if(rt.tag===5){if(D===null){D=rt;var br=rt.stateNode;P?nt(br):we(rt.stateNode,rt.memoizedProps)}}else if(rt.tag===6){if(D===null){var xi=rt.stateNode;P?ne(xi):Oe(xi,rt.memoizedProps)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===M)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===M)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===M)break e;D===rt&&(D=null),rt=rt.return}D===rt&&(D=null),rt.sibling.return=rt.return,rt=rt.sibling}}if(Ot&&!jt&&x.mode&1){Ke=x;for(var xe=x.child;xe!==null;){for(x=Ke=xe;Ke!==null;){M=Ke;var ue=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Xs(4,M,M.return);break;case 1:Ni(M,M.return);var be=M.stateNode;if(typeof be.componentWillUnmount=="function"){var Ze=M.return;try{be.props=M.memoizedProps,be.state=M.memoizedState,be.componentWillUnmount()}catch(xt){$r(M,Ze,xt)}}break;case 5:Ni(M,M.return);break;case 22:if(M.memoizedState!==null){Ch(x);continue}}ue!==null?(ue.return=M,Ke=ue):Ch(x)}xe=xe.sibling}}}switch(oe&4102){case 2:Ef(h),h.flags&=-3;break;case 6:Ef(h),h.flags&=-3,Bo(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Bo(h.alternate,h);break;case 4:Bo(h.alternate,h)}}catch(xt){$r(h,h.return,xt)}if(x=h.sibling,x!==null){x.return=h.return,Ke=x;break}Ke=h.return}}}function Ru(f,h,x){Ke=f,Pu(f)}function Pu(f,h,x){for(var M=(f.mode&1)!==0;Ke!==null;){var P=Ke,D=P.child;if(P.tag===22&&M){var X=P.memoizedState!==null||jr;if(!X){var oe=P.alternate,Ee=oe!==null&&oe.memoizedState!==null||pr;oe=jr;var je=pr;if(jr=X,(pr=Ee)&&!je)for(Ke=P;Ke!==null;)X=Ke,Ee=X.child,X.tag===22&&X.memoizedState!==null?da(P):Ee!==null?(Ee.return=X,Ke=Ee):da(P);for(;D!==null;)Ke=D,Pu(D),D=D.sibling;Ke=P,jr=oe,pr=je}Eh(f)}else P.subtreeFlags&8772&&D!==null?(D.return=P,Ke=D):Eh(f)}}function Eh(f){for(;Ke!==null;){var h=Ke;if(h.flags&8772){var x=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:pr||Sr(5,h);break;case 1:var M=h.stateNode;if(h.flags&4&&!pr)if(x===null)M.componentDidMount();else{var P=h.elementType===h.type?x.memoizedProps:qr(h.type,x.memoizedProps);M.componentDidUpdate(P,x.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var D=h.updateQueue;D!==null&&ym(h,D,M);break;case 3:var X=h.updateQueue;if(X!==null){if(x=null,h.child!==null)switch(h.child.tag){case 5:x=he(h.child.stateNode);break;case 1:x=h.child.stateNode}ym(h,X,x)}break;case 5:var oe=h.stateNode;x===null&&h.flags&4&&at(oe,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&h.memoizedState===null){var Ee=h.alternate;if(Ee!==null){var je=Ee.memoizedState;if(je!==null){var ot=je.dehydrated;ot!==null&&Yt(ot)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}pr||h.flags&512&&Jr(h)}catch(Ot){$r(h,h.return,Ot)}}if(h===f){Ke=null;break}if(x=h.sibling,x!==null){x.return=h.return,Ke=x;break}Ke=h.return}}function Ch(f){for(;Ke!==null;){var h=Ke;if(h===f){Ke=null;break}var x=h.sibling;if(x!==null){x.return=h.return,Ke=x;break}Ke=h.return}}function da(f){for(;Ke!==null;){var h=Ke;try{switch(h.tag){case 0:case 11:case 15:var x=h.return;try{Sr(4,h)}catch(Ee){$r(h,x,Ee)}break;case 1:var M=h.stateNode;if(typeof M.componentDidMount=="function"){var P=h.return;try{M.componentDidMount()}catch(Ee){$r(h,P,Ee)}}var D=h.return;try{Jr(h)}catch(Ee){$r(h,D,Ee)}break;case 5:var X=h.return;try{Jr(h)}catch(Ee){$r(h,X,Ee)}}}catch(Ee){$r(h,h.return,Ee)}if(h===f){Ke=null;break}var oe=h.sibling;if(oe!==null){oe.return=h.return,Ke=oe;break}Ke=h.return}}var Bu=0,ha=1,pa=2,Ks=3,_l=4;if(typeof Symbol=="function"&&Symbol.for){var ma=Symbol.for;Bu=ma("selector.component"),ha=ma("selector.has_pseudo_class"),pa=ma("selector.role"),Ks=ma("selector.test_id"),_l=ma("selector.text")}function Iu(f){var h=Ge(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=Nt(f),f===null)throw Error(o(362));return f.stateNode.current}function Lu(f,h){switch(h.$$typeof){case Bu:if(f.type===h.value)return!0;break;case ha:e:{h=h.value,f=[f,0];for(var x=0;x<f.length;){var M=f[x++],P=f[x++],D=h[P];if(M.tag!==5||!ae(M)){for(;D!=null&&Lu(M,D);)P++,D=h[P];if(P===h.length){h=!0;break e}else for(M=M.child;M!==null;)f.push(M,P),M=M.sibling}}h=!1}return h;case pa:if(f.tag===5&&Le(f.stateNode,h.value))return!0;break;case _l:if((f.tag===5||f.tag===6)&&(f=H(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Ks:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Io(f){switch(f.$$typeof){case Bu:return"<"+(F(f.value)||"Unknown")+">";case ha:return":has("+(Io(f)||"")+")";case pa:return'[role="'+f.value+'"]';case _l:return'"'+f.value+'"';case Ks:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function mi(f,h){var x=[];f=[f,0];for(var M=0;M<f.length;){var P=f[M++],D=f[M++],X=h[D];if(P.tag!==5||!ae(P)){for(;X!=null&&Lu(P,X);)D++,X=h[D];if(D===h.length)x.push(P);else for(P=P.child;P!==null;)f.push(P,D),P=P.sibling}}return x}function Ys(f,h){if(!Gt)throw Error(o(363));f=Iu(f),f=mi(f,h),h=[],f=Array.from(f);for(var x=0;x<f.length;){var M=f[x++];if(M.tag===5)ae(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return h}var Th=Math.ceil,Du=l.ReactCurrentDispatcher,Zi=l.ReactCurrentOwner,gn=l.ReactCurrentBatchConfig,Ut=0,Vn=null,yn=null,Pn=0,Ir=0,ga=Ur(0),zn=0,wl=null,vs=0,gi=0,ya=0,Qs=null,Kn=null,Ou=0,Lo=1/0;function va(){Lo=ir()+500}var Sl=!1,Cn=null,es=null,Al=!1,xs=null,xa=0,_a=0,qs=null,Sn=-1,Un=0;function un(){return Ut&6?ir():Sn!==-1?Sn:Sn=ir()}function ts(f){return f.mode&1?Ut&2&&Pn!==0?Pn&-Pn:gm.transition!==null?(Un===0&&(f=el,el<<=1,!(el&4194240)&&(el=64),Un=f),Un):(f=$t,f!==0?f:$e()):1}function Lr(f,h,x){if(50<_a)throw _a=0,qs=null,Error(o(185));var M=Do(f,h);return M===null?null:(Jo(M,h,x),(!(Ut&2)||M!==Vn)&&(M===Vn&&(!(Ut&2)&&(gi|=h),zn===4&&Mr(M,Pn)),ni(M,x),h===1&&Ut===0&&!(f.mode&1)&&(va(),$c&&Li())),M)}function Do(f,h){f.lanes|=h;var x=f.alternate;for(x!==null&&(x.lanes|=h),x=f,f=f.return;f!==null;)f.childLanes|=h,x=f.alternate,x!==null&&(x.childLanes|=h),x=f,f=f.return;return x.tag===3?x.stateNode:null}function ni(f,h){var x=f.callbackNode;mm(f,h);var M=uu(f,f===Vn?Pn:0);if(M===0)x!==null&&nl(x),f.callbackNode=null,f.callbackPriority=0;else if(h=M&-M,f.callbackPriority!==h){if(x!=null&&nl(x),h===1)f.tag===0?Kc(yi.bind(null,f)):Xc(yi.bind(null,f)),gt?lt(function(){Ut===0&&Li()}):$o(Xo,Li),x=null;else{switch(ks(M)){case 1:x=Xo;break;case 4:x=xy;break;case 16:x=jc;break;case 536870912:x=Jc;break;default:x=jc}x=Rf(x,Ar.bind(null,f))}f.callbackPriority=h,f.callbackNode=x}}function Ar(f,h){if(Sn=-1,Un=0,Ut&6)throw Error(o(327));var x=f.callbackNode;if(_s()&&f.callbackNode!==x)return null;var M=uu(f,f===Vn?Pn:0);if(M===0)return null;if(M&30||M&f.expiredLanes||h)h=zu(f,M);else{h=M;var P=Ut;Ut|=2;var D=Bh();(Vn!==f||Pn!==h)&&(va(),Zs(f,h));do try{Im();break}catch(oe){Ph(f,oe)}while(!0);Gr(),Du.current=D,Ut=P,yn!==null?h=0:(Vn=null,Pn=0,h=zn)}if(h!==0){if(h===2&&(P=Gc(f),P!==0&&(M=P,h=ku(f,P))),h===1)throw x=wl,Zs(f,0),Mr(f,M),ni(f,ir()),x;if(h===6)Mr(f,M);else{if(P=f.current.alternate,!(M&30)&&!Rh(P)&&(h=zu(f,M),h===2&&(D=Gc(f),D!==0&&(M=D,h=ku(f,D))),h===1))throw x=wl,Zs(f,0),Mr(f,M),ni(f,ir()),x;switch(f.finishedWork=P,f.finishedLanes=M,h){case 0:case 1:throw Error(o(345));case 2:ns(f,Kn);break;case 3:if(Mr(f,M),(M&130023424)===M&&(h=Ou+500-ir(),10<h)){if(uu(f,0)!==0)break;if(P=f.suspendedLanes,(P&M)!==M){un(),f.pingedLanes|=f.suspendedLanes&P;break}f.timeoutHandle=Ve(ns.bind(null,f,Kn),h);break}ns(f,Kn);break;case 4:if(Mr(f,M),(M&4194240)===M)break;for(h=f.eventTimes,P=-1;0<M;){var X=31-Bi(M);D=1<<X,X=h[X],X>P&&(P=X),M&=~D}if(M=P,M=ir()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Th(M/1960))-M,10<M){f.timeoutHandle=Ve(ns.bind(null,f,Kn),M);break}ns(f,Kn);break;case 5:ns(f,Kn);break;default:throw Error(o(329))}}}return ni(f,ir()),f.callbackNode===x?Ar.bind(null,f):null}function ku(f,h){var x=Qs;return f.current.memoizedState.isDehydrated&&(Zs(f,h).flags|=256),f=zu(f,h),f!==2&&(h=Kn,Kn=x,h!==null&&Fu(h)),f}function Fu(f){Kn===null?Kn=f:Kn.push.apply(Kn,f)}function Rh(f){for(var h=f;;){if(h.flags&16384){var x=h.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var M=0;M<x.length;M++){var P=x[M],D=P.getSnapshot;P=P.value;try{if(!Hr(D(),P))return!1}catch{return!1}}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Mr(f,h){for(h&=~ya,h&=~gi,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var x=31-Bi(h),M=1<<x;f[x]=-1,h&=~M}}function yi(f){if(Ut&6)throw Error(o(327));_s();var h=uu(f,0);if(!(h&1))return ni(f,ir()),null;var x=zu(f,h);if(f.tag!==0&&x===2){var M=Gc(f);M!==0&&(h=M,x=ku(f,M))}if(x===1)throw x=wl,Zs(f,0),Mr(f,h),ni(f,ir()),x;if(x===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,ns(f,Kn),ni(f,ir()),null}function Ml(f){xs!==null&&xs.tag===0&&!(Ut&6)&&_s();var h=Ut;Ut|=1;var x=gn.transition,M=$t;try{if(gn.transition=null,$t=1,f)return f()}finally{$t=M,gn.transition=x,Ut=h,!(Ut&6)&&Li()}}function Nu(){Ir=ga.current,Ct(ga)}function Zs(f,h){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;if(x!==Ye&&(f.timeoutHandle=Ye,ke(x)),yn!==null)for(x=yn.return;x!==null;){var M=x;switch(ih(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&So();break;case 3:fl(),Ct(ur),Ct(dn),na();break;case 5:ah(M);break;case 4:fl();break;case 13:Ct(On);break;case 19:Ct(On);break;case 10:pu(M.type._context);break;case 22:case 23:Nu()}x=x.return}if(Vn=f,yn=f=eo(f.current,null),Pn=Ir=h,zn=0,wl=null,ya=gi=vs=0,Kn=Qs=null,Di!==null){for(h=0;h<Di.length;h++)if(x=Di[h],M=x.interleaved,M!==null){x.interleaved=null;var P=M.next,D=x.pending;if(D!==null){var X=D.next;D.next=P,M.next=X}x.pending=M}Di=null}return f}function Ph(f,h){do{var x=yn;try{if(Gr(),gu.current=gl,lf){for(var M=kn.memoizedState;M!==null;){var P=M.queue;P!==null&&(P.pending=null),M=M.next}lf=!1}if(ra=0,fr=cr=kn=null,ms=!1,ia=0,Zi.current=null,x===null||x.return===null){zn=1,wl=h,yn=null;break}e:{var D=f,X=x.return,oe=x,Ee=h;if(h=Pn,oe.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var je=Ee,ot=oe,Ot=ot.tag;if(!(ot.mode&1)&&(Ot===0||Ot===11||Ot===15)){var bt=ot.alternate;bt?(ot.updateQueue=bt.updateQueue,ot.memoizedState=bt.memoizedState,ot.lanes=bt.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var jt=yh(X);if(jt!==null){jt.flags&=-257,oa(jt,X,oe,D,h),jt.mode&1&&Vs(D,je,h),h=jt,Ee=je;var rt=h.updateQueue;if(rt===null){var br=new Set;br.add(Ee),h.updateQueue=br}else rt.add(Ee);break e}else{if(!(h&1)){Vs(D,je,h),Tf();break e}Ee=Error(o(426))}}else if(Rn&&oe.mode&1){var xi=yh(X);if(xi!==null){!(xi.flags&65536)&&(xi.flags|=256),oa(xi,X,oe,D,h),sf(Ee);break e}}D=Ee,zn!==4&&(zn=2),Qs===null?Qs=[D]:Qs.push(D),Ee=gh(Ee,oe),oe=X;do{switch(oe.tag){case 3:oe.flags|=65536,h&=-h,oe.lanes|=h;var xe=Rm(oe,Ee,h);qc(oe,xe);break e;case 1:D=Ee;var ue=oe.type,be=oe.stateNode;if(!(oe.flags&128)&&(typeof ue.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(es===null||!es.has(be)))){oe.flags|=65536,h&=-h,oe.lanes|=h;var Ze=vf(oe,D,h);qc(oe,Ze);break e}}oe=oe.return}while(oe!==null)}Lh(x)}catch(xt){h=xt,yn===x&&x!==null&&(yn=x=x.return);continue}break}while(!0)}function Bh(){var f=Du.current;return Du.current=gl,f===null?gl:f}function Tf(){(zn===0||zn===3||zn===2)&&(zn=4),Vn===null||!(vs&268435455)&&!(gi&268435455)||Mr(Vn,Pn)}function zu(f,h){var x=Ut;Ut|=2;var M=Bh();Vn===f&&Pn===h||Zs(f,h);do try{Bm();break}catch(P){Ph(f,P)}while(!0);if(Gr(),Ut=x,Du.current=M,yn!==null)throw Error(o(261));return Vn=null,Pn=0,zn}function Bm(){for(;yn!==null;)Ih(yn)}function Im(){for(;yn!==null&&!Ao();)Ih(yn)}function Ih(f){var h=kh(f.alternate,f,Ir);f.memoizedProps=f.pendingProps,h===null?Lh(f):yn=h,Zi.current=null}function Lh(f){var h=f;do{var x=h.alternate;if(f=h.return,h.flags&32768){if(x=Mf(x,h),x!==null){x.flags&=32767,yn=x;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{zn=6,yn=null;return}}else if(x=wf(x,h,Ir),x!==null){yn=x;return}if(h=h.sibling,h!==null){yn=h;return}yn=h=f}while(h!==null);zn===0&&(zn=5)}function ns(f,h){var x=$t,M=gn.transition;try{gn.transition=null,$t=1,Lm(f,h,x)}finally{gn.transition=M,$t=x}return null}function Lm(f,h,x){do _s();while(xs!==null);if(Ut&6)throw Error(o(327));var M=f.finishedWork,P=f.finishedLanes;if(M===null)return null;if(f.finishedWork=null,f.finishedLanes=0,M===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var D=M.lanes|M.childLanes;if(Wc(f,D),f===Vn&&(yn=Vn=null,Pn=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Al||(Al=!0,Rf(jc,function(){return _s(),null})),D=(M.flags&15990)!==0,M.subtreeFlags&15990||D){D=gn.transition,gn.transition=null;var X=$t;$t=1;var oe=Ut;Ut|=4,Zi.current=null,Sh(f,M),Sy(f,M),$(f.containerInfo),f.current=M,Ru(M),vy(),Ut=oe,$t=X,gn.transition=D}else f.current=M;if(Al&&(Al=!1,xs=f,xa=P),D=f.pendingLanes,D===0&&(es=null),fu(M.stateNode),ni(f,ir()),h!==null)for(x=f.onRecoverableError,M=0;M<h.length;M++)x(h[M]);if(Sl)throw Sl=!1,f=Cn,Cn=null,f;return xa&1&&f.tag!==0&&_s(),D=f.pendingLanes,D&1?f===qs?_a++:(_a=0,qs=f):_a=0,Li(),null}function _s(){if(xs!==null){var f=ks(xa),h=gn.transition,x=$t;try{if(gn.transition=null,$t=16>f?16:f,xs===null)var M=!1;else{if(f=xs,xs=null,xa=0,Ut&6)throw Error(o(331));var P=Ut;for(Ut|=4,Ke=f.current;Ke!==null;){var D=Ke,X=D.child;if(Ke.flags&16){var oe=D.deletions;if(oe!==null){for(var Ee=0;Ee<oe.length;Ee++){var je=oe[Ee];for(Ke=je;Ke!==null;){var ot=Ke;switch(ot.tag){case 0:case 11:case 15:Xs(8,ot,D)}var Ot=ot.child;if(Ot!==null)Ot.return=ot,Ke=Ot;else for(;Ke!==null;){ot=Ke;var bt=ot.sibling,jt=ot.return;if(Ah(ot),ot===je){Ke=null;break}if(bt!==null){bt.return=jt,Ke=bt;break}Ke=jt}}}var rt=D.alternate;if(rt!==null){var br=rt.child;if(br!==null){rt.child=null;do{var xi=br.sibling;br.sibling=null,br=xi}while(br!==null)}}Ke=D}}if(D.subtreeFlags&2064&&X!==null)X.return=D,Ke=X;else e:for(;Ke!==null;){if(D=Ke,D.flags&2048)switch(D.tag){case 0:case 11:case 15:Xs(9,D,D.return)}var xe=D.sibling;if(xe!==null){xe.return=D.return,Ke=xe;break e}Ke=D.return}}var ue=f.current;for(Ke=ue;Ke!==null;){X=Ke;var be=X.child;if(X.subtreeFlags&2064&&be!==null)be.return=X,Ke=be;else e:for(X=ue;Ke!==null;){if(oe=Ke,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:Sr(9,oe)}}catch(xt){$r(oe,oe.return,xt)}if(oe===X){Ke=null;break e}var Ze=oe.sibling;if(Ze!==null){Ze.return=oe.return,Ke=Ze;break e}Ke=oe.return}}if(Ut=P,Li(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(cu,f)}catch{}M=!0}return M}finally{$t=x,gn.transition=h}}return!1}function Uu(f,h,x){h=gh(x,h),h=Rm(f,h,1),Mo(f,h),h=un(),f=Do(f,1),f!==null&&(Jo(f,1,h),ni(f,h))}function $r(f,h,x){if(f.tag===3)Uu(f,f,x);else for(;h!==null;){if(h.tag===3){Uu(h,f,x);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(es===null||!es.has(M))){f=gh(x,f),f=vf(h,f,1),Mo(h,f),f=un(),h=Do(h,1),h!==null&&(Jo(h,1,f),ni(h,f));break}}h=h.return}}function Dh(f,h,x){var M=f.pingCache;M!==null&&M.delete(h),h=un(),f.pingedLanes|=f.suspendedLanes&x,Vn===f&&(Pn&x)===x&&(zn===4||zn===3&&(Pn&130023424)===Pn&&500>ir()-Ou?Zs(f,0):ya|=x),ni(f,h)}function Oh(f,h){h===0&&(f.mode&1?(h=ln,ln<<=1,!(ln&130023424)&&(ln=4194304)):h=1);var x=un();f=Do(f,h),f!==null&&(Jo(f,h,x),ni(f,x))}function Dm(f){var h=f.memoizedState,x=0;h!==null&&(x=h.retryLane),Oh(f,x)}function Om(f,h){var x=0;switch(f.tag){case 13:var M=f.stateNode,P=f.memoizedState;P!==null&&(x=P.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(h),Oh(f,x)}var kh;kh=function(f,h,x){if(f!==null)if(f.memoizedProps!==h.pendingProps||ur.current)hr=!0;else{if(!(f.lanes&x)&&!(h.flags&128))return hr=!1,Af(f,h,x);hr=!!(f.flags&131072)}else hr=!1,Rn&&h.flags&1048576&&wm(h,nf,h.index);switch(h.lanes=0,h.tag){case 2:var M=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var P=Pi(h,dn.current);rl(h,x),P=dl(null,h,M,f,P,x);var D=To();return h.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,xr(M)?(D=!0,Uc(h)):D=!1,h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,il(h),P.updater=ef,h.stateNode=P,P._reactInternals=h,nh(h,M,f,x),h=Br(null,h,M,!0,D,x)):(h.tag=0,Rn&&D&&rh(h),Nn(null,h,P,x),h=h.child),h;case 16:M=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,P=M._init,M=P(M._payload),h.type=M,P=h.tag=Ay(M),f=qr(M,f),P){case 0:h=Js(null,h,M,f,x);break e;case 1:h=la(null,h,M,f,x);break e;case 11:h=wn(null,h,M,f,x);break e;case 14:h=vn(null,h,M,qr(M.type,f),x);break e}throw Error(o(306,M,""))}return h;case 0:return M=h.type,P=h.pendingProps,P=h.elementType===M?P:qr(M,P),Js(f,h,M,P,x);case 1:return M=h.type,P=h.pendingProps,P=h.elementType===M?P:qr(M,P),la(f,h,M,P,x);case 3:e:{if(bu(h),f===null)throw Error(o(387));M=h.pendingProps,D=h.memoizedState,P=D.element,Zd(f,h),Zc(h,M,null,x);var X=h.memoizedState;if(M=X.element,Ae&&D.isDehydrated)if(D={element:M,isDehydrated:!1,cache:X.cache,transitions:X.transitions},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){P=Error(o(423)),h=xh(f,h,M,x,P);break e}else if(M!==P){P=Error(o(424)),h=xh(f,h,M,x,P);break e}else for(Ae&&(_r=me(h.stateNode.containerInfo),Vr=h,Rn=!0,Fi=null,ol=!1),x=Mm(h,null,M,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(al(),M===P){h=ti(f,h,x);break e}Nn(f,h,M,x)}h=h.child}return h;case 5:return bm(h),f===null&&Eo(h),M=h.type,P=h.pendingProps,D=f!==null?f.memoizedProps:null,X=P.children,Pe(M,P)?X=null:D!==null&&Pe(M,D)&&(h.flags|=32),Wr(f,h),Nn(f,h,X,x),h.child;case 6:return f===null&&Eo(h),null;case 13:return _h(f,h,x);case 4:return of(h,h.stateNode.containerInfo),M=h.pendingProps,f===null?h.child=Hs(h,null,M,x):Nn(f,h,M,x),h.child;case 11:return M=h.type,P=h.pendingProps,P=h.elementType===M?P:qr(M,P),wn(f,h,M,P,x);case 7:return Nn(f,h,h.pendingProps,x),h.child;case 8:return Nn(f,h,h.pendingProps.children,x),h.child;case 12:return Nn(f,h,h.pendingProps.children,x),h.child;case 10:e:{if(M=h.type._context,P=h.pendingProps,D=h.memoizedProps,X=P.value,Yo(h,M,X),D!==null)if(Hr(D.value,X)){if(D.children===P.children&&!ur.current){h=ti(f,h,x);break e}}else for(D=h.child,D!==null&&(D.return=h);D!==null;){var oe=D.dependencies;if(oe!==null){X=D.child;for(var Ee=oe.firstContext;Ee!==null;){if(Ee.context===M){if(D.tag===1){Ee=Ns(-1,x&-x),Ee.tag=2;var je=D.updateQueue;if(je!==null){je=je.shared;var ot=je.pending;ot===null?Ee.next=Ee:(Ee.next=ot.next,ot.next=Ee),je.pending=Ee}}D.lanes|=x,Ee=D.alternate,Ee!==null&&(Ee.lanes|=x),Qo(D.return,x,h),oe.lanes|=x;break}Ee=Ee.next}}else if(D.tag===10)X=D.type===h.type?null:D.child;else if(D.tag===18){if(X=D.return,X===null)throw Error(o(341));X.lanes|=x,oe=X.alternate,oe!==null&&(oe.lanes|=x),Qo(X,x,h),X=D.sibling}else X=D.child;if(X!==null)X.return=D;else for(X=D;X!==null;){if(X===h){X=null;break}if(D=X.sibling,D!==null){D.return=X.return,X=D;break}X=X.return}D=X}Nn(f,h,P.children,x),h=h.child}return h;case 9:return P=h.type,M=h.pendingProps.children,rl(h,x),P=Zr(P),M=M(P),h.flags|=1,Nn(f,h,M,x),h.child;case 14:return M=h.type,P=qr(M,h.pendingProps),P=qr(M.type,P),vn(f,h,M,P,x);case 15:return js(f,h,h.type,h.pendingProps,x);case 17:return M=h.type,P=h.pendingProps,P=h.elementType===M?P:qr(M,P),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,xr(M)?(f=!0,Uc(h)):f=!1,rl(h,x),xm(h,M,P),nh(h,M,P,x),Br(null,h,M,!0,f,x);case 19:return ca(f,h,x);case 22:return wr(f,h,x)}throw Error(o(156,h.tag))};function Rf(f,h){return $o(f,h)}function km(f,h,x,M){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(f,h,x,M){return new km(f,h,x,M)}function Pf(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Ay(f){if(typeof f=="function")return Pf(f)?1:0;if(f!=null){if(f=f.$$typeof,f===_)return 11;if(f===E)return 14}return 2}function eo(f,h){var x=f.alternate;return x===null?(x=vi(f.tag,h,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=h,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&14680064,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,h=f.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x}function Bf(f,h,x,M,P,D){var X=2;if(M=f,typeof f=="function")Pf(f)&&(X=1);else if(typeof f=="string")X=5;else e:switch(f){case p:return wa(x.children,P,D,h);case m:X=8,P|=8;break;case y:return f=vi(12,x,h,P|2),f.elementType=y,f.lanes=D,f;case A:return f=vi(13,x,h,P),f.elementType=A,f.lanes=D,f;case b:return f=vi(19,x,h,P),f.elementType=b,f.lanes=D,f;case R:return Hu(x,P,D,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case v:X=10;break e;case w:X=9;break e;case _:X=11;break e;case E:X=14;break e;case T:X=16,M=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=vi(X,x,h,P),h.elementType=f,h.type=M,h.lanes=D,h}function wa(f,h,x,M){return f=vi(7,f,M,h),f.lanes=x,f}function Hu(f,h,x,M){return f=vi(22,f,M,h),f.elementType=R,f.lanes=x,f.stateNode={},f}function If(f,h,x){return f=vi(6,f,null,h),f.lanes=x,f}function Lf(f,h,x){return h=vi(4,f.children!==null?f.children:[],f.key,h),h.lanes=x,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function Df(f,h,x,M,P){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ye,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=M,this.onRecoverableError=P,Ae&&(this.mutableSourceEagerHydrationData=null)}function Fm(f,h,x,M,P,D,X,oe,Ee){return f=new Df(f,h,x,oe,Ee),h===1?(h=1,D===!0&&(h|=8)):h=0,D=vi(3,null,null,h),f.current=D,D.stateNode=f,D.memoizedState={element:M,isDehydrated:x,cache:null,transitions:null},il(D),f}function Nm(f){if(!f)return Fn;f=f._reactInternals;e:{if(G(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(xr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var x=f.type;if(xr(x))return pm(f,x,h)}return h}function zm(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=ce(h),f===null?null:f.stateNode}function Ui(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<h?x:h}}function Gu(f,h){Ui(f,h),(f=f.alternate)&&Ui(f,h)}function Of(f){return f=ce(f),f===null?null:f.stateNode}function Um(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var h=un();Lr(f,134217728,h),Gu(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=un(),x=ts(f);Lr(f,x,h),Gu(f,x)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var x=tl(h.pendingLanes);x!==0&&(hs(h,x|1),ni(h,ir()),!(Ut&6)&&(va(),Li()))}break;case 13:var M=un();Ml(function(){return Lr(f,1,M)}),Gu(f,1)}},t.batchedUpdates=function(f,h){var x=Ut;Ut|=1;try{return f(h)}finally{Ut=x,Ut===0&&(va(),$c&&Li())}},t.createComponentSelector=function(f){return{$$typeof:Bu,value:f}},t.createContainer=function(f,h,x,M,P,D,X){return Fm(f,h,!1,null,x,M,P,D,X)},t.createHasPseudoClassSelector=function(f){return{$$typeof:ha,value:f}},t.createHydrationContainer=function(f,h,x,M,P,D,X,oe,Ee){return f=Fm(x,M,!0,f,P,D,X,oe,Ee),f.context=Nm(null),x=f.current,M=un(),P=ts(x),D=Ns(M,P),D.callback=h??null,Mo(x,D),f.current.lanes=P,Jo(f,P,M),ni(f,M),f},t.createPortal=function(f,h,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:M==null?null:""+M,children:f,containerInfo:h,implementation:x}},t.createRoleSelector=function(f){return{$$typeof:pa,value:f}},t.createTestNameSelector=function(f){return{$$typeof:Ks,value:f}},t.createTextSelector=function(f){return{$$typeof:_l,value:f}},t.deferredUpdates=function(f){var h=$t,x=gn.transition;try{return gn.transition=null,$t=16,f()}finally{$t=h,gn.transition=x}},t.discreteUpdates=function(f,h,x,M,P){var D=$t,X=gn.transition;try{return gn.transition=null,$t=1,f(h,x,M,P)}finally{$t=D,gn.transition=X,Ut===0&&va()}},t.findAllNodes=Ys,t.findBoundingRects=function(f,h){if(!Gt)throw Error(o(363));h=Ys(f,h),f=[];for(var x=0;x<h.length;x++)f.push(Y(h[x]));for(h=f.length-1;0<h;h--){x=f[h];for(var M=x.x,P=M+x.width,D=x.y,X=D+x.height,oe=h-1;0<=oe;oe--)if(h!==oe){var Ee=f[oe],je=Ee.x,ot=je+Ee.width,Ot=Ee.y,bt=Ot+Ee.height;if(M>=je&&D>=Ot&&P<=ot&&X<=bt){f.splice(h,1);break}else if(M!==je||x.width!==Ee.width||bt<D||Ot>X){if(!(D!==Ot||x.height!==Ee.height||ot<M||je>P)){je>M&&(Ee.width+=je-M,Ee.x=M),ot<P&&(Ee.width=P-je),f.splice(h,1);break}}else{Ot>D&&(Ee.height+=Ot-D,Ee.y=D),bt<X&&(Ee.height=X-Ot),f.splice(h,1);break}}}return f},t.findHostInstance=zm,t.findHostInstanceWithNoPortals=function(f){return f=q(f),f=f!==null?Z(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return zm(f)},t.flushControlled=function(f){var h=Ut;Ut|=1;var x=gn.transition,M=$t;try{gn.transition=null,$t=1,f()}finally{$t=M,gn.transition=x,Ut=h,Ut===0&&(va(),Li())}},t.flushPassiveEffects=_s,t.flushSync=Ml,t.focusWithin=function(f,h){if(!Gt)throw Error(o(363));for(f=Iu(f),h=mi(f,h),h=Array.from(h),f=0;f<h.length;){var x=h[f++];if(!ae(x)){if(x.tag===5&&Fe(x.stateNode))return!0;for(x=x.child;x!==null;)h.push(x),x=x.sibling}}return!1},t.getCurrentUpdatePriority=function(){return $t},t.getFindAllNodesFailureDescription=function(f,h){if(!Gt)throw Error(o(363));var x=0,M=[];f=[Iu(f),0];for(var P=0;P<f.length;){var D=f[P++],X=f[P++],oe=h[X];if((D.tag!==5||!ae(D))&&(Lu(D,oe)&&(M.push(Io(oe)),X++,X>x&&(x=X)),X<h.length))for(D=D.child;D!==null;)f.push(D,X),D=D.sibling}if(x<h.length){for(f=[];x<h.length;x++)f.push(Io(h[x]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return he(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Of,findFiberByHostInstance:f.findFiberByHostInstance||Um,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{cu=h.inject(f),ps=h}catch{}f=!!h.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,h,x,M){if(!Gt)throw Error(o(363));f=Ys(f,h);var P=We(f,x,M).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(f,h){var x=h._getVersion;x=x(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,x]:f.mutableSourceEagerHydrationData.push(h,x)},t.runWithPriority=function(f,h){var x=$t;try{return $t=f,h()}finally{$t=x}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,h,x,M){var P=h.current,D=un(),X=ts(P);return x=Nm(x),h.context===null?h.context=x:h.pendingContext=x,h=Ns(D,X),h.payload={element:f},M=M===void 0?null:M,M!==null&&(h.callback=M),Mo(P,h),f=Lr(P,X,D),f!==null&&Qc(f,P,X),X},t}),kv}var EA;function kF(){return EA||(EA=1,Lv.exports=OF()),Lv.exports}var FF=kF();const NF=Dc(FF);var Fv={exports:{}},Nv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function zF(){return CA||(CA=1,function(r){function e(z,K){var $=z.length;z.push(K);e:for(;0<$;){var U=$-1>>>1,j=z[U];if(0<i(j,K))z[U]=K,z[$]=j,$=U;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var K=z[0],$=z.pop();if($!==K){z[0]=$;e:for(var U=0,j=z.length,ge=j>>>1;U<ge;){var _e=2*(U+1)-1,Pe=z[_e],fe=_e+1,Ve=z[fe];if(0>i(Pe,$))fe<j&&0>i(Ve,Pe)?(z[U]=Ve,z[fe]=$,U=fe):(z[U]=Pe,z[_e]=$,U=_e);else if(fe<j&&0>i(Ve,$))z[U]=Ve,z[fe]=$,U=fe;else break e}}return K}function i(z,K){var $=z.sortIndex-K.sortIndex;return $!==0?$:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],p=1,m=null,y=3,v=!1,w=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var K=t(d);K!==null;){if(K.callback===null)n(d);else if(K.startTime<=z)n(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=t(d)}}function R(z){if(_=!1,T(z),!w)if(t(c)!==null)w=!0,he(L);else{var K=t(d);K!==null&&de(R,K.startTime-z)}}function L(z,K){w=!1,_&&(_=!1,b(I),I=-1),v=!0;var $=y;try{for(T(K),m=t(c);m!==null&&(!(m.expirationTime>K)||z&&!q());){var U=m.callback;if(typeof U=="function"){m.callback=null,y=m.priorityLevel;var j=U(m.expirationTime<=K);K=r.unstable_now(),typeof j=="function"?m.callback=j:m===t(c)&&n(c),T(K)}else n(c);m=t(c)}if(m!==null)var ge=!0;else{var _e=t(d);_e!==null&&de(R,_e.startTime-K),ge=!1}return ge}finally{m=null,y=$,v=!1}}var O=!1,F=null,I=-1,G=5,V=-1;function q(){return!(r.unstable_now()-V<G)}function ce(){if(F!==null){var z=r.unstable_now();V=z;var K=!0;try{K=F(!0,z)}finally{K?ee():(O=!1,F=null)}}else O=!1}var ee;if(typeof E=="function")ee=function(){E(ce)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,le=Z.port2;Z.port1.onmessage=ce,ee=function(){le.postMessage(null)}}else ee=function(){A(ce,0)};function he(z){F=z,O||(O=!0,ee())}function de(z,K){I=A(function(){z(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){w||v||(w=!0,he(L))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(z){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var $=y;y=K;try{return z()}finally{y=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=y;y=z;try{return K()}finally{y=$}},r.unstable_scheduleCallback=function(z,K,$){var U=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$+j,z={id:p++,callback:K,priorityLevel:z,startTime:$,expirationTime:j,sortIndex:-1},$>U?(z.sortIndex=$,e(d,z),t(c)===null&&z===t(d)&&(_?(b(I),I=-1):_=!0,de(R,$-U))):(z.sortIndex=j,e(c,z),w||v||(w=!0,he(L))),z},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(z){var K=y;return function(){var $=y;y=K;try{return z.apply(this,arguments)}finally{y=$}}}}(Nv)),Nv}var TA;function UF(){return TA||(TA=1,Fv.exports=zF()),Fv.exports}var RA=UF();function WC(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e)return!1;const n=r.length;if(e.length!==n)return!1;for(let i=0;i<n;i++)if(!t(r[i],e[i]))return!1;return!0}const Oa=[];function jC(r,e,t=!1,n={}){for(const s of Oa)if(WC(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:n.equal,promise:r(...e).then(s=>i.response=s).then(()=>{n.lifespan&&n.lifespan>0&&setTimeout(()=>{const s=Oa.indexOf(i);s!==-1&&Oa.splice(s,1)},n.lifespan)}).catch(s=>i.error=s)};if(Oa.push(i),!t)throw i.promise}const HF=(r,e,t)=>jC(r,e,!1,t),GF=(r,e,t)=>void jC(r,e,!0,t),VF=r=>{if(r===void 0||r.length===0)Oa.splice(0,Oa.length);else{const e=Oa.find(t=>WC(r,t.keys,t.equal));if(e){const t=Oa.indexOf(e);t!==-1&&Oa.splice(t,1)}}};var PA,BA;const JC=r=>r&&r.isOrthographicCamera,WF=r=>r&&r.hasOwnProperty("current"),rm=typeof window<"u"&&((PA=window.document)!=null&&PA.createElement||((BA=window.navigator)==null?void 0:BA.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function $C(r){const e=k.useRef(r);return rm(()=>void(e.current=r),[r]),e}function jF({set:r}){return rm(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}class XC extends k.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}XC.getDerivedStateFromError=()=>({error:!0});const KC="__default",JF=r=>r&&!!r.memoized&&!!r.changes;function YC(r){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(r)?Math.min(Math.max(r[0],e),r[1]):r}const rp=r=>{var e;return(e=r.__r3f)==null?void 0:e.root.getState()},Zn={obj:r=>r===Object(r)&&!Zn.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(Zn.str(r)||Zn.num(r))return r===e;const s=Zn.obj(r);if(s&&n==="reference")return r===e;const o=Zn.arr(r);if(o&&t==="reference")return r===e;if((o||s)&&r===e)return!0;let l;for(l in r)if(!(l in e))return!1;for(l in i?e:r)if(r[l]!==e[l])return!1;if(Zn.und(l)){if(o&&r.length===0&&e.length===0||s&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function $F(r){const e={nodes:{},materials:{}};return r&&r.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function XF(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(const e in r)e.dispose==null||e.dispose(),delete r[e]}function ud(r,e){const t=r;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),r}function d_(r,e){let t=r;if(e.includes("-")){const n=e.split("-"),i=n.pop();return t=n.reduce((s,o)=>s[o],r),{target:t,key:i}}else return{target:t,key:e}}const IA=/-\d+$/;function zv(r,e,t){if(Zn.str(t)){if(IA.test(t)){const s=t.replace(IA,""),{target:o,key:l}=d_(r,s);Array.isArray(o[l])||(o[l]=[])}const{target:n,key:i}=d_(r,t);e.__r3f.previousAttach=n[i],n[i]=e}else e.__r3f.previousAttach=t(r,e)}function LA(r,e,t){var n,i;if(Zn.str(t)){const{target:s,key:o}=d_(r,t),l=e.__r3f.previousAttach;l===void 0?delete s[o]:s[o]=l}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(r,e);(i=e.__r3f)==null||delete i.previousAttach}function QC(r,{children:e,key:t,ref:n,...i},{children:s,key:o,ref:l,...c}={},d=!1){var p;const m=(p=r==null?void 0:r.__r3f)!=null?p:{},y=Object.entries(i),v=[];if(d){const _=Object.keys(c);for(let A=0;A<_.length;A++)i.hasOwnProperty(_[A])||y.unshift([_[A],KC+"remove"])}y.forEach(([_,A])=>{var b;if((b=r.__r3f)!=null&&b.primitive&&_==="object"||Zn.equ(A,c[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return v.push([_,A,!0,[]]);let E=[];_.includes("-")&&(E=_.split("-")),v.push([_,A,!1,E]);for(const T in i){const R=i[T];T.startsWith(`${_}-`)&&v.push([T,R,!1,T.split("-")])}});const w={...i};return m.memoizedProps&&m.memoizedProps.args&&(w.args=m.memoizedProps.args),m.memoizedProps&&m.memoizedProps.attach&&(w.attach=m.memoizedProps.attach),{memoized:w,changes:v}}function Uv(r,e){var t,n,i;const s=(t=r.__r3f)!=null?t:{},o=s.root,l=(n=o==null||o.getState==null?void 0:o.getState())!=null?n:{},{memoized:c,changes:d}=JF(e)?e:QC(r,e),p=s.eventCount;r.__r3f&&(r.__r3f.memoizedProps=c);for(let v=0;v<d.length;v++){let[w,_,A,b]=d[v],E=r,T=E[w];if(b.length&&(T=b.reduce((R,L)=>R[L],r),!(T&&T.set))){const[R,...L]=b.reverse();E=L.reverse().reduce((O,F)=>O[F],r),w=R}if(_===KC+"remove")if(T&&T.constructor){var m;_=new T.constructor(...(m=c.args)!=null?m:[])}else if(E.constructor){var y;const R=new E.constructor(...(y=E.__r3f.memoizedProps.args)!=null?y:[]);_=R[T],R.dispose&&R.dispose()}else _=0;if(A)_?s.handlers[w]=_:delete s.handlers[w],s.eventCount=Object.keys(s.handlers).length;else if(T&&T.set&&(T.copy||T instanceof xc)){if(Array.isArray(_))T.fromArray?T.fromArray(_):T.set(..._);else if(T.copy&&_&&_.constructor&&T.constructor.name===_.constructor.name)T.copy(_);else if(_!==void 0){const R=T instanceof tt;!R&&T.setScalar?T.setScalar(_):T instanceof xc&&_ instanceof xc?T.mask=_.mask:T.set(_),!("ColorManagement"in S0)&&!l.linear&&R&&T.convertSRGBToLinear()}}else E[w]=_,!l.linear&&E[w]instanceof Hn&&(E[w].encoding=Mn);cd(r)}if(s.parent&&l.internal&&r.raycast&&p!==s.eventCount){const v=l.internal.interaction.indexOf(r);v>-1&&l.internal.interaction.splice(v,1),s.eventCount&&l.internal.interaction.push(r)}return d.length&&(i=r.__r3f)!=null&&i.parent&&h_(r),r}function cd(r){var e,t;const n=(e=r.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function h_(r){r.onUpdate==null||r.onUpdate(r)}function KF(r,e){r.manual||(JC(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix(),r.updateMatrixWorld())}function YF(r,e,t){const n=t.pop(),i=t.reduce((s,o)=>s[o],r);return i[n]=e}function $g(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function QF(){var r;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return fp.DefaultEventPriority;switch((r=e.event)==null?void 0:r.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return fp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return fp.ContinuousEventPriority;default:return fp.DefaultEventPriority}}function qC(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function qF(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{qC(t.capturedMap,e,n,i)})}function ZF(r){function e(c){const{internal:d}=r.getState(),p=c.offsetX-d.initialClick[0],m=c.offsetY-d.initialClick[1];return Math.round(Math.sqrt(p*p+m*m))}function t(c){return c.filter(d=>["Move","Over","Enter","Out","Leave"].some(p=>{var m;return(m=d.__r3f)==null?void 0:m.handlers["onPointer"+p]}))}function n(c,d){const p=r.getState(),m=new Set,y=[],v=d?d(p.internal.interaction):p.internal.interaction;for(let b=0;b<v.length;b++){const E=rp(v[b]);E&&(E.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(c,p);function w(b){const E=rp(b);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var T;E.events.compute==null||E.events.compute(c,E,(T=E.previousRoot)==null?void 0:T.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(b,!0):[]}let _=v.flatMap(w).sort((b,E)=>{const T=rp(b.object),R=rp(E.object);return!T||!R?b.distance-E.distance:R.events.priority-T.events.priority||b.distance-E.distance}).filter(b=>{const E=$g(b);return m.has(E)?!1:(m.add(E),!0)});p.events.filter&&(_=p.events.filter(_,p));for(const b of _){let E=b.object;for(;E;){var A;(A=E.__r3f)!=null&&A.eventCount&&y.push({...b,eventObject:E}),E=E.parent}}if("pointerId"in c&&p.internal.capturedMap.has(c.pointerId))for(let b of p.internal.capturedMap.get(c.pointerId).values())m.has($g(b.intersection))||y.push(b.intersection);return y}function i(c,d,p,m){const y=r.getState();if(c.length){const v={stopped:!1};for(const w of c){const _=rp(w.object)||y,{raycaster:A,pointer:b,camera:E,internal:T}=_,R=new W(b.x,b.y,0).unproject(E),L=V=>{var q,ce;return(q=(ce=T.capturedMap.get(V))==null?void 0:ce.has(w.eventObject))!=null?q:!1},O=V=>{const q={intersection:w,target:d.target};T.capturedMap.has(V)?T.capturedMap.get(V).set(w.eventObject,q):T.capturedMap.set(V,new Map([[w.eventObject,q]])),d.target.setPointerCapture(V)},F=V=>{const q=T.capturedMap.get(V);q&&qC(T.capturedMap,w.eventObject,q,V)};let I={};for(let V in d){let q=d[V];typeof q!="function"&&(I[V]=q)}let G={...w,...I,pointer:b,intersections:c,stopped:v.stopped,delta:p,unprojectedPoint:R,ray:A.ray,camera:E,stopPropagation(){const V="pointerId"in d&&T.capturedMap.get(d.pointerId);if((!V||V.has(w.eventObject))&&(G.stopped=v.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(q=>q.eventObject===w.eventObject))){const q=c.slice(0,c.indexOf(w));s([...q,w])}},target:{hasPointerCapture:L,setPointerCapture:O,releasePointerCapture:F},currentTarget:{hasPointerCapture:L,setPointerCapture:O,releasePointerCapture:F},nativeEvent:d};if(m(G),v.stopped===!0)break}}return c}function s(c){const{internal:d}=r.getState();for(const p of d.hovered.values())if(!c.length||!c.find(m=>m.object===p.object&&m.index===p.index&&m.instanceId===p.instanceId)){const y=p.eventObject.__r3f,v=y==null?void 0:y.handlers;if(d.hovered.delete($g(p)),y!=null&&y.eventCount){const w={...p,intersections:c};v.onPointerOut==null||v.onPointerOut(w),v.onPointerLeave==null||v.onPointerLeave(w)}}}function o(c,d){for(let p=0;p<d.length;p++){const m=d[p].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return d=>{const{internal:p}=r.getState();"pointerId"in d&&p.capturedMap.has(d.pointerId)&&(p.capturedMap.delete(d.pointerId),s([]))}}return function(p){const{onPointerMissed:m,internal:y}=r.getState();y.lastEvent.current=p;const v=c==="onPointerMove",w=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",A=n(p,v?t:void 0),b=w?e(p):0;c==="onPointerDown"&&(y.initialClick=[p.offsetX,p.offsetY],y.initialHits=A.map(T=>T.eventObject)),w&&!A.length&&b<=2&&(o(p,y.interaction),m&&m(p)),v&&s(A);function E(T){const R=T.eventObject,L=R.__r3f,O=L==null?void 0:L.handlers;if(L!=null&&L.eventCount)if(v){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const F=$g(T),I=y.hovered.get(F);I?I.stopped&&T.stopPropagation():(y.hovered.set(F,T),O.onPointerOver==null||O.onPointerOver(T),O.onPointerEnter==null||O.onPointerEnter(T))}O.onPointerMove==null||O.onPointerMove(T)}else{const F=O[c];F?(!w||y.initialHits.includes(R))&&(o(p,y.interaction.filter(I=>!y.initialHits.includes(I))),F(T)):w&&y.initialHits.includes(R)&&o(p,y.interaction.filter(I=>!y.initialHits.includes(I)))}}i(A,p,b,E)}}return{handlePointer:l}}let p_={},eN=r=>void(p_={...p_,...r});function tN(r,e){function t(p,{args:m=[],attach:y,...v},w){let _=`${p[0].toUpperCase()}${p.slice(1)}`,A;if(p==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const b=v.object;A=ud(b,{type:p,root:w,attach:y,primitive:!0})}else{const b=p_[_];if(!b)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");A=ud(new b(...m),{type:p,root:w,attach:y,memoizedProps:{args:m}})}return A.__r3f.attach===void 0&&(A instanceof Jt?A.__r3f.attach="geometry":A instanceof yr&&(A.__r3f.attach="material")),_!=="inject"&&Uv(A,v),A}function n(p,m){let y=!1;if(m){var v,w;(v=m.__r3f)!=null&&v.attach?zv(p,m,m.__r3f.attach):m.isObject3D&&p.isObject3D&&(p.add(m),y=!0),y||(w=p.__r3f)==null||w.objects.push(m),m.__r3f||ud(m,{}),m.__r3f.parent=p,h_(m),cd(m)}}function i(p,m,y){let v=!1;if(m){var w,_;if((w=m.__r3f)!=null&&w.attach)zv(p,m,m.__r3f.attach);else if(m.isObject3D&&p.isObject3D){m.parent=p,m.dispatchEvent({type:"added"});const A=p.children.filter(E=>E!==m),b=A.indexOf(y);p.children=[...A.slice(0,b),m,...A.slice(b)],v=!0}v||(_=p.__r3f)==null||_.objects.push(m),m.__r3f||ud(m,{}),m.__r3f.parent=p,h_(m),cd(m)}}function s(p,m,y=!1){p&&[...p].forEach(v=>o(m,v,y))}function o(p,m,y){if(m){var v,w,_;if(m.__r3f&&(m.__r3f.parent=null),(v=p.__r3f)!=null&&v.objects&&(p.__r3f.objects=p.__r3f.objects.filter(R=>R!==m)),(w=m.__r3f)!=null&&w.attach)LA(p,m,m.__r3f.attach);else if(m.isObject3D&&p.isObject3D){var A;p.remove(m),(A=m.__r3f)!=null&&A.root&&qF(m.__r3f.root,m)}const E=(_=m.__r3f)==null?void 0:_.primitive,T=y===void 0?m.dispose!==null&&!E:y;if(!E){var b;s((b=m.__r3f)==null?void 0:b.objects,m,T),s(m.children,m,T)}m.__r3f&&(delete m.__r3f.root,delete m.__r3f.objects,delete m.__r3f.handlers,delete m.__r3f.memoizedProps,E||delete m.__r3f),T&&m.dispose&&m.type!=="Scene"&&RA.unstable_scheduleCallback(RA.unstable_IdlePriority,()=>{try{m.dispose()}catch{}}),cd(p)}}function l(p,m,y,v){var w;const _=(w=p.__r3f)==null?void 0:w.parent;if(!_)return;const A=t(m,y,p.__r3f.root);if(p.children){for(const b of p.children)b.__r3f&&n(A,b);p.children=p.children.filter(b=>!b.__r3f)}p.__r3f.objects.forEach(b=>n(A,b)),p.__r3f.objects=[],p.__r3f.autoRemovedBeforeAppend||o(_,p),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),n(_,A),A.raycast&&A.__r3f.eventCount&&A.__r3f.root.getState().internal.interaction.push(A),[v,v.alternate].forEach(b=>{b!==null&&(b.stateNode=A,b.ref&&(typeof b.ref=="function"?b.ref(A):b.ref.current=A))})}const c=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:NF({createInstance:t,removeChild:o,appendChild:n,appendInitialChild:n,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(p,m)=>{if(!m)return;const y=p.getState().scene;y.__r3f&&(y.__r3f.root=p,n(y,m))},removeChildFromContainer:(p,m)=>{m&&o(p.getState().scene,m)},insertInContainerBefore:(p,m,y)=>{if(!m||!y)return;const v=p.getState().scene;v.__r3f&&i(v,m,y)},getRootHostContext:()=>null,getChildHostContext:p=>p,finalizeInitialChildren(p){var m;return!!((m=p==null?void 0:p.__r3f)!=null?m:{}).handlers},prepareUpdate(p,m,y,v){if(p.__r3f.primitive&&v.object&&v.object!==p)return[!0];{const{args:w=[],children:_,...A}=v,{args:b=[],children:E,...T}=y;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((L,O)=>L!==b[O]))return[!0];const R=QC(p,A,T,!0);return R.changes.length?[!1,R]:null}},commitUpdate(p,[m,y],v,w,_,A){m?l(p,v,_,A):Uv(p,y)},commitMount(p,m,y,v){var w;const _=(w=p.__r3f)!=null?w:{};p.raycast&&_.handlers&&_.eventCount&&p.__r3f.root.getState().internal.interaction.push(p)},getPublicInstance:p=>p,prepareForCommit:()=>null,preparePortalMount:p=>ud(p.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(p){var m;const{attach:y,parent:v}=(m=p.__r3f)!=null?m:{};y&&v&&LA(v,p,y),p.isObject3D&&(p.visible=!1),cd(p)},unhideInstance(p,m){var y;const{attach:v,parent:w}=(y=p.__r3f)!=null?y:{};v&&w&&zv(w,p,v),(p.isObject3D&&m.visible==null||m.visible)&&(p.visible=!0),cd(p)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e(),beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Zn.fun(performance.now)?performance.now:Zn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Zn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Zn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Uv}}const ZC=r=>!!(r!=null&&r.render),eT=k.createContext(null),nN=(r,e)=>{const t=iy((l,c)=>{const d=new W,p=new W,m=new W;function y(b=c().camera,E=p,T=c().size){const{width:R,height:L,top:O,left:F}=T,I=R/L;E instanceof W?m.copy(E):m.set(...E);const G=b.getWorldPosition(d).distanceTo(m);if(JC(b))return{width:R/b.zoom,height:L/b.zoom,top:O,left:F,factor:1,distance:G,aspect:I};{const V=b.fov*Math.PI/180,q=2*Math.tan(V/2)*G,ce=q*(R/L);return{width:ce,height:q,top:O,left:F,factor:R/ce,distance:G,aspect:I}}}let v;const w=b=>l(E=>({performance:{...E.performance,current:b}})),_=new Ie;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(b=1)=>r(c(),b),advance:(b,E)=>e(b,E,c()),legacy:!1,linear:!1,flat:!1,scene:ud(new s1),controls:null,clock:new T1,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=c();v&&clearTimeout(v),b.performance.current!==b.performance.min&&w(b.performance.min),v=setTimeout(()=>w(c().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:b=>l(E=>({...E,events:{...E.events,...b}})),setSize:(b,E,T,R,L)=>{const O=c().camera,F={width:b,height:E,top:R||0,left:L||0,updateStyle:T};l(I=>({size:F,viewport:{...I.viewport,...y(O,p,F)}}))},setDpr:b=>l(E=>{const T=YC(b);return{viewport:{...E.viewport,dpr:T,initialDpr:E.viewport.initialDpr||T}}}),setFrameloop:(b="always")=>{const E=c().clock;E.stop(),E.elapsedTime=0,b!=="never"&&(E.start(),E.elapsedTime=0),l(()=>({frameloop:b}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:k.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(b,E,T)=>{const R=c().internal;return R.priority=R.priority+(E>0?1:0),R.subscribers.push({ref:b,priority:E,store:T}),R.subscribers=R.subscribers.sort((L,O)=>L.priority-O.priority),()=>{const L=c().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(E>0?1:0),L.subscribers=L.subscribers.filter(O=>O.ref!==b))}}}}}),n=t.getState();let i=n.size,s=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:l,size:c,viewport:d,gl:p,set:m}=t.getState();(c!==i||d.dpr!==s)&&(i=c,s=d.dpr,KF(l,c),p.setPixelRatio(d.dpr),p.setSize(c.width,c.height,c.updateStyle)),l!==o&&(o=l,m(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>r(l)),t};let Xg,rN=new Set,iN=new Set,sN=new Set;function Hv(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function ip(r,e){switch(r){case"before":return Hv(rN,e);case"after":return Hv(iN,e);case"tail":return Hv(sN,e)}}let Gv,Vv;function Wv(r,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),Gv=e.internal.subscribers,Xg=0;Xg<Gv.length;Xg++)Vv=Gv[Xg],Vv.ref.current(Vv.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function oN(r){let e=!1,t,n,i;function s(c){n=requestAnimationFrame(s),e=!0,t=0,ip("before",c);for(const p of r.values()){var d;i=p.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((d=i.gl.xr)!=null&&d.isPresenting)&&(t+=Wv(c,i))}if(ip("after",c),t===0)return ip("tail",c),e=!1,cancelAnimationFrame(n)}function o(c,d=1){var p;if(!c)return r.forEach(m=>o(m.store.getState()),d);(p=c.gl.xr)!=null&&p.isPresenting||!c.internal.active||c.frameloop==="never"||(c.internal.frames=Math.min(60,c.internal.frames+d),e||(e=!0,requestAnimationFrame(s)))}function l(c,d=!0,p,m){if(d&&ip("before",c),p)Wv(c,p,m);else for(const y of r.values())Wv(c,y.store.getState());d&&ip("after",c)}return{loop:s,invalidate:o,advance:l}}function tT(){const r=k.useContext(eT);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function bi(r=t=>t,e){return tT()(r,e)}function su(r,e=0){const t=tT(),n=t.getState().internal.subscribe,i=$C(r);return rm(()=>n(i,e,t),[e,n,t]),null}function nT(r,e){return function(t,...n){const i=new t;return r&&r(i),Promise.all(n.map(s=>new Promise((o,l)=>i.load(s,c=>{c.scene&&Object.assign(c,$F(c.scene)),o(c)},e,c=>l(new Error(`Could not load ${s}: ${c.message})`))))))}}function im(r,e,t,n){const i=Array.isArray(e)?e:[e],s=HF(nT(t,n),[r,...i],{equal:Zn.equ});return Array.isArray(e)?s:s[0]}im.preload=function(r,e,t){const n=Array.isArray(e)?e:[e];return GF(nT(t),[r,...n])};im.clear=function(r,e){const t=Array.isArray(e)?e:[e];return VF([r,...t])};const Td=new Map,{invalidate:DA,advance:OA}=oN(Td),{reconciler:A0,applyProps:Kg}=tN(Td,QF),id={objects:"shallow",strict:!1},aN=(r,e)=>{const t=typeof r=="function"?r(e):r;return ZC(t)?t:new i1({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...r})};function lN(r){return r instanceof HTMLCanvasElement}function uN(r,e){if(e)return e;if(lN(r)&&r.parentElement){const{width:t,height:n,top:i,left:s}=r.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function cN(r){const e=Td.get(r),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=n||nN(DA,OA),o=t||A0.createContainer(s,fp.ConcurrentRoot,null,!1,null,"",i,null);e||Td.set(r,{fiber:o,store:s});let l,c=!1;return{configure(d={}){let{gl:p,size:m,events:y,onCreated:v,shadows:w=!1,linear:_=!1,flat:A=!1,legacy:b=!1,orthographic:E=!1,frameloop:T="always",dpr:R=[1,2],performance:L,raycaster:O,camera:F,onPointerMissed:I}=d,G=s.getState(),V=G.gl;G.gl||G.set({gl:V=aN(p,r)});let q=G.raycaster;q||G.set({raycaster:q=new GC});const{params:ce,...ee}=O||{};if(Zn.equ(ee,q,id)||Kg(q,{...ee}),Zn.equ(ce,q.params,id)||Kg(q,{params:{...q.params,...ce}}),!G.camera){const de=F instanceof Up,z=de?F:E?new Ua(0,0,0,0,.1,1e3):new tr(75,0,.1,1e3);de||(z.position.z=5,F&&Kg(z,F),F!=null&&F.rotation||z.lookAt(0,0,0)),G.set({camera:z})}if(!G.xr){const de=($,U)=>{const j=s.getState();j.frameloop!=="never"&&OA($,!0,j,U)},z=()=>{const $=s.getState();$.gl.xr.enabled=$.gl.xr.isPresenting,$.gl.xr.setAnimationLoop($.gl.xr.isPresenting?de:null),$.gl.xr.isPresenting||DA($)},K={connect(){const $=s.getState().gl;$.xr.addEventListener("sessionstart",z),$.xr.addEventListener("sessionend",z)},disconnect(){const $=s.getState().gl;$.xr.removeEventListener("sessionstart",z),$.xr.removeEventListener("sessionend",z)}};V.xr&&K.connect(),G.set({xr:K})}if(V.shadowMap){const de=Zn.boo(w);if(de&&V.shadowMap.enabled!==w||!Zn.equ(w,V.shadowMap,id)){const z=V.shadowMap.enabled;V.shadowMap.enabled=!!w,de?V.shadowMap.type=W_:Object.assign(V.shadowMap,w),z!==V.shadowMap.enabled&&(V.shadowMap.needsUpdate=!0)}}"ColorManagement"in S0&&YF(S0,b,["ColorManagement","legacyMode"]);const Z=_?Wa:Mn,le=A?po:$_;V.outputEncoding!==Z&&(V.outputEncoding=Z),V.toneMapping!==le&&(V.toneMapping=le),G.legacy!==b&&G.set(()=>({legacy:b})),G.linear!==_&&G.set(()=>({linear:_})),G.flat!==A&&G.set(()=>({flat:A})),p&&!Zn.fun(p)&&!ZC(p)&&!Zn.equ(p,V,id)&&Kg(V,p),y&&!G.events.handlers&&G.set({events:y(s)}),R&&G.viewport.dpr!==YC(R)&&G.setDpr(R);const he=uN(r,m);return Zn.equ(he,G.size,id)||G.setSize(he.width,he.height,he.updateStyle,he.top,he.left),G.frameloop!==T&&G.setFrameloop(T),G.onPointerMissed||G.set({onPointerMissed:I}),L&&!Zn.equ(L,G.performance,id)&&G.set(de=>({performance:{...de.performance,...L}})),l=v,c=!0,this},render(d){return c||this.configure(),A0.updateContainer(k.createElement(fN,{store:s,children:d,onCreated:l,rootElement:r}),o,null,()=>{}),s},unmount(){rT(r)}}}function fN({store:r,children:e,onCreated:t,rootElement:n}){return rm(()=>{const i=r.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),k.createElement(eT.Provider,{value:r},e)}function rT(r,e){const t=Td.get(r),n=t==null?void 0:t.fiber;if(n){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),A0.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var s,o,l,c;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),XF(i),Td.delete(r)}catch{}},500)})}}A0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:k.version});function Bp(){return Bp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Bp.apply(null,arguments)}var jv,kA;function dN(){if(kA)return jv;kA=1;function r(e,t,n){var i,s,o,l,c;t==null&&(t=100);function d(){var m=Date.now()-l;m<t&&m>=0?i=setTimeout(d,t-m):(i=null,n||(c=e.apply(o,s),o=s=null))}var p=function(){o=this,s=arguments,l=Date.now();var m=n&&!i;return i||(i=setTimeout(d,t)),m&&(c=e.apply(o,s),o=s=null),c};return p.clear=function(){i&&(clearTimeout(i),i=null)},p.flush=function(){i&&(c=e.apply(o,s),o=s=null,clearTimeout(i),i=null)},p}return r.debounce=r,jv=r,jv}var hN=dN();const FA=Dc(hN);function pN(r){let{debounce:e,scroll:t,polyfill:n,offsetSize:i}=r===void 0?{debounce:0,scroll:!1,offsetSize:!1}:r;const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,l]=k.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=k.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),d=e?typeof e=="number"?e:e.scroll:null,p=e?typeof e=="number"?e:e.resize:null,m=k.useRef(!1);k.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,v,w]=k.useMemo(()=>{const E=()=>{if(!c.current.element)return;const{left:T,top:R,width:L,height:O,bottom:F,right:I,x:G,y:V}=c.current.element.getBoundingClientRect(),q={left:T,top:R,width:L,height:O,bottom:F,right:I,x:G,y:V};c.current.element instanceof HTMLElement&&i&&(q.height=c.current.element.offsetHeight,q.width=c.current.element.offsetWidth),Object.freeze(q),m.current&&!vN(c.current.lastBounds,q)&&l(c.current.lastBounds=q)};return[E,p?FA(E,p):E,d?FA(E,d):E]},[l,i,d,p]);function _(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",w,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function A(){c.current.element&&(c.current.resizeObserver=new s(w),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(E=>E.addEventListener("scroll",w,{capture:!0,passive:!0})))}const b=E=>{!E||E===c.current.element||(_(),c.current.element=E,c.current.scrollContainers=iT(E),A())};return gN(w,!!t),mN(v),k.useEffect(()=>{_(),A()},[t,w,v]),k.useEffect(()=>_,[]),[b,o,y]}function mN(r){k.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function gN(r,e){k.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function iT(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(s=>s==="auto"||s==="scroll")&&e.push(r),[...e,...iT(r.parentElement)]}const yN=["x","y","top","bottom","left","right","width","height"],vN=(r,e)=>yN.every(t=>r[t]===e[t]);var xN=Object.defineProperty,_N=Object.defineProperties,wN=Object.getOwnPropertyDescriptors,NA=Object.getOwnPropertySymbols,SN=Object.prototype.hasOwnProperty,AN=Object.prototype.propertyIsEnumerable,zA=(r,e,t)=>e in r?xN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,UA=(r,e)=>{for(var t in e||(e={}))SN.call(e,t)&&zA(r,t,e[t]);if(NA)for(var t of NA(e))AN.call(e,t)&&zA(r,t,e[t]);return r},MN=(r,e)=>_N(r,wN(e)),HA,GA;typeof window<"u"&&((HA=window.document)!=null&&HA.createElement||((GA=window.navigator)==null?void 0:GA.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function sT(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=r.child;for(;n;){const i=sT(n,e,t);if(i)return i;n=n.sibling}}function oT(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const VA=console.error;console.error=function(){const r=[...arguments].join("");if(r!=null&&r.startsWith("Warning:")&&r.includes("useContext")){console.error=VA;return}return VA.apply(this,arguments)};const I1=oT(k.createContext(null));class aT extends k.Component{render(){return k.createElement(I1.Provider,{value:this._reactInternals},this.props.children)}}function bN(){const r=k.useContext(I1);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=k.useId();return k.useMemo(()=>{for(const n of[r,r==null?void 0:r.alternate]){if(!n)continue;const i=sT(n,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[r,e])}function EN(){const r=bN(),[e]=k.useState(()=>new Map);e.clear();let t=r;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==I1&&!e.has(i)&&e.set(i,k.useContext(oT(i)))}t=t.return}return e}function CN(){const r=EN();return k.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>k.createElement(e,null,k.createElement(t.Provider,MN(UA({},n),{value:r.get(t)}))),e=>k.createElement(aT,UA({},e))),[r])}const Jv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function TN(r){const{handlePointer:e}=ZF(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(Jv).reduce((t,n)=>({...t,[n]:e(n)}),{}),connect:t=>{var n;const{set:i,events:s}=r.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([o,l])=>{const[c,d]=Jv[o];t.addEventListener(c,l,{passive:d})})},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){var i;Object.entries((i=n.handlers)!=null?i:[]).forEach(([s,o])=>{if(n&&n.connected instanceof HTMLElement){const[l]=Jv[s];n.connected.removeEventListener(l,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const RN=k.forwardRef(function({children:e,fallback:t,resize:n,style:i,gl:s,events:o=TN,eventSource:l,eventPrefix:c,shadows:d,linear:p,flat:m,legacy:y,orthographic:v,frameloop:w,dpr:_,performance:A,raycaster:b,camera:E,onPointerMissed:T,onCreated:R,...L},O){k.useMemo(()=>eN(S0),[]);const F=CN(),[I,G]=pN({scroll:!0,debounce:{scroll:50,resize:0},...n}),V=k.useRef(null),q=k.useRef(null),[ce,ee]=k.useState(null);k.useImperativeHandle(O,()=>V.current);const Z=$C(T),[le,he]=k.useState(!1),[de,z]=k.useState(!1);if(le)throw le;if(de)throw de;const K=k.useRef(null);G.width>0&&G.height>0&&ce&&(K.current||(K.current=cN(ce)),K.current.configure({gl:s,events:o,shadows:d,linear:p,flat:m,legacy:y,orthographic:v,frameloop:w,dpr:_,performance:A,raycaster:b,camera:E,size:G,onPointerMissed:(...U)=>Z.current==null?void 0:Z.current(...U),onCreated:U=>{U.events.connect==null||U.events.connect(l?WF(l)?l.current:l:q.current),c&&U.setEvents({compute:(j,ge)=>{const _e=j[c+"X"],Pe=j[c+"Y"];ge.pointer.set(_e/ge.size.width*2-1,-(Pe/ge.size.height)*2+1),ge.raycaster.setFromCamera(ge.pointer,ge.camera)}}),R==null||R(U)}}),K.current.render(k.createElement(F,null,k.createElement(XC,{set:z},k.createElement(k.Suspense,{fallback:k.createElement(jF,{set:he})},e))))),rm(()=>{ee(V.current)},[]),k.useEffect(()=>{if(ce)return()=>rT(ce)},[ce]);const $=l?"none":"auto";return k.createElement("div",Bp({ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...i}},L),k.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},k.createElement("canvas",{ref:V,style:{display:"block"}},t)))}),sm=k.forwardRef(function(e,t){return k.createElement(aT,null,k.createElement(RN,Bp({},e,{ref:t})))});function PN(r,e,t){return Math.max(e,Math.min(r,t))}const ai={toVector(r,e){return r===void 0&&(r=e),Array.isArray(r)?r:[r,r]},add(r,e){return[r[0]+e[0],r[1]+e[1]]},sub(r,e){return[r[0]-e[0],r[1]-e[1]]},addTo(r,e){r[0]+=e[0],r[1]+=e[1]},subTo(r,e){r[0]-=e[0],r[1]-=e[1]}};function WA(r,e,t){return e===0||Math.abs(e)===1/0?Math.pow(r,t*5):r*e*t/(e+t*r)}function jA(r,e,t,n=.15){return n===0?PN(r,e,t):r<e?-WA(e-r,t-e,n)+e:r>t?+WA(r-t,t-e,n)+t:r}function BN(r,[e,t],[n,i]){const[[s,o],[l,c]]=r;return[jA(e,s,o,n),jA(t,l,c,i)]}function IN(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function LN(r){var e=IN(r,"string");return typeof e=="symbol"?e:String(e)}function Wi(r,e,t){return e=LN(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function JA(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Xn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(t),!0).forEach(function(n){Wi(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):JA(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const lT={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function $A(r){return r?r[0].toUpperCase()+r.slice(1):""}const DN=["enter","leave"];function ON(r=!1,e){return r&&!DN.includes(e)}function kN(r,e="",t=!1){const n=lT[r],i=n&&n[e]||e;return"on"+$A(r)+$A(i)+(ON(t,i)?"Capture":"")}const FN=["gotpointercapture","lostpointercapture"];function NN(r){let e=r.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const n=FN.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(n);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function zN(r,e=""){const t=lT[r],n=t&&t[e]||e;return r+n}function sy(r){return"touches"in r}function uT(r){return sy(r)?"touch":"pointerType"in r?r.pointerType:"mouse"}function UN(r){return Array.from(r.touches).filter(e=>{var t,n;return e.target===r.currentTarget||((t=r.currentTarget)===null||t===void 0||(n=t.contains)===null||n===void 0?void 0:n.call(t,e.target))})}function HN(r){return r.type==="touchend"||r.type==="touchcancel"?r.changedTouches:r.targetTouches}function cT(r){return sy(r)?HN(r)[0]:r}function GN(r){return UN(r).map(e=>e.identifier)}function $v(r){const e=cT(r);return sy(r)?e.identifier:e.pointerId}function XA(r){const e=cT(r);return[e.clientX,e.clientY]}function VN(r){const e={};if("buttons"in r&&(e.buttons=r.buttons),"shiftKey"in r){const{shiftKey:t,altKey:n,metaKey:i,ctrlKey:s}=r;Object.assign(e,{shiftKey:t,altKey:n,metaKey:i,ctrlKey:s})}return e}function M0(r,...e){return typeof r=="function"?r(...e):r}function WN(){}function jN(...r){return r.length===0?WN:r.length===1?r[0]:function(){let e;for(const t of r)e=t.apply(this,arguments)||e;return e}}function KA(r,e){return Object.assign({},e,r||{})}const JN=32;class $N{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:n,args:i}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?M0(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:n,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,VN(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const O=t._delta.map(Math.abs);ai.addTo(t._distance,O)}this.axisIntent&&this.axisIntent(e);const[o,l]=t._movement,[c,d]=n.threshold,{_step:p,values:m}=t;if(n.hasCustomTransform?(p[0]===!1&&(p[0]=Math.abs(o)>=c&&m[0]),p[1]===!1&&(p[1]=Math.abs(l)>=d&&m[1])):(p[0]===!1&&(p[0]=Math.abs(o)>=c&&Math.sign(o)*c),p[1]===!1&&(p[1]=Math.abs(l)>=d&&Math.sign(l)*d)),t.intentional=p[0]!==!1||p[1]!==!1,!t.intentional)return;const y=[0,0];if(n.hasCustomTransform){const[O,F]=m;y[0]=p[0]!==!1?O-p[0]:0,y[1]=p[1]!==!1?F-p[1]:0}else y[0]=p[0]!==!1?o-p[0]:0,y[1]=p[1]!==!1?l-p[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(y);const v=t.offset,w=t._active&&!t._blocked||t.active;w&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=M0(n.bounds,t)),this.setup&&this.setup()),t.movement=y,this.computeOffset()));const[_,A]=t.offset,[[b,E],[T,R]]=t._bounds;t.overflow=[_<b?-1:_>E?1:0,A<T?-1:A>R?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const L=t._active?n.rubberband||[0,0]:[0,0];if(t.offset=BN(t._bounds,t.offset,L),t.delta=ai.sub(t.offset,v),this.computeMovement(),w&&(!t.last||s>JN)){t.delta=ai.sub(t.offset,v);const O=t.delta.map(Math.abs);ai.addTo(t.distance,O),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[O[0]/s,O[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const i=this.handler(Xn(Xn(Xn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function XN([r,e],t){const n=Math.abs(r),i=Math.abs(e);if(n>i&&n>t)return"x";if(i>n&&i>t)return"y"}class KN extends $N{constructor(...e){super(...e),Wi(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ai.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ai.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,n=this.config;if(!t.axis&&e){const i=typeof n.axisThreshold=="object"?n.axisThreshold[uT(e)]:n.axisThreshold;t.axis=XN(t._movement,i)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const YN=r=>r,YA=.15,fT={enabled(r=!0){return r},eventOptions(r,e,t){return Xn(Xn({},t.shared.eventOptions),r)},preventDefault(r=!1){return r},triggerAllEvents(r=!1){return r},rubberband(r=0){switch(r){case!0:return[YA,YA];case!1:return[0,0];default:return ai.toVector(r)}},from(r){if(typeof r=="function")return r;if(r!=null)return ai.toVector(r)},transform(r,e,t){const n=r||t.shared.transform;return this.hasCustomTransform=!!n,n||YN},threshold(r){return ai.toVector(r,0)}},QN=0,om=Xn(Xn({},fT),{},{axis(r,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(r=QN){return r},bounds(r={}){if(typeof r=="function")return s=>om.bounds(r(s));if("current"in r)return()=>r.current;if(typeof HTMLElement=="function"&&r instanceof HTMLElement)return r;const{left:e=-1/0,right:t=1/0,top:n=-1/0,bottom:i=1/0}=r;return[[e,t],[n,i]]}}),QA={ArrowRight:(r,e=1)=>[r*e,0],ArrowLeft:(r,e=1)=>[-1*r*e,0],ArrowUp:(r,e=1)=>[0,-1*r*e],ArrowDown:(r,e=1)=>[0,r*e]};class qN extends KN{constructor(...e){super(...e),Wi(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),i={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=om.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,n=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&n._pointerActive)&&(this.start(e),this.setupPointer(e),n._pointerId=$v(e),n._pointerActive=!0,this.computeValues(XA(e)),this.computeInitial(),t.preventScrollAxis&&uT(e)!=="mouse"?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,n=this.config;if(!t._pointerActive)return;const i=$v(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=XA(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ai.sub(s,t._values),this.computeValues(s)),ai.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(n.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,n=this.config;if(!t._active||!t._pointerActive)return;const i=$v(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=n.tapsThreshold&&o<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{const[l,c]=t._delta,[d,p]=t._movement,[m,y]=n.swipe.velocity,[v,w]=n.swipe.distance,_=n.swipe.duration;if(t.elapsedTime<_){const A=Math.abs(l/t.timeDelta),b=Math.abs(c/t.timeDelta);A>m&&Math.abs(d)>v&&(t.swipe[0]=Math.sign(l)),b>y&&Math.abs(p)>w&&(t.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,ZN(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=QA[e.key];if(t){const n=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,i),n._keyboardActive=!0,ai.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in QA&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function ZN(r){"persist"in r&&typeof r.persist=="function"&&r.persist()}const am=typeof window<"u"&&window.document&&window.document.createElement;function dT(){return am&&"ontouchstart"in window}function ez(){return dT()||am&&window.navigator.maxTouchPoints>1}function tz(){return am&&"onpointerdown"in window}function nz(){return am&&"exitPointerLock"in window.document}function rz(){try{return"constructor"in GestureEvent}catch{return!1}}const Es={isBrowser:am,gesture:rz(),touch:dT(),touchscreen:ez(),pointer:tz(),pointerLock:nz()},iz=250,sz=180,oz=.5,az=50,lz=250,uz=10,qA={mouse:0,touch:0,pen:8},cz=Xn(Xn({},om),{},{device(r,e,{pointer:{touch:t=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&Es.pointerLock,Es.touch&&t?"touch":this.pointerLock?"mouse":Es.pointer&&!i?"pointer":Es.touch?"touch":"mouse"},preventScrollAxis(r,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&r?iz:void 0,!(!Es.touchscreen||t===!1))return r||(t!==void 0?"y":void 0)},pointerCapture(r,e,{pointer:{capture:t=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(r,e,{filterTaps:t=!1,tapsThreshold:n=3,axis:i=void 0}){const s=ai.toVector(r,t?n:i?1:0);return this.filterTaps=t,this.tapsThreshold=n,s},swipe({velocity:r=oz,distance:e=az,duration:t=lz}={}){return{velocity:this.transform(ai.toVector(r)),distance:this.transform(ai.toVector(e)),duration:t}},delay(r=0){switch(r){case!0:return sz;case!1:return 0;default:return r}},axisThreshold(r){return r?Xn(Xn({},qA),r):qA},keyboardDisplacement(r=uz){return r}});Xn(Xn({},fT),{},{device(r,e,{shared:t,pointer:{touch:n=!1}={}}){if(t.target&&!Es.touch&&Es.gesture)return"gesture";if(Es.touch&&n)return"touch";if(Es.touchscreen){if(Es.pointer)return"pointer";if(Es.touch)return"touch"}},bounds(r,e,{scaleBounds:t={},angleBounds:n={}}){const i=o=>{const l=KA(M0(t,o),{min:-1/0,max:1/0});return[l.min,l.max]},s=o=>{const l=KA(M0(n,o),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof t!="function"&&typeof n!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(r,e,t){return this.lockDirection=t.axis==="lock",ai.toVector(r,this.lockDirection?[.1,3]:0)},modifierKey(r){return r===void 0?"ctrlKey":r},pinchOnWheel(r=!0){return r}});Xn(Xn({},om),{},{mouseOnly:(r=!0)=>r});Xn(Xn({},om),{},{mouseOnly:(r=!0)=>r});const hT=new Map,m_=new Map;function fz(r){hT.set(r.key,r.engine),m_.set(r.key,r.resolver)}const dz={key:"drag",engine:qN,resolver:cz};function hz(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function pz(r,e){if(r==null)return{};var t=hz(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}const mz={target(r){if(r)return()=>"current"in r?r.current:r},enabled(r=!0){return r},window(r=Es.isBrowser?window:void 0){return r},eventOptions({passive:r=!0,capture:e=!1}={}){return{passive:r,capture:e}},transform(r){return r}},gz=["target","eventOptions","window","enabled","transform"];function p0(r={},e){const t={};for(const[n,i]of Object.entries(e))switch(typeof i){case"function":t[n]=i.call(t,r[n],n,r);break;case"object":t[n]=p0(r[n],i);break;case"boolean":i&&(t[n]=r[n]);break}return t}function yz(r,e,t={}){const n=r,{target:i,eventOptions:s,window:o,enabled:l,transform:c}=n,d=pz(n,gz);if(t.shared=p0({target:i,eventOptions:s,window:o,enabled:l,transform:c},mz),e){const p=m_.get(e);t[e]=p0(Xn({shared:t.shared},d),p)}else for(const p in d){const m=m_.get(p);m&&(t[p]=p0(Xn({shared:t.shared},d[p]),m))}return t}class pT{constructor(e,t){Wi(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,i,s){const o=this._listeners,l=zN(t,n),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=Xn(Xn({},c),s);e.addEventListener(l,i,d);const p=()=>{e.removeEventListener(l,i,d),o.delete(p)};return o.add(p),p}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class vz{constructor(){Wi(this,"_timeouts",new Map)}add(e,t,n=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class xz{constructor(e){Wi(this,"gestures",new Set),Wi(this,"_targetEventStore",new pT(this)),Wi(this,"gestureEventStores",{}),Wi(this,"gestureTimeoutStores",{}),Wi(this,"handlers",{}),Wi(this,"config",{}),Wi(this,"pointerIds",new Set),Wi(this,"touchIds",new Set),Wi(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),_z(this,e)}setEventIds(e){if(sy(e))return this.touchIds=new Set(GN(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=yz(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,n={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const l=this.config[o],c=ZA(n,l.eventOptions,!!i);if(l.enabled){const d=hT.get(o);new d(this,e,o).bind(c)}}const s=ZA(n,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",l=>this.nativeHandlers[o](Xn(Xn({},this.state.shared),{},{event:l,args:e})),void 0,!0)}for(const s in n)n[s]=jN(...n[s]);if(!i)return n;for(const s in n){const{device:o,capture:l,passive:c}=NN(s);this._targetEventStore.add(i,o,"",n[s],{capture:l,passive:c})}}}}function sd(r,e){r.gestures.add(e),r.gestureEventStores[e]=new pT(r,e),r.gestureTimeoutStores[e]=new vz}function _z(r,e){e.drag&&sd(r,"drag"),e.wheel&&sd(r,"wheel"),e.scroll&&sd(r,"scroll"),e.move&&sd(r,"move"),e.pinch&&sd(r,"pinch"),e.hover&&sd(r,"hover")}const ZA=(r,e,t)=>(n,i,s,o={},l=!1)=>{var c,d;const p=(c=o.capture)!==null&&c!==void 0?c:e.capture,m=(d=o.passive)!==null&&d!==void 0?d:e.passive;let y=l?n:kN(n,i,p);t&&m&&(y+="Passive"),r[y]=r[y]||[],r[y].push(s)};function wz(r,e={},t,n){const i=te.useMemo(()=>new xz(r),[]);if(i.applyHandlers(r,n),i.applyConfig(e,t),te.useEffect(i.effect.bind(i)),te.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Sz(r,e){return fz(dz),wz({drag:r},e||{},"drag")}const Az=r=>(e,t,n)=>{const i=n.subscribe;return n.subscribe=(o,l,c)=>{let d=o;if(l){const p=(c==null?void 0:c.equalityFn)||Object.is;let m=o(n.getState());d=y=>{const v=o(y);if(!p(m,v)){const w=m;l(m=v,w)}},c!=null&&c.fireImmediately&&l(m,m)}return i(d)},r(e,t,n)},Mz=parseInt(kp.replace(/\D+/g,""));function eM(r,e){if(e===FE)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===x0||e===Y_){let t=r.getIndex();if(t===null){const o=[],l=r.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)o.push(c);r.setIndex(o),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(t)if(e===x0)for(let o=1;o<=n;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=r.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}var bz=Object.defineProperty,Ez=(r,e,t)=>e in r?bz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cz=(r,e,t)=>(Ez(r,e+"",t),t);class Tz{constructor(){Cz(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var Rz=Object.defineProperty,Pz=(r,e,t)=>e in r?Rz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pt=(r,e,t)=>(Pz(r,typeof e!="symbol"?e+"":e,t),t);const Yg=new Ld,tM=new Ia,Bz=Math.cos(70*(Math.PI/180)),nM=(r,e)=>(r%e+e)%e;let Iz=class extends Tz{constructor(e,t){super(),Pt(this,"object"),Pt(this,"domElement"),Pt(this,"enabled",!0),Pt(this,"target",new W),Pt(this,"minDistance",0),Pt(this,"maxDistance",1/0),Pt(this,"minZoom",0),Pt(this,"maxZoom",1/0),Pt(this,"minPolarAngle",0),Pt(this,"maxPolarAngle",Math.PI),Pt(this,"minAzimuthAngle",-1/0),Pt(this,"maxAzimuthAngle",1/0),Pt(this,"enableDamping",!1),Pt(this,"dampingFactor",.05),Pt(this,"enableZoom",!0),Pt(this,"zoomSpeed",1),Pt(this,"enableRotate",!0),Pt(this,"rotateSpeed",1),Pt(this,"enablePan",!0),Pt(this,"panSpeed",1),Pt(this,"screenSpacePanning",!0),Pt(this,"keyPanSpeed",7),Pt(this,"zoomToCursor",!1),Pt(this,"autoRotate",!1),Pt(this,"autoRotateSpeed",2),Pt(this,"reverseOrbit",!1),Pt(this,"reverseHorizontalOrbit",!1),Pt(this,"reverseVerticalOrbit",!1),Pt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Pt(this,"mouseButtons",{LEFT:ic.ROTATE,MIDDLE:ic.DOLLY,RIGHT:ic.PAN}),Pt(this,"touches",{ONE:sc.ROTATE,TWO:sc.DOLLY_PAN}),Pt(this,"target0"),Pt(this,"position0"),Pt(this,"zoom0"),Pt(this,"_domElementKeyEvents",null),Pt(this,"getPolarAngle"),Pt(this,"getAzimuthalAngle"),Pt(this,"setPolarAngle"),Pt(this,"setAzimuthalAngle"),Pt(this,"getDistance"),Pt(this,"getZoomScale"),Pt(this,"listenToKeyEvents"),Pt(this,"stopListenToKeyEvents"),Pt(this,"saveState"),Pt(this,"reset"),Pt(this,"update"),Pt(this,"connect"),Pt(this,"dispose"),Pt(this,"dollyIn"),Pt(this,"dollyOut"),Pt(this,"getScale"),Pt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=re=>{let De=nM(re,2*Math.PI),nt=p.phi;nt<0&&(nt+=2*Math.PI),De<0&&(De+=2*Math.PI);let ne=Math.abs(De-nt);2*Math.PI-ne<ne&&(De<nt?De+=2*Math.PI:nt+=2*Math.PI),m.phi=De-nt,n.update()},this.setAzimuthalAngle=re=>{let De=nM(re,2*Math.PI),nt=p.theta;nt<0&&(nt+=2*Math.PI),De<0&&(De+=2*Math.PI);let ne=Math.abs(De-nt);2*Math.PI-ne<ne&&(De<nt?De+=2*Math.PI:nt+=2*Math.PI),m.theta=De-nt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=re=>{re.addEventListener("keydown",pt),this._domElementKeyEvents=re},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",pt),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),c=l.NONE},this.update=(()=>{const re=new W,De=new W(0,1,0),nt=new zr().setFromUnitVectors(e.up,De),ne=nt.clone().invert(),we=new W,Oe=new zr,Xe=2*Math.PI;return function(){const Kt=n.object.position;nt.setFromUnitVectors(e.up,De),ne.copy(nt).invert(),re.copy(Kt).sub(n.target),re.applyQuaternion(nt),p.setFromVector3(re),n.autoRotate&&c===l.NONE&&Z(ce()),n.enableDamping?(p.theta+=m.theta*n.dampingFactor,p.phi+=m.phi*n.dampingFactor):(p.theta+=m.theta,p.phi+=m.phi);let an=n.minAzimuthAngle,mn=n.maxAzimuthAngle;isFinite(an)&&isFinite(mn)&&(an<-Math.PI?an+=Xe:an>Math.PI&&(an-=Xe),mn<-Math.PI?mn+=Xe:mn>Math.PI&&(mn-=Xe),an<=mn?p.theta=Math.max(an,Math.min(mn,p.theta)):p.theta=p.theta>(an+mn)/2?Math.max(an,p.theta):Math.min(mn,p.theta)),p.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,p.phi)),p.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(v,n.dampingFactor):n.target.add(v),n.zoomToCursor&&G||n.object.isOrthographicCamera?p.radius=ge(p.radius):p.radius=ge(p.radius*y),re.setFromSpherical(p),re.applyQuaternion(ne),Kt.copy(n.target).add(re),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(m.theta*=1-n.dampingFactor,m.phi*=1-n.dampingFactor,v.multiplyScalar(1-n.dampingFactor)):(m.set(0,0,0),v.set(0,0,0));let vr=!1;if(n.zoomToCursor&&G){let Zt=null;if(n.object instanceof tr&&n.object.isPerspectiveCamera){const rr=re.length();Zt=ge(rr*y);const In=rr-Zt;n.object.position.addScaledVector(F,In),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const rr=new W(I.x,I.y,0);rr.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/y)),n.object.updateProjectionMatrix(),vr=!0;const In=new W(I.x,I.y,0);In.unproject(n.object),n.object.position.sub(In).add(rr),n.object.updateMatrixWorld(),Zt=re.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Zt!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Zt).add(n.object.position):(Yg.origin.copy(n.object.position),Yg.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(Yg.direction))<Bz?e.lookAt(n.target):(tM.setFromNormalAndCoplanarPoint(n.object.up,n.target),Yg.intersectPlane(tM,n.target))))}else n.object instanceof Ua&&n.object.isOrthographicCamera&&(vr=y!==1,vr&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/y)),n.object.updateProjectionMatrix()));return y=1,G=!1,vr||we.distanceToSquared(n.object.position)>d||8*(1-Oe.dot(n.object.quaternion))>d?(n.dispatchEvent(i),we.copy(n.object.position),Oe.copy(n.object.quaternion),vr=!1,!0):!1}})(),this.connect=re=>{n.domElement=re,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",at),n.domElement.addEventListener("pointerdown",Y),n.domElement.addEventListener("pointercancel",ae),n.domElement.addEventListener("wheel",We)},this.dispose=()=>{var re,De,nt,ne,we,Oe;n.domElement&&(n.domElement.style.touchAction="auto"),(re=n.domElement)==null||re.removeEventListener("contextmenu",at),(De=n.domElement)==null||De.removeEventListener("pointerdown",Y),(nt=n.domElement)==null||nt.removeEventListener("pointercancel",ae),(ne=n.domElement)==null||ne.removeEventListener("wheel",We),(we=n.domElement)==null||we.ownerDocument.removeEventListener("pointermove",H),(Oe=n.domElement)==null||Oe.ownerDocument.removeEventListener("pointerup",ae),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",pt)};const n=this,i={type:"change"},s={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const d=1e-6,p=new f_,m=new f_;let y=1;const v=new W,w=new Ie,_=new Ie,A=new Ie,b=new Ie,E=new Ie,T=new Ie,R=new Ie,L=new Ie,O=new Ie,F=new W,I=new Ie;let G=!1;const V=[],q={};function ce(){return 2*Math.PI/60/60*n.autoRotateSpeed}function ee(){return Math.pow(.95,n.zoomSpeed)}function Z(re){n.reverseOrbit||n.reverseHorizontalOrbit?m.theta+=re:m.theta-=re}function le(re){n.reverseOrbit||n.reverseVerticalOrbit?m.phi+=re:m.phi-=re}const he=(()=>{const re=new W;return function(nt,ne){re.setFromMatrixColumn(ne,0),re.multiplyScalar(-nt),v.add(re)}})(),de=(()=>{const re=new W;return function(nt,ne){n.screenSpacePanning===!0?re.setFromMatrixColumn(ne,1):(re.setFromMatrixColumn(ne,0),re.crossVectors(n.object.up,re)),re.multiplyScalar(nt),v.add(re)}})(),z=(()=>{const re=new W;return function(nt,ne){const we=n.domElement;if(we&&n.object instanceof tr&&n.object.isPerspectiveCamera){const Oe=n.object.position;re.copy(Oe).sub(n.target);let Xe=re.length();Xe*=Math.tan(n.object.fov/2*Math.PI/180),he(2*nt*Xe/we.clientHeight,n.object.matrix),de(2*ne*Xe/we.clientHeight,n.object.matrix)}else we&&n.object instanceof Ua&&n.object.isOrthographicCamera?(he(nt*(n.object.right-n.object.left)/n.object.zoom/we.clientWidth,n.object.matrix),de(ne*(n.object.top-n.object.bottom)/n.object.zoom/we.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function K(re){n.object instanceof tr&&n.object.isPerspectiveCamera||n.object instanceof Ua&&n.object.isOrthographicCamera?y=re:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function $(re){K(y/re)}function U(re){K(y*re)}function j(re){if(!n.zoomToCursor||!n.domElement)return;G=!0;const De=n.domElement.getBoundingClientRect(),nt=re.clientX-De.left,ne=re.clientY-De.top,we=De.width,Oe=De.height;I.x=nt/we*2-1,I.y=-(ne/Oe)*2+1,F.set(I.x,I.y,1).unproject(n.object).sub(n.object.position).normalize()}function ge(re){return Math.max(n.minDistance,Math.min(n.maxDistance,re))}function _e(re){w.set(re.clientX,re.clientY)}function Pe(re){j(re),R.set(re.clientX,re.clientY)}function fe(re){b.set(re.clientX,re.clientY)}function Ve(re){_.set(re.clientX,re.clientY),A.subVectors(_,w).multiplyScalar(n.rotateSpeed);const De=n.domElement;De&&(Z(2*Math.PI*A.x/De.clientHeight),le(2*Math.PI*A.y/De.clientHeight)),w.copy(_),n.update()}function ke(re){L.set(re.clientX,re.clientY),O.subVectors(L,R),O.y>0?$(ee()):O.y<0&&U(ee()),R.copy(L),n.update()}function Ye(re){E.set(re.clientX,re.clientY),T.subVectors(E,b).multiplyScalar(n.panSpeed),z(T.x,T.y),b.copy(E),n.update()}function Ue(re){j(re),re.deltaY<0?U(ee()):re.deltaY>0&&$(ee()),n.update()}function ht(re){let De=!1;switch(re.code){case n.keys.UP:z(0,n.keyPanSpeed),De=!0;break;case n.keys.BOTTOM:z(0,-n.keyPanSpeed),De=!0;break;case n.keys.LEFT:z(n.keyPanSpeed,0),De=!0;break;case n.keys.RIGHT:z(-n.keyPanSpeed,0),De=!0;break}De&&(re.preventDefault(),n.update())}function Te(){if(V.length==1)w.set(V[0].pageX,V[0].pageY);else{const re=.5*(V[0].pageX+V[1].pageX),De=.5*(V[0].pageY+V[1].pageY);w.set(re,De)}}function Ae(){if(V.length==1)b.set(V[0].pageX,V[0].pageY);else{const re=.5*(V[0].pageX+V[1].pageX),De=.5*(V[0].pageY+V[1].pageY);b.set(re,De)}}function Ge(){const re=V[0].pageX-V[1].pageX,De=V[0].pageY-V[1].pageY,nt=Math.sqrt(re*re+De*De);R.set(0,nt)}function et(){n.enableZoom&&Ge(),n.enablePan&&Ae()}function $e(){n.enableZoom&&Ge(),n.enableRotate&&Te()}function At(re){if(V.length==1)_.set(re.pageX,re.pageY);else{const nt=ft(re),ne=.5*(re.pageX+nt.x),we=.5*(re.pageY+nt.y);_.set(ne,we)}A.subVectors(_,w).multiplyScalar(n.rotateSpeed);const De=n.domElement;De&&(Z(2*Math.PI*A.x/De.clientHeight),le(2*Math.PI*A.y/De.clientHeight)),w.copy(_)}function gt(re){if(V.length==1)E.set(re.pageX,re.pageY);else{const De=ft(re),nt=.5*(re.pageX+De.x),ne=.5*(re.pageY+De.y);E.set(nt,ne)}T.subVectors(E,b).multiplyScalar(n.panSpeed),z(T.x,T.y),b.copy(E)}function lt(re){const De=ft(re),nt=re.pageX-De.x,ne=re.pageY-De.y,we=Math.sqrt(nt*nt+ne*ne);L.set(0,we),O.set(0,Math.pow(L.y/R.y,n.zoomSpeed)),$(O.y),R.copy(L)}function Gt(re){n.enableZoom&&lt(re),n.enablePan&&gt(re)}function Nt(re){n.enableZoom&&lt(re),n.enableRotate&&At(re)}function Y(re){var De,nt;n.enabled!==!1&&(V.length===0&&((De=n.domElement)==null||De.ownerDocument.addEventListener("pointermove",H),(nt=n.domElement)==null||nt.ownerDocument.addEventListener("pointerup",ae)),St(re),re.pointerType==="touch"?Qe(re):Le(re))}function H(re){n.enabled!==!1&&(re.pointerType==="touch"?Ce(re):Fe(re))}function ae(re){var De,nt,ne;st(re),V.length===0&&((De=n.domElement)==null||De.releasePointerCapture(re.pointerId),(nt=n.domElement)==null||nt.ownerDocument.removeEventListener("pointermove",H),(ne=n.domElement)==null||ne.ownerDocument.removeEventListener("pointerup",ae)),n.dispatchEvent(o),c=l.NONE}function Le(re){let De;switch(re.button){case 0:De=n.mouseButtons.LEFT;break;case 1:De=n.mouseButtons.MIDDLE;break;case 2:De=n.mouseButtons.RIGHT;break;default:De=-1}switch(De){case ic.DOLLY:if(n.enableZoom===!1)return;Pe(re),c=l.DOLLY;break;case ic.ROTATE:if(re.ctrlKey||re.metaKey||re.shiftKey){if(n.enablePan===!1)return;fe(re),c=l.PAN}else{if(n.enableRotate===!1)return;_e(re),c=l.ROTATE}break;case ic.PAN:if(re.ctrlKey||re.metaKey||re.shiftKey){if(n.enableRotate===!1)return;_e(re),c=l.ROTATE}else{if(n.enablePan===!1)return;fe(re),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(s)}function Fe(re){if(n.enabled!==!1)switch(c){case l.ROTATE:if(n.enableRotate===!1)return;Ve(re);break;case l.DOLLY:if(n.enableZoom===!1)return;ke(re);break;case l.PAN:if(n.enablePan===!1)return;Ye(re);break}}function We(re){n.enabled===!1||n.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(re.preventDefault(),n.dispatchEvent(s),Ue(re),n.dispatchEvent(o))}function pt(re){n.enabled===!1||n.enablePan===!1||ht(re)}function Qe(re){switch(yt(re),V.length){case 1:switch(n.touches.ONE){case sc.ROTATE:if(n.enableRotate===!1)return;Te(),c=l.TOUCH_ROTATE;break;case sc.PAN:if(n.enablePan===!1)return;Ae(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(n.touches.TWO){case sc.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;et(),c=l.TOUCH_DOLLY_PAN;break;case sc.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;$e(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(s)}function Ce(re){switch(yt(re),c){case l.TOUCH_ROTATE:if(n.enableRotate===!1)return;At(re),n.update();break;case l.TOUCH_PAN:if(n.enablePan===!1)return;gt(re),n.update();break;case l.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Gt(re),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Nt(re),n.update();break;default:c=l.NONE}}function at(re){n.enabled!==!1&&re.preventDefault()}function St(re){V.push(re)}function st(re){delete q[re.pointerId];for(let De=0;De<V.length;De++)if(V[De].pointerId==re.pointerId){V.splice(De,1);return}}function yt(re){let De=q[re.pointerId];De===void 0&&(De=new Ie,q[re.pointerId]=De),De.set(re.pageX,re.pageY)}function ft(re){const De=re.pointerId===V[0].pointerId?V[1]:V[0];return q[De.pointerId]}this.dollyIn=(re=ee())=>{U(re),n.update()},this.dollyOut=(re=ee())=>{$(re),n.update()},this.getScale=()=>y,this.setScale=re=>{K(re),n.update()},this.getZoomScale=()=>ee(),t!==void 0&&this.connect(t),this.update()}};function b0(r){if(typeof TextDecoder<"u")return new TextDecoder().decode(r);let e="";for(let t=0,n=r.length;t<n;t++)e+=String.fromCharCode(r[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const hc="srgb",Ha="srgb-linear",rM=3001,Lz=3e3;class L1 extends Ti{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Nz(t)}),this.register(function(t){return new zz(t)}),this.register(function(t){return new Xz(t)}),this.register(function(t){return new Kz(t)}),this.register(function(t){return new Yz(t)}),this.register(function(t){return new Hz(t)}),this.register(function(t){return new Gz(t)}),this.register(function(t){return new Vz(t)}),this.register(function(t){return new Wz(t)}),this.register(function(t){return new Fz(t)}),this.register(function(t){return new jz(t)}),this.register(function(t){return new Uz(t)}),this.register(function(t){return new $z(t)}),this.register(function(t){return new Jz(t)}),this.register(function(t){return new Oz(t)}),this.register(function(t){return new Qz(t)}),this.register(function(t){return new qz(t)})}load(e,t,n,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const d=Vl.extractUrlBase(e);o=Vl.resolveURL(d,this.path)}else o=Vl.extractUrlBase(e);this.manager.itemStart(e);const l=function(d){i?i(d):console.error(d),s.manager.itemError(e),s.manager.itemEnd(e)},c=new ds(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){try{s.parse(d,o,function(p){t(p),s.manager.itemEnd(e)},l)}catch(p){l(p)}},n,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let s;const o={},l={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(b0(new Uint8Array(e.slice(0,4)))===mT){try{o[tn.KHR_BINARY_GLTF]=new Zz(e)}catch(p){i&&i(p);return}s=JSON.parse(o[tn.KHR_BINARY_GLTF].content)}else s=JSON.parse(b0(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new dU(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const p=this.pluginCallbacks[d](c);p.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[p.name]=p,o[p.name]=!0}if(s.extensionsUsed)for(let d=0;d<s.extensionsUsed.length;++d){const p=s.extensionsUsed[d],m=s.extensionsRequired||[];switch(p){case tn.KHR_MATERIALS_UNLIT:o[p]=new kz;break;case tn.KHR_DRACO_MESH_COMPRESSION:o[p]=new eU(s,this.dracoLoader);break;case tn.KHR_TEXTURE_TRANSFORM:o[p]=new tU;break;case tn.KHR_MESH_QUANTIZATION:o[p]=new nU;break;default:m.indexOf(p)>=0&&l[p]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}c.setExtensions(o),c.setPlugins(l),c.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,s){n.parse(e,t,i,s)})}}function Dz(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const tn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Oz{constructor(e){this.parser=e,this.name=tn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const s=t.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let d;const p=new tt(16777215);c.color!==void 0&&p.setRGB(c.color[0],c.color[1],c.color[2],Ha);const m=c.range!==void 0?c.range:0;switch(c.type){case"directional":d=new E1(p),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new b1(p),d.distance=m;break;case"spot":d=new M1(p),d.distance=m,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,d.angle=c.spot.outerConeAngle,d.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return d.position.set(0,0,0),d.decay=2,Ba(d,c),c.intensity!==void 0&&(d.intensity=c.intensity),d.name=t.createUniqueName(c.name||"light_"+e),i=Promise.resolve(d),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],l=(s.extensions&&s.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return n._getNodeRef(t.cache,l,c)})}}class kz{constructor(){this.name=tn.KHR_MATERIALS_UNLIT}getMaterialType(){return ls}extendParams(e,t,n){const i=[];e.color=new tt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Ha),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",s.baseColorTexture,hc))}return Promise.all(i)}}class Fz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Nz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const l=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ie(l,l)}return Promise.all(s)}}class zz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Uz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Hz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new tt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const l=o.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],Ha)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,hc)),o.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Gz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Vz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const l=o.attenuationColor||[1,1,1];return t.attenuationColor=new tt().setRGB(l[0],l[1],l[2],Ha),Promise.all(s)}}class Wz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class jz{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const l=o.specularColorFactor||[1,1,1];return t.specularColor=new tt().setRGB(l[0],l[1],l[2],Ha),o.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,hc)),Promise.all(s)}}class Jz{constructor(e){this.parser=e,this.name=tn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class $z{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ps}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Xz{constructor(e){this.parser=e,this.name=tn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Kz{constructor(e){this.parser=e,this.name=tn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],l=i.images[o.source];let c=n.textureLoader;if(l.uri){const d=n.options.manager.getHandler(l.uri);d!==null&&(c=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,o.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Yz{constructor(e){this.parser=e,this.name=tn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],l=i.images[o.source];let c=n.textureLoader;if(l.uri){const d=n.options.manager.getHandler(l.uri);d!==null&&(c=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,o.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Qz{constructor(e){this.name=tn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(l){const c=i.byteOffset||0,d=i.byteLength||0,p=i.count,m=i.byteStride,y=new Uint8Array(l,c,d);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(p,m,y,i.mode,i.filter).then(function(v){return v.buffer}):o.ready.then(function(){const v=new ArrayBuffer(p*m);return o.decodeGltfBuffer(new Uint8Array(v),p,m,y,i.mode,i.filter),v})})}else return null}}class qz{constructor(e){this.name=tn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const d of i.primitives)if(d.mode!==Ms.TRIANGLES&&d.mode!==Ms.TRIANGLE_STRIP&&d.mode!==Ms.TRIANGLE_FAN&&d.mode!==void 0)return null;const o=n.extensions[this.name].attributes,l=[],c={};for(const d in o)l.push(this.parser.getDependency("accessor",o[d]).then(p=>(c[d]=p,c[d])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(d=>{const p=d.pop(),m=p.isGroup?p.children:[p],y=d[0].count,v=[];for(const w of m){const _=new It,A=new W,b=new zr,E=new W(1,1,1),T=new l1(w.geometry,w.material,y);for(let R=0;R<y;R++)c.TRANSLATION&&A.fromBufferAttribute(c.TRANSLATION,R),c.ROTATION&&b.fromBufferAttribute(c.ROTATION,R),c.SCALE&&E.fromBufferAttribute(c.SCALE,R),T.setMatrixAt(R,_.compose(A,b,E));for(const R in c)if(R==="_COLOR_0"){const L=c[R];T.instanceColor=new Ec(L.array,L.itemSize,L.normalized)}else R!=="TRANSLATION"&&R!=="ROTATION"&&R!=="SCALE"&&w.geometry.setAttribute(R,c[R]);on.prototype.copy.call(T,w),this.parser.assignFinalMaterial(T),v.push(T)}return p.isGroup?(p.clear(),p.add(...v),p):v[0]}))}}const mT="glTF",sp=12,iM={JSON:1313821514,BIN:5130562};class Zz{constructor(e){this.name=tn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,sp);if(this.header={magic:b0(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==mT)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-sp,i=new DataView(e,sp);let s=0;for(;s<n;){const o=i.getUint32(s,!0);s+=4;const l=i.getUint32(s,!0);if(s+=4,l===iM.JSON){const c=new Uint8Array(e,sp+s,o);this.content=b0(c)}else if(l===iM.BIN){const c=sp+s;this.body=e.slice(c,c+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class eU{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=tn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,l={},c={},d={};for(const p in o){const m=g_[p]||p.toLowerCase();l[m]=o[p]}for(const p in e.attributes){const m=g_[p]||p.toLowerCase();if(o[p]!==void 0){const y=n.accessors[e.attributes[p]],v=xd[y.componentType];d[m]=v.name,c[m]=y.normalized===!0}}return t.getDependency("bufferView",s).then(function(p){return new Promise(function(m,y){i.decodeDracoFile(p,function(v){for(const w in v.attributes){const _=v.attributes[w],A=c[w];A!==void 0&&(_.normalized=A)}m(v)},l,d,Ha,y)})})}}class tU{constructor(){this.name=tn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class nU{constructor(){this.name=tn.KHR_MESH_QUANTIZATION}}class gT extends Ud{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=n[s+o];return t}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=l*2,d=l*3,p=i-t,m=(n-t)/p,y=m*m,v=y*m,w=e*d,_=w-d,A=-2*v+3*y,b=v-y,E=1-A,T=b-y+m;for(let R=0;R!==l;R++){const L=o[_+R+l],O=o[_+R+c]*p,F=o[w+R+l],I=o[w+R]*p;s[R]=E*L+T*O+A*F+b*I}return s}}const rU=new zr;class iU extends gT{interpolate_(e,t,n,i){const s=super.interpolate_(e,t,n,i);return rU.fromArray(s).normalize().toArray(s),s}}const Ms={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},xd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},sM={9728:er,9729:Jn,9984:wp,9985:W0,9986:yd,9987:Uo},oM={33071:Yr,33648:Sd,10497:Jl},Xv={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},g_={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Mz>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Nl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},sU={CUBICSPLINE:void 0,LINEAR:bc,STEP:Md},Kv={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function oU(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new nm({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Va})),r.DefaultMaterial}function nc(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function Ba(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function aU(r,e,t){let n=!1,i=!1,s=!1;for(let d=0,p=e.length;d<p;d++){const m=e[d];if(m.POSITION!==void 0&&(n=!0),m.NORMAL!==void 0&&(i=!0),m.COLOR_0!==void 0&&(s=!0),n&&i&&s)break}if(!n&&!i&&!s)return Promise.resolve(r);const o=[],l=[],c=[];for(let d=0,p=e.length;d<p;d++){const m=e[d];if(n){const y=m.POSITION!==void 0?t.getDependency("accessor",m.POSITION):r.attributes.position;o.push(y)}if(i){const y=m.NORMAL!==void 0?t.getDependency("accessor",m.NORMAL):r.attributes.normal;l.push(y)}if(s){const y=m.COLOR_0!==void 0?t.getDependency("accessor",m.COLOR_0):r.attributes.color;c.push(y)}}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(c)]).then(function(d){const p=d[0],m=d[1],y=d[2];return n&&(r.morphAttributes.position=p),i&&(r.morphAttributes.normal=m),s&&(r.morphAttributes.color=y),r.morphTargetsRelative=!0,r})}function lU(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function uU(r){let e;const t=r.extensions&&r.extensions[tn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Yv(t.attributes):e=r.indices+":"+Yv(r.attributes)+":"+r.mode,r.targets!==void 0)for(let n=0,i=r.targets.length;n<i;n++)e+=":"+Yv(r.targets[n]);return e}function Yv(r){let e="";const t=Object.keys(r).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+r[t[n]]+";";return e}function y_(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function cU(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const fU=new It;class dU{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Dz,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||i&&s<98?this.textureLoader=new BC(this.options.manager):this.textureLoader=new NC(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ds(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const l={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:n,userData:{}};return nc(s,l,i),Ba(l,i),Promise.all(n._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){for(const c of l.scenes)c.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let l=0,c=o.length;l<c;l++)e[o[l]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),s=(o,l)=>{const c=this.associations.get(o);c!=null&&this.associations.set(l,c);for(const[d,p]of o.children.entries())s(p,l.children[d])};return s(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[tn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){n.load(Vl.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=Xv[i.type],l=xd[i.componentType],c=i.normalized===!0,d=new l(i.count*o);return Promise.resolve(new pn(d,o,c))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const l=o[0],c=Xv[i.type],d=xd[i.componentType],p=d.BYTES_PER_ELEMENT,m=p*c,y=i.byteOffset||0,v=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,w=i.normalized===!0;let _,A;if(v&&v!==m){const b=Math.floor(y/v),E="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+b+":"+i.count;let T=t.cache.get(E);T||(_=new d(l,b*v,i.count*v/p),T=new Gp(_,v/p),t.cache.add(E,T)),A=new Xl(T,c,y%v/p,w)}else l===null?_=new d(i.count*c):_=new d(l,y,i.count*c),A=new pn(_,c,w);if(i.sparse!==void 0){const b=Xv.SCALAR,E=xd[i.sparse.indices.componentType],T=i.sparse.indices.byteOffset||0,R=i.sparse.values.byteOffset||0,L=new E(o[1],T,i.sparse.count*b),O=new d(o[2],R,i.sparse.count*c);l!==null&&(A=new pn(A.array.slice(),A.itemSize,A.normalized));for(let F=0,I=L.length;F<I;F++){const G=L[F];if(A.setX(G,O[F*c]),c>=2&&A.setY(G,O[F*c+1]),c>=3&&A.setZ(G,O[F*c+2]),c>=4&&A.setW(G,O[F*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,o=t.images[s];let l=this.textureLoader;if(o.uri){const c=n.manager.getHandler(o.uri);c!==null&&(l=c)}return this.loadTextureImage(e,s,l)}loadTextureImage(e,t,n){const i=this,s=this.json,o=s.textures[e],l=s.images[t],c=(l.uri||l.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const d=this.loadImageSource(t,n).then(function(p){p.flipY=!1,p.name=o.name||l.name||"",p.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(p.name=l.uri);const y=(s.samplers||{})[o.sampler]||{};return p.magFilter=sM[y.magFilter]||Jn,p.minFilter=sM[y.minFilter]||Uo,p.wrapS=oM[y.wrapS]||Jl,p.wrapT=oM[y.wrapT]||Jl,i.associations.set(p,{textures:e}),p}).catch(function(){return null});return this.textureCache[c]=d,d}loadImageSource(e,t){const n=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(m=>m.clone());const o=i.images[e],l=self.URL||self.webkitURL;let c=o.uri||"",d=!1;if(o.bufferView!==void 0)c=n.getDependency("bufferView",o.bufferView).then(function(m){d=!0;const y=new Blob([m],{type:o.mimeType});return c=l.createObjectURL(y),c});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const p=Promise.resolve(c).then(function(m){return new Promise(function(y,v){let w=y;t.isImageBitmapLoader===!0&&(w=function(_){const A=new Hn(_);A.needsUpdate=!0,y(A)}),t.load(Vl.resolveURL(m,s.path),w,void 0,v)})}).then(function(m){return d===!0&&l.revokeObjectURL(c),Ba(m,o),m.userData.mimeType=o.mimeType||cU(o.uri),m}).catch(function(m){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),m});return this.sourceCache[e]=p,p}assignTexture(e,t,n,i){const s=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),s.extensions[tn.KHR_TEXTURE_TRANSFORM]){const l=n.extensions!==void 0?n.extensions[tn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const c=s.associations.get(o);o=s.extensions[tn.KHR_TEXTURE_TRANSFORM].extendTexture(o,l),s.associations.set(o,c)}}return i!==void 0&&(typeof i=="number"&&(i=i===rM?hc:Ha),"colorSpace"in o?o.colorSpace=i:o.encoding=i===hc?rM:Lz),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+n.uuid;let c=this.cache.get(l);c||(c=new q0,yr.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(l,c)),n=c}else if(e.isLine){const l="LineBasicMaterial:"+n.uuid;let c=this.cache.get(l);c||(c=new li,yr.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,this.cache.add(l,c)),n=c}if(i||s||o){let l="ClonedMaterial:"+n.uuid+":";i&&(l+="derivative-tangents:"),s&&(l+="vertex-colors:"),o&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=n.clone(),s&&(c.vertexColors=!0),o&&(c.flatShading=!0),i&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(n))),n=c}e.material=n}getMaterialType(){return nm}loadMaterial(e){const t=this,n=this.json,i=this.extensions,s=n.materials[e];let o;const l={},c=s.extensions||{},d=[];if(c[tn.KHR_MATERIALS_UNLIT]){const m=i[tn.KHR_MATERIALS_UNLIT];o=m.getMaterialType(),d.push(m.extendParams(l,s,t))}else{const m=s.pbrMetallicRoughness||{};if(l.color=new tt(1,1,1),l.opacity=1,Array.isArray(m.baseColorFactor)){const y=m.baseColorFactor;l.color.setRGB(y[0],y[1],y[2],Ha),l.opacity=y[3]}m.baseColorTexture!==void 0&&d.push(t.assignTexture(l,"map",m.baseColorTexture,hc)),l.metalness=m.metallicFactor!==void 0?m.metallicFactor:1,l.roughness=m.roughnessFactor!==void 0?m.roughnessFactor:1,m.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(l,"metalnessMap",m.metallicRoughnessTexture)),d.push(t.assignTexture(l,"roughnessMap",m.metallicRoughnessTexture))),o=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(e,l)})))}s.doubleSided===!0&&(l.side=Fp);const p=s.alphaMode||Kv.OPAQUE;if(p===Kv.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,p===Kv.MASK&&(l.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ls&&(d.push(t.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new Ie(1,1),s.normalTexture.scale!==void 0)){const m=s.normalTexture.scale;l.normalScale.set(m,m)}if(s.occlusionTexture!==void 0&&o!==ls&&(d.push(t.assignTexture(l,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ls){const m=s.emissiveFactor;l.emissive=new tt().setRGB(m[0],m[1],m[2],Ha)}return s.emissiveTexture!==void 0&&o!==ls&&d.push(t.assignTexture(l,"emissiveMap",s.emissiveTexture,hc)),Promise.all(d).then(function(){const m=new o(l);return s.name&&(m.name=s.name),Ba(m,s),t.associations.set(m,{materials:e}),s.extensions&&nc(i,m,s),m})}createUniqueName(e){const t=cn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function s(l){return n[tn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(c){return aM(c,l,t)})}const o=[];for(let l=0,c=e.length;l<c;l++){const d=e[l],p=uU(d),m=i[p];if(m)o.push(m.promise);else{let y;d.extensions&&d.extensions[tn.KHR_DRACO_MESH_COMPRESSION]?y=s(d):y=aM(new Jt,d,t),i[p]={primitive:d,promise:y},o.push(y)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,i=this.extensions,s=n.meshes[e],o=s.primitives,l=[];for(let c=0,d=o.length;c<d;c++){const p=o[c].material===void 0?oU(this.cache):this.getDependency("material",o[c].material);l.push(p)}return l.push(t.loadGeometries(o)),Promise.all(l).then(function(c){const d=c.slice(0,c.length-1),p=c[c.length-1],m=[];for(let v=0,w=p.length;v<w;v++){const _=p[v],A=o[v];let b;const E=d[v];if(A.mode===Ms.TRIANGLES||A.mode===Ms.TRIANGLE_STRIP||A.mode===Ms.TRIANGLE_FAN||A.mode===void 0)b=s.isSkinnedMesh===!0?new a1(_,E):new Nr(_,E),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),A.mode===Ms.TRIANGLE_STRIP?b.geometry=eM(b.geometry,Y_):A.mode===Ms.TRIANGLE_FAN&&(b.geometry=eM(b.geometry,x0));else if(A.mode===Ms.LINES)b=new vo(_,E);else if(A.mode===Ms.LINE_STRIP)b=new ja(_,E);else if(A.mode===Ms.LINE_LOOP)b=new u1(_,E);else if(A.mode===Ms.POINTS)b=new c1(_,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(b.geometry.morphAttributes).length>0&&lU(b,s),b.name=t.createUniqueName(s.name||"mesh_"+e),Ba(b,s),A.extensions&&nc(i,b,A),t.assignFinalMaterial(b),m.push(b)}for(let v=0,w=m.length;v<w;v++)t.associations.set(m[v],{meshes:e,primitives:v});if(m.length===1)return s.extensions&&nc(i,m[0],s),m[0];const y=new ho;s.extensions&&nc(i,y,s),t.associations.set(y,{meshes:e});for(let v=0,w=m.length;v<w;v++)y.add(m[v]);return y})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new tr(VE.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Ua(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Ba(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,s=t.joints.length;i<s;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const s=i.pop(),o=i,l=[],c=[];for(let d=0,p=o.length;d<p;d++){const m=o[d];if(m){l.push(m);const y=new It;s!==null&&y.fromArray(s.array,d*16),c.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new Vp(l,c)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],l=[],c=[],d=[],p=[];for(let m=0,y=i.channels.length;m<y;m++){const v=i.channels[m],w=i.samplers[v.sampler],_=v.target,A=_.node,b=i.parameters!==void 0?i.parameters[w.input]:w.input,E=i.parameters!==void 0?i.parameters[w.output]:w.output;_.node!==void 0&&(o.push(this.getDependency("node",A)),l.push(this.getDependency("accessor",b)),c.push(this.getDependency("accessor",E)),d.push(w),p.push(_))}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(d),Promise.all(p)]).then(function(m){const y=m[0],v=m[1],w=m[2],_=m[3],A=m[4],b=[];for(let E=0,T=y.length;E<T;E++){const R=y[E],L=v[E],O=w[E],F=_[E],I=A[E];if(R===void 0)continue;R.updateMatrix&&R.updateMatrix();const G=n._createAnimationTracks(R,L,O,F,I);if(G)for(let V=0;V<G.length;V++)b.push(G[V])}return new Cd(s,void 0,b)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(s){const o=n._getNodeRef(n.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(l){if(l.isMesh)for(let c=0,d=i.weights.length;c<d;c++)l.morphTargetInfluences[c]=i.weights[c]}),o})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],s=n._loadNodeShallow(e),o=[],l=i.children||[];for(let d=0,p=l.length;d<p;d++)o.push(n.getDependency("node",l[d]));const c=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),c]).then(function(d){const p=d[0],m=d[1],y=d[2];y!==null&&p.traverse(function(v){v.isSkinnedMesh&&v.bind(y,fU)});for(let v=0,w=m.length;v<w;v++)p.add(m[v]);return p})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",l=[],c=i._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(e)});return c&&l.push(c),s.camera!==void 0&&l.push(i.getDependency("camera",s.camera).then(function(d){return i._getNodeRef(i.cameraCache,s.camera,d)})),i._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(e)}).forEach(function(d){l.push(d)}),this.nodeCache[e]=Promise.all(l).then(function(d){let p;if(s.isBone===!0?p=new Q0:d.length>1?p=new ho:d.length===1?p=d[0]:p=new on,p!==d[0])for(let m=0,y=d.length;m<y;m++)p.add(d[m]);if(s.name&&(p.userData.name=s.name,p.name=o),Ba(p,s),s.extensions&&nc(n,p,s),s.matrix!==void 0){const m=new It;m.fromArray(s.matrix),p.applyMatrix4(m)}else s.translation!==void 0&&p.position.fromArray(s.translation),s.rotation!==void 0&&p.quaternion.fromArray(s.rotation),s.scale!==void 0&&p.scale.fromArray(s.scale);return i.associations.has(p)||i.associations.set(p,{}),i.associations.get(p).nodes=e,p}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,s=new ho;n.name&&(s.name=i.createUniqueName(n.name)),Ba(s,n),n.extensions&&nc(t,s,n);const o=n.nodes||[],l=[];for(let c=0,d=o.length;c<d;c++)l.push(i.getDependency("node",o[c]));return Promise.all(l).then(function(c){for(let p=0,m=c.length;p<m;p++)s.add(c[p]);const d=p=>{const m=new Map;for(const[y,v]of i.associations)(y instanceof yr||y instanceof Hn)&&m.set(y,v);return p.traverse(y=>{const v=i.associations.get(y);v!=null&&m.set(y,v)}),m};return i.associations=d(s),s})}_createAnimationTracks(e,t,n,i,s){const o=[],l=e.name?e.name:e.uuid,c=[];Nl[s.path]===Nl.weights?e.traverse(function(y){y.morphTargetInfluences&&c.push(y.name?y.name:y.uuid)}):c.push(l);let d;switch(Nl[s.path]){case Nl.weights:d=Tc;break;case Nl.rotation:d=Kl;break;case Nl.position:case Nl.scale:d=Rc;break;default:switch(n.itemSize){case 1:d=Tc;break;case 2:case 3:default:d=Rc;break}break}const p=i.interpolation!==void 0?sU[i.interpolation]:bc,m=this._getArrayFromAccessor(n);for(let y=0,v=c.length;y<v;y++){const w=new d(c[y]+"."+Nl[s.path],t.array,m,p);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(w),o.push(w)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=y_(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof Kl?iU:gT;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function hU(r,e,t){const n=e.attributes,i=new tu;if(n.POSITION!==void 0){const l=t.json.accessors[n.POSITION],c=l.min,d=l.max;if(c!==void 0&&d!==void 0){if(i.set(new W(c[0],c[1],c[2]),new W(d[0],d[1],d[2])),l.normalized){const p=y_(xd[l.componentType]);i.min.multiplyScalar(p),i.max.multiplyScalar(p)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const l=new W,c=new W;for(let d=0,p=s.length;d<p;d++){const m=s[d];if(m.POSITION!==void 0){const y=t.json.accessors[m.POSITION],v=y.min,w=y.max;if(v!==void 0&&w!==void 0){if(c.setX(Math.max(Math.abs(v[0]),Math.abs(w[0]))),c.setY(Math.max(Math.abs(v[1]),Math.abs(w[1]))),c.setZ(Math.max(Math.abs(v[2]),Math.abs(w[2]))),y.normalized){const _=y_(xd[y.componentType]);c.multiplyScalar(_)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(l)}r.boundingBox=i;const o=new nu;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=o}function aM(r,e,t){const n=e.attributes,i=[];function s(o,l){return t.getDependency("accessor",o).then(function(c){r.setAttribute(l,c)})}for(const o in n){const l=g_[o]||o.toLowerCase();l in r.attributes||i.push(s(n[o],l))}if(e.indices!==void 0&&!r.index){const o=t.getDependency("accessor",e.indices).then(function(l){r.setIndex(l)});i.push(o)}return Ba(r,e),hU(r,e,t),Promise.all(i).then(function(){return e.targets!==void 0?aU(r,e.targets,t):r})}const Qv=new WeakMap;class pU extends Ti{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const s=new ds(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,l).then(t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const c in t.attributeTypes){const d=t.attributeTypes[c];d.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[c]=d.name)}const n=JSON.stringify(t);if(Qv.has(e)){const c=Qv.get(e);if(c.key===n)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,l=this._getWorker(s,o).then(c=>(i=c,new Promise((d,p)=>{i._callbacks[s]={resolve:d,reject:p},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),Qv.set(e,{key:n,promise:l}),l}_createGeometry(e){const t=new Jt;e.index&&t.setIndex(new pn(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],s=i.name,o=i.array,l=i.itemSize;t.setAttribute(s,new pn(o,l))}return t}_loadLibrary(e,t){const n=new ds(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,s)=>{n.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=mU.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function mU(){let r,e;onmessage=function(o){const l=o.data;switch(l.type){case"init":r=l.decoderConfig,e=new Promise(function(p){r.onModuleLoaded=function(m){p({draco:m})},DracoDecoderModule(r)});break;case"decode":const c=l.buffer,d=l.taskConfig;e.then(p=>{const m=p.draco,y=new m.Decoder,v=new m.DecoderBuffer;v.Init(new Int8Array(c),c.byteLength);try{const w=t(m,y,v,d),_=w.attributes.map(A=>A.array.buffer);w.index&&_.push(w.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:w},_)}catch(w){console.error(w),self.postMessage({type:"error",id:l.id,error:w.message})}finally{m.destroy(v),m.destroy(y)}});break}};function t(o,l,c,d){const p=d.attributeIDs,m=d.attributeTypes;let y,v;const w=l.GetEncodedGeometryType(c);if(w===o.TRIANGULAR_MESH)y=new o.Mesh,v=l.DecodeBufferToMesh(c,y);else if(w===o.POINT_CLOUD)y=new o.PointCloud,v=l.DecodeBufferToPointCloud(c,y);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||y.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const _={index:null,attributes:[]};for(const A in p){const b=self[m[A]];let E,T;if(d.useUniqueIDs)T=p[A],E=l.GetAttributeByUniqueId(y,T);else{if(T=l.GetAttributeId(y,o[p[A]]),T===-1)continue;E=l.GetAttribute(y,T)}_.attributes.push(i(o,l,y,A,b,E))}return w===o.TRIANGULAR_MESH&&(_.index=n(o,l,y)),o.destroy(y),_}function n(o,l,c){const p=c.num_faces()*3,m=p*4,y=o._malloc(m);l.GetTrianglesUInt32Array(c,m,y);const v=new Uint32Array(o.HEAPF32.buffer,y,p).slice();return o._free(y),{array:v,itemSize:1}}function i(o,l,c,d,p,m){const y=m.num_components(),w=c.num_points()*y,_=w*p.BYTES_PER_ELEMENT,A=s(o,p),b=o._malloc(_);l.GetAttributeDataArrayForAllPoints(c,m,A,_,b);const E=new p(o.HEAPF32.buffer,b,w).slice();return o._free(b),{name:d,array:E,itemSize:y}}function s(o,l){switch(l){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Qg;const qv=()=>{if(Qg)return Qg;const r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=r;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(l(i),{}).then(m=>{s=m.instance,s.exports.__wasm_call_ctors()});function l(m){const y=new Uint8Array(m.length);for(let w=0;w<m.length;++w){const _=m.charCodeAt(w);y[w]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let v=0;for(let w=0;w<m.length;++w)y[v++]=y[w]<60?n[y[w]]:(y[w]-60)*64+y[++w];return y.buffer.slice(0,v)}function c(m,y,v,w,_,A){const b=s.exports.sbrk,E=v+3&-4,T=b(E*w),R=b(_.length),L=new Uint8Array(s.exports.memory.buffer);L.set(_,R);const O=m(T,v,w,R,_.length);if(O===0&&A&&A(T,E,w),y.set(L.subarray(T,T+v*w)),b(T-b(0)),O!==0)throw new Error(`Malformed buffer data: ${O}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},p={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Qg={ready:o,supported:!0,decodeVertexBuffer(m,y,v,w,_){c(s.exports.meshopt_decodeVertexBuffer,m,y,v,w,s.exports[d[_]])},decodeIndexBuffer(m,y,v,w){c(s.exports.meshopt_decodeIndexBuffer,m,y,v,w)},decodeIndexSequence(m,y,v,w){c(s.exports.meshopt_decodeIndexSequence,m,y,v,w)},decodeGltfBuffer(m,y,v,w,_,A){c(s.exports[p[_]],m,y,v,w,s.exports[d[A]])}},Qg};function yT(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r);if(t.length!==Object.keys(e).length)return!1;for(let n=0;n<t.length;n++)if(!Object.prototype.hasOwnProperty.call(e,t[n])||!Object.is(r[t[n]],e[t[n]]))return!1;return!0}let qg=null;function vT(r,e,t){return n=>{t&&t(n),r&&(qg||(qg=new pU),qg.setDecoderPath(typeof r=="string"?r:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),n.setDRACOLoader(qg)),e&&n.setMeshoptDecoder(typeof qv=="function"?qv():qv)}}function Hd(r,e=!0,t=!0,n){return im(L1,r,vT(e,t,n))}Hd.preload=(r,e=!0,t=!0,n)=>im.preload(L1,r,vT(e,t,n));Hd.clear=r=>im.clear(L1,r);const lm=k.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:i=!0,onChange:s,onStart:o,onEnd:l,...c},d)=>{const p=bi(R=>R.invalidate),m=bi(R=>R.camera),y=bi(R=>R.gl),v=bi(R=>R.events),w=bi(R=>R.set),_=bi(R=>R.get),A=bi(R=>R.performance),b=e||m,E=n||v.connected||y.domElement,T=k.useMemo(()=>new Iz(b),[b]);return su(()=>{T.enabled&&T.update()},-1),k.useEffect(()=>(T.connect(E),()=>void T.dispose()),[E,t,T,p]),k.useEffect(()=>{const R=L=>{p(),t&&A.regress(),s&&s(L)};return T.addEventListener("change",R),o&&T.addEventListener("start",o),l&&T.addEventListener("end",l),()=>{o&&T.removeEventListener("start",o),l&&T.removeEventListener("end",l),T.removeEventListener("change",R)}},[s,o,l,T,p]),k.useEffect(()=>{if(r){const R=_().controls;return w({controls:T}),()=>w({controls:R})}},[r,T]),k.createElement("primitive",Bp({ref:d,object:T,enableDamping:i},c))});function xT(r,e){const t=k.useRef(),[n]=k.useState(()=>e?e instanceof on?{current:e}:e:t),[i]=k.useState(()=>new HC(void 0)),s=k.useRef({}),[o]=k.useState(()=>{const l={};return r.forEach(c=>Object.defineProperty(l,c.name,{enumerable:!0,get(){if(n.current)return s.current[c.name]||(s.current[c.name]=i.clipAction(c,n.current))}})),{ref:n,clips:r,actions:l,names:r.map(c=>c.name),mixer:i}});return su((l,c)=>i.update(c)),k.useEffect(()=>{const l=n.current;return()=>{s.current={},Object.values(o.actions).forEach(c=>{l&&i.uncacheAction(c,l)})}},[r]),k.useEffect(()=>()=>{i.stopAllAction()},[i]),o}var Zv={exports:{}},ex,lM;function gU(){if(lM)return ex;lM=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ex=r,ex}var tx,uM;function yU(){if(uM)return tx;uM=1;var r=gU();function e(){}function t(){}return t.resetWarningCache=e,tx=function(){function n(o,l,c,d,p,m){if(m!==r){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},tx}var cM;function vU(){return cM||(cM=1,Zv.exports=yU()()),Zv.exports}var xU=vU();const Bn=Dc(xU),_U=()=>{const r=k.useRef();return su((e,t)=>{r.current.rotation.y+=t}),Me.jsxs(Me.Fragment,{children:[Me.jsx(lm,{}),Me.jsx("ambientLight",{}),Me.jsxs("mesh",{ref:r,children:[Me.jsx("boxGeometry",{}),Me.jsx("meshStandardMaterial",{color:"hotpink"})]})]})},wU=()=>Me.jsx(sm,{children:Me.jsx(_U,{})});class SU extends ho{constructor(e,t){super(),this.index=e,this.controller=t.xr.getController(e),this.grip=t.xr.getControllerGrip(e),this.hand=t.xr.getHand(e),this.grip.userData.name="grip",this.controller.userData.name="controller",this.hand.userData.name="hand",this.visible=!1,this.add(this.controller,this.grip,this.hand),this._onConnected=this._onConnected.bind(this),this._onDisconnected=this._onDisconnected.bind(this),this.controller.addEventListener("connected",this._onConnected),this.controller.addEventListener("disconnected",this._onDisconnected)}_onConnected(e){e.fake||(this.visible=!0,this.inputSource=e.data,this.dispatchEvent(e))}_onDisconnected(e){e.fake||(this.visible=!1,this.dispatchEvent(e))}dispose(){this.controller.removeEventListener("connected",this._onConnected),this.controller.removeEventListener("disconnected",this._onDisconnected)}}var fM,dM;const AU=r=>Array.from(new Set(r)),fo=typeof window<"u"&&((fM=window.document)!=null&&fM.createElement||((dM=window.navigator)==null?void 0:dM.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function pc(r){const e=k.useRef(r);return fo(()=>void(e.current=r),[r]),e}function od(r,e,{handedness:t}={}){const n=pc(e),i=Qr(s=>s.controllers);fo(()=>{const s=i.map(o=>{if(t&&o.inputSource.handedness!==t)return;const l=c=>n.current({nativeEvent:c,target:o});return o.controller.addEventListener(r,l),()=>o.controller.removeEventListener(r,l)});return()=>s.forEach(o=>o==null?void 0:o())},[i,t,r])}const hM=new It;function MU({children:r}){const e=bi(m=>m.events),t=bi(m=>m.get),n=bi(m=>m.raycaster),i=Qr(m=>m.controllers),s=Qr(m=>m.interactions),o=Qr(m=>m.hoverState),l=Qr(m=>m.hasInteraction),c=Qr(m=>m.getInteraction),d=k.useCallback(m=>{const y=Array.from(s.keys());return hM.identity().extractRotation(m.matrixWorld),n.ray.origin.setFromMatrixPosition(m.matrixWorld),n.ray.direction.set(0,0,-1).applyMatrix4(hM),n.intersectObjects(y,!0)},[s,n]);su(()=>{if(s.size!==0)for(const m of i){const y=o[m.inputSource.handedness],v=new Set;let w=d(m.controller);if(e.filter)w=e.filter(w,t());else{const _=w.find(A=>A==null?void 0:A.object);_&&(w=[_])}for(const _ of w){let A=_.object;for(;A;){if(l(A,"onHover")&&!y.has(A)){const E=c(A,"onHover");for(const T of E)T({target:m,intersection:_,intersections:w})}const b=c(A,"onMove");b==null||b.forEach(E=>E({target:m,intersection:_,intersections:w})),y.set(A,_),v.add(A.id),A=A.parent}}for(const _ of y.keys())if(!v.has(_.id)){y.delete(_);const A=c(_,"onBlur");if(!A)continue;for(const b of A)b({target:m,intersections:w})}}});const p=k.useCallback(m=>y=>{const v=o[y.target.inputSource.handedness],w=Array.from(new Set(v.values()));s.forEach((_,A)=>{var b,E,T;if(v.has(A)){if(!_[m])return;for(const R of _[m])(b=R.current)==null||b.call(R,{target:y.target,intersection:v.get(A),intersections:w})}else if(m==="onSelect"&&_.onSelectMissed)for(const R of _.onSelectMissed)(E=R.current)==null||E.call(R,{target:y.target,intersections:w});else if(m==="onSqueeze"&&_.onSqueezeMissed)for(const R of _.onSqueezeMissed)(T=R.current)==null||T.call(R,{target:y.target,intersections:w})})},[o,s]);return od("select",p("onSelect")),od("selectstart",p("onSelectStart")),od("selectend",p("onSelectEnd")),od("squeeze",p("onSqueeze")),od("squeezeend",p("onSqueezeEnd")),od("squeezestart",p("onSqueezeStart")),k.createElement(k.Fragment,null,r)}function lo(r,e,t){const n=Qr(o=>o.addInteraction),i=Qr(o=>o.removeInteraction),s=pc(t);fo(()=>{const o=r.current;if(!(!o||!s.current))return n(o,e,s),()=>i(o,e,s)},[r,e,n,i])}const oy=k.forwardRef(function({onHover:e,onBlur:t,onSelectStart:n,onSelectEnd:i,onSelectMissed:s,onSelect:o,onSqueezeStart:l,onSqueezeEnd:c,onSqueezeMissed:d,onSqueeze:p,onMove:m,children:y},v){const w=k.useRef(null);return k.useImperativeHandle(v,()=>w.current),lo(w,"onHover",e),lo(w,"onBlur",t),lo(w,"onSelectStart",n),lo(w,"onSelectEnd",i),lo(w,"onSelectMissed",s),lo(w,"onSelect",o),lo(w,"onSqueezeStart",l),lo(w,"onSqueezeEnd",c),lo(w,"onSqueezeMissed",d),lo(w,"onSqueeze",p),lo(w,"onMove",m),k.createElement("group",{ref:w},y)});k.forwardRef(function({onSelectStart:e,onSelectEnd:t,children:n,...i},s){const o=k.useRef(),l=k.useRef(null),c=k.useMemo(()=>new It,[]);return k.useImperativeHandle(s,()=>l.current),su(()=>{const d=o.current,p=l.current;d&&(p.applyMatrix4(c),p.applyMatrix4(d.matrixWorld),p.updateMatrixWorld(),c.copy(d.matrixWorld).invert())}),k.createElement(oy,{ref:l,onSelectStart:d=>{o.current=d.target.controller,c.copy(d.target.controller.matrixWorld).invert(),e==null||e(d)},onSelectEnd:d=>{d.target.controller===o.current&&(o.current=void 0),t==null||t(d)},...i},n)});function D1(r){const e=Qr(i=>i.session),t=k.useRef(),n=k.useMemo(()=>new It,[]);fo(()=>{if(!e)return void(t.current=void 0);e.requestReferenceSpace("viewer").then(async i=>{var s;t.current=await((s=e==null?void 0:e.requestHitTestSource)==null?void 0:s.call(e,{space:i}))})},[e]),su((i,s,o)=>{if(!o||!t.current)return;const[l]=o.getHitTestResults(t.current);if(l){const c=i.gl.xr.getReferenceSpace(),d=l.getPose(c);d&&(n.fromArray(d.transform.matrix),r(n,l))}})}const _T=k.createContext(null),wc=iy((r,e)=>({set:r,get:e,session:null,referenceSpaceType:null}));function bU({foveation:r=0,referenceSpace:e="local-floor",onSessionStart:t,onSessionEnd:n,onVisibilityChange:i,onInputSourcesChange:s,children:o}){const l=bi(E=>E.gl),c=bi(E=>E.camera),d=Qr(E=>E.player),p=Qr(E=>E.get),m=Qr(E=>E.set),y=Qr(E=>E.session),v=Qr(E=>E.controllers),w=pc(t),_=pc(n),A=pc(i),b=pc(s);return fo(()=>{const E=[0,1].map(T=>{const R=new SU(T,l),L=()=>m(F=>({controllers:[...F.controllers,R]})),O=()=>m(F=>({controllers:F.controllers.filter(I=>I!==R)}));return R.addEventListener("connected",L),R.addEventListener("disconnected",O),()=>{R.removeEventListener("connected",L),R.removeEventListener("disconnected",O)}});return()=>E.forEach(T=>T())},[l,m]),fo(()=>wc.subscribe(({session:E})=>m(()=>({session:E}))),[l.xr,m]),fo(()=>{l.xr.setFoveation(r),m(()=>({foveation:r}))},[l.xr,r,m]),fo(()=>{const E=wc.getState();l.xr.setReferenceSpaceType(e),m(()=>({referenceSpace:e})),E.set({referenceSpaceType:e})},[l.xr,e,m]),fo(()=>{if(!y)return void l.xr.setSession(null);const E=O=>{var F;m(()=>({isPresenting:!0})),(F=w.current)==null||F.call(w,{nativeEvent:{...O,target:y},target:y})},T=O=>{var F;m(()=>({isPresenting:!1,session:null})),wc.setState(()=>({session:null})),(F=_.current)==null||F.call(_,{nativeEvent:{...O,target:y},target:y})},R=O=>{var F;(F=A.current)==null||F.call(A,{nativeEvent:O,target:y})},L=O=>{var F;const I=Object.values(y.inputSources).some(G=>G.hand);m(()=>({isHandTracking:I})),(F=b.current)==null||F.call(b,{nativeEvent:O,target:y})};return l.xr.addEventListener("sessionstart",E),l.xr.addEventListener("sessionend",T),y.addEventListener("visibilitychange",R),y.addEventListener("inputsourceschange",L),l.xr.setSession(y).then(()=>{l.xr.setFoveation(p().foveation)}),()=>{l.xr.removeEventListener("sessionstart",E),l.xr.removeEventListener("sessionend",T),y.removeEventListener("visibilitychange",R),y.removeEventListener("inputsourceschange",L)}},[y,l.xr,m,p]),k.createElement(MU,null,k.createElement("primitive",{object:d},k.createElement("primitive",{object:c}),v.map(E=>k.createElement("primitive",{key:E.index,object:E}))),o)}function ay(r){const e=k.useMemo(()=>iy((t,n)=>({set:t,get:n,controllers:[],isPresenting:!1,isHandTracking:!1,player:new ho,session:null,foveation:0,referenceSpace:"local-floor",hoverState:{left:new Map,right:new Map,none:new Map},interactions:new Map,hasInteraction(i,s){var o;return!!((o=n().interactions.get(i))!=null&&o[s].some(l=>l.current))},getInteraction(i,s){var o;return(o=n().interactions.get(i))==null?void 0:o[s].reduce((l,c)=>(c.current&&l.push(c.current),l),[])},addInteraction(i,s,o){const l=n().interactions;l.has(i)||l.set(i,{onHover:[],onBlur:[],onSelect:[],onSelectEnd:[],onSelectStart:[],onSelectMissed:[],onSqueeze:[],onSqueezeEnd:[],onSqueezeStart:[],onSqueezeMissed:[],onMove:[]}),l.get(i)[s].push(o)},removeInteraction(i,s,o){const l=n().interactions.get(i);if(l){const c=l[s].indexOf(o);c!==-1&&l[s].splice(c,1)}}})),[]);return k.createElement(_T.Provider,{value:e},k.createElement(bU,{...r}))}const EU=(r,e)=>{var t;if(!(!r&&!e))return r&&!e?{optionalFeatures:[r]}:r&&e?{...e,optionalFeatures:AU([...(t=e.optionalFeatures)!=null?t:[],r])}:e},CU=async(r,e)=>{const t=wc.getState();if(t.session){console.warn("@react-three/xr: session already started, please stop it first");return}const n=EU(t.referenceSpaceType,e),i=await navigator.xr.requestSession(r,n);return t.set(()=>({session:i})),i},TU=async()=>{const r=wc.getState();if(!r.session){console.warn("@react-three/xr: no session to stop, please start it first");return}await r.session.end(),r.set({session:null})},RU=async(r,{sessionInit:e,enterOnly:t,exitOnly:n}={})=>{const i=wc.getState();if(!(i.session&&t)&&!(!i.session&&n))return i.session?await TU():await CU(r,e)},wT=k.forwardRef(function({mode:e,sessionInit:t,enterOnly:n=!1,exitOnly:i=!1,onClick:s,onError:o,children:l,...c},d){const[p,m]=k.useState("exited"),y=p==="unsupported"?`${e} unsupported`:`${p==="entered"?"Exit":"Enter"} ${e}`,v=e==="inline"?e:`immersive-${e.toLowerCase()}`,w=pc(o);fo(()=>{if(!(navigator!=null&&navigator.xr))return void m("unsupported");navigator.xr.isSessionSupported(v).then(A=>m(A?"exited":"unsupported"))},[v]),fo(()=>wc.subscribe(A=>{A.session?m("entered"):p!=="unsupported"&&m("exited")}),[p]);const _=k.useCallback(async A=>{s==null||s(A);try{RU(v,{sessionInit:t,enterOnly:n,exitOnly:i})}catch(b){const E=w.current;if(E&&b instanceof Error)E(b);else throw b}},[s,v,t,n,i,w]);return k.createElement("button",{...c,ref:d,onClick:p==="unsupported"?s:_},typeof l=="function"?l(p):l??y)}),ST={position:"absolute",bottom:"24px",left:"50%",transform:"translateX(-50%)",padding:"12px 24px",border:"1px solid white",borderRadius:"4px",background:"rgba(0, 0, 0, 0.1)",color:"white",font:"normal 0.8125rem sans-serif",outline:"none",zIndex:99999,cursor:"pointer"},ly=k.forwardRef(({style:r=ST,sessionInit:e={domOverlay:typeof document<"u"?{root:document.body}:void 0,optionalFeatures:["hit-test","dom-overlay","dom-overlay-for-handheld-ar"]},children:t,...n},i)=>k.createElement(wT,{...n,ref:i,mode:"AR",style:r,sessionInit:e},t));k.forwardRef(({style:r=ST,sessionInit:e={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]},children:t,...n},i)=>k.createElement(wT,{...n,ref:i,mode:"VR",style:r,sessionInit:e},t));function Qr(r=t=>t,e){const t=k.useContext(_T);if(!t)throw new Error("useXR must be used within an <XR /> component!");return t(r,e)}const PU=()=>{const r=k.useRef();return su((e,t)=>{r.current.rotation.y+=t}),Me.jsxs(Me.Fragment,{children:[Me.jsx(lm,{}),Me.jsx("ambientLight",{}),Me.jsxs("mesh",{ref:r,"position-z":-5,children:[Me.jsx("boxGeometry",{}),Me.jsx("meshStandardMaterial",{color:"hotpink"})]})]})},BU=()=>Me.jsxs(Me.Fragment,{children:[Me.jsx(ly,{}),Me.jsx(sm,{children:Me.jsx(ay,{children:Me.jsx(PU,{})})})]}),pM=({position:r})=>{const e=k.useRef();return su((t,n)=>{e.current.rotation.y+=n}),Me.jsx(Me.Fragment,{children:Me.jsxs("mesh",{ref:e,position:r,children:[Me.jsx("boxGeometry",{args:[.5,.5,.5]}),Me.jsx("meshStandardMaterial",{color:"mediumpurple"})]})})},IU=()=>{const r=k.useRef(),[e,t]=k.useState([]),{isPresenting:n}=Qr();bi(({camera:s})=>{n||(s.position.z=3)}),D1((s,o)=>{s.decompose(r.current.position,r.current.quaternion,r.current.scale),r.current.rotation.set(-Math.PI/2,0,0)});const i=s=>{let o=s.intersection.object.position.clone(),l=Date.now();t([...e,{position:o,id:l}])};return Me.jsxs(Me.Fragment,{children:[Me.jsx(lm,{}),Me.jsx("ambientLight",{}),n&&e.map(({position:s,id:o})=>Me.jsx(pM,{position:s},o)),n&&Me.jsx(oy,{onSelect:i,children:Me.jsxs("mesh",{ref:r,"rotation-x":-Math.PI/2,children:[Me.jsx("ringGeometry",{args:[.1,.25,32]}),Me.jsx("meshStandardMaterial",{color:"white"})]})}),!n&&Me.jsx(pM,{})]})},LU=()=>Me.jsxs(Me.Fragment,{children:[Me.jsx(ly,{sessionInit:{requiredFeatures:["hit-test"]}}),Me.jsx(sm,{children:Me.jsx(ay,{children:Me.jsx(IU,{})})})]});function mM(r){const e=k.useRef(),{nodes:t,materials:n,animations:i}=Hd("/models/druid.gltf");return xT(i,e),Me.jsx("group",{ref:e,...r,dispose:null,children:Me.jsxs("group",{scale:1.91,children:[Me.jsx("primitive",{object:t.root}),Me.jsx("skinnedMesh",{geometry:t.druid.geometry,material:n.color_main,skeleton:t.druid.skeleton})]})})}Hd.preload("/models/druid.gltf");const DU=()=>{const r=k.useRef(),[e,t]=k.useState([]),{isPresenting:n}=Qr();bi(({camera:s})=>{n||(s.position.z=3)}),D1((s,o)=>{s.decompose(r.current.position,r.current.quaternion,r.current.scale),r.current.rotation.set(-Math.PI/2,0,0)});const i=s=>{let o=s.intersection.object.position.clone(),l=Date.now();t([{position:o,id:l}])};return Me.jsxs(Me.Fragment,{children:[Me.jsx(lm,{}),Me.jsx("ambientLight",{}),n&&e.map(({position:s,id:o})=>Me.jsx(mM,{position:s},o)),n&&Me.jsx(oy,{onSelect:i,children:Me.jsxs("mesh",{ref:r,"rotation-x":-Math.PI/2,children:[Me.jsx("ringGeometry",{args:[.1,.25,32]}),Me.jsx("meshStandardMaterial",{color:"white"})]})}),!n&&Me.jsx(mM,{})]})},OU=()=>Me.jsxs(Me.Fragment,{children:[Me.jsx(ly,{sessionInit:{requiredFeatures:["hit-test"]}}),Me.jsx(sm,{children:Me.jsx(ay,{children:Me.jsx(DU,{})})})]});var O1=kb();const kU=Dc(O1);function gM(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function AT(...r){return e=>{let t=!1;const n=r.map(i=>{const s=gM(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():gM(r[i],null)}}}}function Nc(...r){return k.useCallback(AT(...r),r)}var MT=k.forwardRef((r,e)=>{const{children:t,...n}=r,i=k.Children.toArray(t),s=i.find(FU);if(s){const o=s.props.children,l=i.map(c=>c===s?k.Children.count(o)>1?k.Children.only(null):k.isValidElement(o)?o.props.children:null:c);return Me.jsx(v_,{...n,ref:e,children:k.isValidElement(o)?k.cloneElement(o,void 0,l):null})}return Me.jsx(v_,{...n,ref:e,children:t})});MT.displayName="Slot";var v_=k.forwardRef((r,e)=>{const{children:t,...n}=r;if(k.isValidElement(t)){const i=zU(t);return k.cloneElement(t,{...NU(n,t.props),ref:e?AT(e,i):i})}return k.Children.count(t)>1?k.Children.only(null):null});v_.displayName="SlotClone";var bT=({children:r})=>Me.jsx(Me.Fragment,{children:r});function FU(r){return k.isValidElement(r)&&r.type===bT}function NU(r,e){const t={...e};for(const n in e){const i=r[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?t[n]=(...l)=>{s(...l),i(...l)}:i&&(t[n]=i):n==="style"?t[n]={...i,...s}:n==="className"&&(t[n]=[i,s].filter(Boolean).join(" "))}return{...r,...t}}function zU(r){var n,i;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var UU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ou=UU.reduce((r,e)=>{const t=k.forwardRef((n,i)=>{const{asChild:s,...o}=n,l=s?MT:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Me.jsx(l,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{});function HU(r,e){r&&O1.flushSync(()=>r.dispatchEvent(e))}var Bc=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},GU="Portal",ET=k.forwardRef((r,e)=>{var l;const{container:t,...n}=r,[i,s]=k.useState(!1);Bc(()=>s(!0),[]);const o=t||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?kU.createPortal(Me.jsx(ou.div,{...n,ref:e}),o):null});ET.displayName=GU;var VU=ET,yM=Object.prototype.hasOwnProperty;function Ip(r,e){var t,n;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Ip(r[n],e[n]););return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(yM.call(r,t)&&++n&&!yM.call(e,t)||!(t in e)||!Ip(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}var uy=function(e,t,n,i){this.name=e,this.fn=t,this.args=n,this.modifiers=i};uy.prototype._test=function(e){var t=this.fn;try{_d(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return _d(this.modifiers.slice(),t,this)(e)}catch{return!1}};uy.prototype._check=function(e){try{_d(this.modifiers.slice(),this.fn,this)(e)}catch{if(_d(this.modifiers.slice(),function(n){return n},this)(!1))return}if(!_d(this.modifiers.slice(),this.fn,this)(e))throw null};uy.prototype._testAsync=function(e){var t=this;return new Promise(function(n,i){TT(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?n(e):i(null)}).catch(function(s){return i(s)})})};function CT(r,e){return e===void 0&&(e="simple"),typeof r=="object"?r[e]:r}function _d(r,e,t){if(r.length){var n=r.shift(),i=_d(r,e,t);return n.perform(i,t)}else return CT(e)}function TT(r,e,t){if(r.length){var n=r.shift(),i=TT(r,e,t);return n.performAsync(i,t)}else return function(s){return Promise.resolve(CT(e,"async")(s))}}var WU=function(e,t,n){this.name=e,this.perform=t,this.performAsync=n},k1=function(r){function e(t,n,i,s){for(var o=[],l=arguments.length-4;l-- >0;)o[l]=arguments[l+4];r.call(this,o),r.captureStackTrace&&r.captureStackTrace(this,e),this.rule=t,this.value=n,this.cause=i,this.target=s}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e}(Error),Go=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Go.prototype._applyRule=function(e,t){var n=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return n.chain.push(new uy(t,e.apply(n,i),i,n.nextRuleModifiers)),n.nextRuleModifiers=[],n}};Go.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new WU(t,e.simple,e.async)),this};Go.prototype._clone=function(){return new Go(this.chain.slice(),this.nextRuleModifiers.slice())};Go.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Go.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(n){try{n._check(e)}catch(i){t.push(new k1(n,e,i))}}),t};Go.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(n){throw new k1(t,e,n)}})};Go.prototype.testAsync=function(e){var t=this;return new Promise(function(n,i){RT(e,t.chain.slice(),n,i)})};function RT(r,e,t,n){if(e.length){var i=e.shift();i._testAsync(r).then(function(){RT(r,e,t,n)},function(s){n(new k1(i,r,s))})}else t(r)}var vM=function(r,e){return e&&typeof r=="string"&&r.trim().length===0?!0:r==null};function jU(r,e){return e===void 0&&(e=!1),{simple:function(t){return vM(t,e)||r.check(t)===void 0},async:function(t){return vM(t,e)||r.testAsync(t)}}}function ji(){return typeof Proxy<"u"?PT(new Go):x_(new Go)}var Lp={};ji.extend=function(r){Object.assign(Lp,r)};ji.clearCustomRules=function(){Lp={}};function PT(r){return new Proxy(r,{get:function(t,n){if(n in t)return t[n];var i=PT(r._clone());if(n in E0)return i._applyModifier(E0[n],n);if(n in Lp)return i._applyRule(Lp[n],n);if(n in __)return i._applyRule(__[n],n)}})}function x_(r){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var l=[],c=arguments.length;c--;)l[c]=arguments[c];var d=x_(s._clone()),p=d._applyRule(i[o],o).apply(void 0,l);return p}}),s},t=e(__,r),n=e(Lp,t);return Object.keys(E0).forEach(function(i){Object.defineProperty(n,i,{get:function(){var s=x_(n._clone());return s._applyModifier(E0[i],i)}})}),n}var E0={not:{simple:function(r){return function(e){return!r(e)}},async:function(r){return function(e){return Promise.resolve(r(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(r){return function(e){return Zg(e).some(function(t){try{return r(t)}catch{return!1}})}},async:function(r){return function(e){return Promise.all(Zg(e).map(function(t){try{return r(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(r){return function(e){return e!==!1&&Zg(e).every(r)}},async:function(r){return function(e){return Promise.all(Zg(e).map(r)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(r,e){return function(t){return xM(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r(t):r(t)}},async:function(r,e){return function(t){return Promise.resolve(r(t)).then(function(n){return xM(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n:n}).catch(function(){return!1})}}}};function xM(r){return r&&r.name==="schema"&&r.args.length>0&&typeof r.args[0]=="object"}function Zg(r){return typeof r=="string"?r.split(""):r}var __={equal:function(r){return function(e){return e==r}},exact:function(r){return function(e){return e===r}},number:function(r){return r===void 0&&(r=!0),function(e){return typeof e=="number"&&(r||isFinite(e))}},integer:function(){return function(r){var e=Number.isInteger||JU;return e(r)}},numeric:function(){return function(r){return!isNaN(parseFloat(r))&&isFinite(r)}},string:function(){return ad("string")},boolean:function(){return ad("boolean")},undefined:function(){return ad("undefined")},null:function(){return ad("null")},array:function(){return ad("array")},object:function(){return ad("object")},instanceOf:function(r){return function(e){return e instanceof r}},pattern:function(r){return function(e){return r.test(e)}},lowercase:function(){return function(r){return typeof r=="boolean"||r===r.toLowerCase()&&r.trim()!==""}},uppercase:function(){return function(r){return r===r.toUpperCase()&&r.trim()!==""}},vowel:function(){return function(r){return/^[aeiou]+$/i.test(r)}},consonant:function(){return function(r){return/^(?=[^aeiou])([a-z]+)$/i.test(r)}},first:function(r){return function(e){return e[0]==r}},last:function(r){return function(e){return e[e.length-1]==r}},empty:function(){return function(r){return r.length===0}},length:function(r,e){return function(t){return t.length>=r&&t.length<=(e||r)}},minLength:function(r){return function(e){return e.length>=r}},maxLength:function(r){return function(e){return e.length<=r}},negative:function(){return function(r){return r<0}},positive:function(){return function(r){return r>=0}},between:function(r,e){return function(t){return t>=r&&t<=e}},range:function(r,e){return function(t){return t>=r&&t<=e}},lessThan:function(r){return function(e){return e<r}},lessThanOrEqual:function(r){return function(e){return e<=r}},greaterThan:function(r){return function(e){return e>r}},greaterThanOrEqual:function(r){return function(e){return e>=r}},even:function(){return function(r){return r%2===0}},odd:function(){return function(r){return r%2!==0}},includes:function(r){return function(e){return~e.indexOf(r)}},schema:function(r){return $U(r)},passesAnyOf:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return function(t){return r.some(function(n){return n.test(t)})}},optional:jU};function ad(r){return function(e){return Array.isArray(e)&&r==="array"||e===null&&r==="null"||typeof e===r}}function JU(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}function $U(r){return{simple:function(e){var t=[];if(Object.keys(r).forEach(function(n){var i=r[n];try{i.check((e||{})[n])}catch(s){s.target=n,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],n=Object.keys(r).map(function(i){var s=r[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(n).then(function(){if(t.length>0)throw t;return!0})}}}var An="colors",Si="sizes",ct="space",XU={gap:ct,gridGap:ct,columnGap:ct,gridColumnGap:ct,rowGap:ct,gridRowGap:ct,inset:ct,insetBlock:ct,insetBlockEnd:ct,insetBlockStart:ct,insetInline:ct,insetInlineEnd:ct,insetInlineStart:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,marginBlock:ct,marginBlockEnd:ct,marginBlockStart:ct,marginInline:ct,marginInlineEnd:ct,marginInlineStart:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,paddingBlock:ct,paddingBlockEnd:ct,paddingBlockStart:ct,paddingInline:ct,paddingInlineEnd:ct,paddingInlineStart:ct,top:ct,right:ct,bottom:ct,left:ct,scrollMargin:ct,scrollMarginTop:ct,scrollMarginRight:ct,scrollMarginBottom:ct,scrollMarginLeft:ct,scrollMarginX:ct,scrollMarginY:ct,scrollMarginBlock:ct,scrollMarginBlockEnd:ct,scrollMarginBlockStart:ct,scrollMarginInline:ct,scrollMarginInlineEnd:ct,scrollMarginInlineStart:ct,scrollPadding:ct,scrollPaddingTop:ct,scrollPaddingRight:ct,scrollPaddingBottom:ct,scrollPaddingLeft:ct,scrollPaddingX:ct,scrollPaddingY:ct,scrollPaddingBlock:ct,scrollPaddingBlockEnd:ct,scrollPaddingBlockStart:ct,scrollPaddingInline:ct,scrollPaddingInlineEnd:ct,scrollPaddingInlineStart:ct,fontSize:"fontSizes",background:An,backgroundColor:An,backgroundImage:An,borderImage:An,border:An,borderBlock:An,borderBlockEnd:An,borderBlockStart:An,borderBottom:An,borderBottomColor:An,borderColor:An,borderInline:An,borderInlineEnd:An,borderInlineStart:An,borderLeft:An,borderLeftColor:An,borderRight:An,borderRightColor:An,borderTop:An,borderTopColor:An,caretColor:An,color:An,columnRuleColor:An,fill:An,outline:An,outlineColor:An,stroke:An,textDecorationColor:An,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Si,minBlockSize:Si,maxBlockSize:Si,inlineSize:Si,minInlineSize:Si,maxInlineSize:Si,width:Si,minWidth:Si,maxWidth:Si,height:Si,minHeight:Si,maxHeight:Si,flexBasis:Si,gridTemplateColumns:Si,gridTemplateRows:Si,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},KU=(r,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Gd=()=>{const r=Object.create(null);return(e,t,...n)=>{const i=(s=>JSON.stringify(s,KU))(e);return i in r?r[i]:r[i]=t(e,...n)}},Sc=Symbol.for("sxs.internal"),F1=(r,e)=>Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)),_M=r=>{for(const e in r)return!0;return!1},{hasOwnProperty:YU}=Object.prototype,w_=r=>r.includes("-")?r:r.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),QU=/\s+(?![^()]*\))/,ld=r=>e=>r(...typeof e=="string"?String(e).split(QU):[e]),wM={appearance:r=>({WebkitAppearance:r,appearance:r}),backfaceVisibility:r=>({WebkitBackfaceVisibility:r,backfaceVisibility:r}),backdropFilter:r=>({WebkitBackdropFilter:r,backdropFilter:r}),backgroundClip:r=>({WebkitBackgroundClip:r,backgroundClip:r}),boxDecorationBreak:r=>({WebkitBoxDecorationBreak:r,boxDecorationBreak:r}),clipPath:r=>({WebkitClipPath:r,clipPath:r}),content:r=>({content:r.includes('"')||r.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(r)?r:`"${r}"`}),hyphens:r=>({WebkitHyphens:r,hyphens:r}),maskImage:r=>({WebkitMaskImage:r,maskImage:r}),maskSize:r=>({WebkitMaskSize:r,maskSize:r}),tabSize:r=>({MozTabSize:r,tabSize:r}),textSizeAdjust:r=>({WebkitTextSizeAdjust:r,textSizeAdjust:r}),userSelect:r=>({WebkitUserSelect:r,userSelect:r}),marginBlock:ld((r,e)=>({marginBlockStart:r,marginBlockEnd:e||r})),marginInline:ld((r,e)=>({marginInlineStart:r,marginInlineEnd:e||r})),maxSize:ld((r,e)=>({maxBlockSize:r,maxInlineSize:e||r})),minSize:ld((r,e)=>({minBlockSize:r,minInlineSize:e||r})),paddingBlock:ld((r,e)=>({paddingBlockStart:r,paddingBlockEnd:e||r})),paddingInline:ld((r,e)=>({paddingInlineStart:r,paddingInlineEnd:e||r}))},nx=/([\d.]+)([^]*)/,qU=(r,e)=>r.length?r.reduce((t,n)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),t),[]):e,ZU=(r,e)=>r in e4&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,n,i,s)=>n+(i==="stretch"?`-moz-available${s};${w_(r)}:${n}-webkit-fill-available`:`-moz-fit-content${s};${w_(r)}:${n}fit-content`)+s):String(e),e4={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Ja=r=>r?r+"-":"",BT=(r,e,t)=>r.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,s,o,l)=>o=="$"==!!s?n:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Ja(e)+(l.includes("$")?"":Ja(t))+l.replace(/\$/g,"-"):l)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),t4=/\s*,\s*(?![^()]*\))/,n4=Object.prototype.toString,md=(r,e,t,n,i)=>{let s,o,l;const c=(d,p,m)=>{let y,v;const w=_=>{for(y in _){const E=y.charCodeAt(0)===64,T=E&&Array.isArray(_[y])?_[y]:[_[y]];for(v of T){const R=/[A-Z]/.test(b=y)?b:b.replace(/-[^]/g,O=>O[1].toUpperCase()),L=typeof v=="object"&&v&&v.toString===n4&&(!n.utils[R]||!p.length);if(R in n.utils&&!L){const O=n.utils[R];if(O!==o){o=O,w(O(v)),o=null;continue}}else if(R in wM){const O=wM[R];if(O!==l){l=O,w(O(v)),l=null;continue}}if(E&&(A=y.slice(1)in n.media?"@media "+n.media[y.slice(1)]:y,y=A.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(O,F,I,G,V,q)=>{const ce=nx.test(F),ee=.0625*(ce?-1:1),[Z,le]=ce?[G,F]:[F,G];return"("+(I[0]==="="?"":I[0]===">"===ce?"max-":"min-")+Z+":"+(I[0]!=="="&&I.length===1?le.replace(nx,(he,de,z)=>Number(de)+ee*(I===">"?1:-1)+z):le)+(V?") and ("+(V[0]===">"?"min-":"max-")+Z+":"+(V.length===1?q.replace(nx,(he,de,z)=>Number(de)+ee*(V===">"?-1:1)+z):q):"")+")"})),L){const O=E?m.concat(y):[...m],F=E?[...p]:qU(p,y.split(t4));s!==void 0&&i(SM(...s)),s=void 0,c(v,F,O)}else s===void 0&&(s=[[],p,m]),y=E||y.charCodeAt(0)!==36?y:`--${Ja(n.prefix)}${y.slice(1).replace(/\$/g,"-")}`,v=L?v:typeof v=="number"?v&&R in r4?String(v)+"px":String(v):BT(ZU(R,v??""),n.prefix,n.themeMap[R]),s[0].push(`${E?`${y} `:`${w_(y)}:`}${v}`)}}var A,b};w(d),s!==void 0&&i(SM(...s)),s=void 0};c(r,e,t)},SM=(r,e,t)=>`${t.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${r.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,r4={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},AM=r=>String.fromCharCode(r+(r>25?39:97)),Ac=r=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=AM(t%52)+n;return AM(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(r))>>>0),dp=["themed","global","styled","onevar","resonevar","allvar","inline"],i4=r=>{if(r.href&&!r.href.startsWith(location.origin))return!1;try{return!!r.cssRules}catch{return!1}},s4=r=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:l}=s;let c="";if(l.startsWith("--sxs"))return"";if(i[o-1]&&(c=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const d in e.rules)if(e.rules[d].group===s)return`--sxs{--sxs:${[...e.rules[d].cache].join(" ")}}${l}`;return s.cssRules.length?`${c}${l}`:""}return l}).join("")},n=()=>{if(e){const{rules:l,sheet:c}=e;if(!c.deleteRule){for(;Object(Object(c.cssRules)[0]).type===3;)c.cssRules.splice(0,1);c.cssRules=[]}for(const d in l)delete l[d]}const i=Object(r).styleSheets||[];for(const l of i)if(i4(l)){for(let c=0,d=l.cssRules;d[c];++c){const p=Object(d[c]);if(p.type!==1)continue;const m=Object(d[c+1]);if(m.type!==4)continue;++c;const{cssText:y}=p;if(!y.startsWith("--sxs"))continue;const v=y.slice(14,-3).trim().split(/\s+/),w=dp[v[0]];w&&(e||(e={sheet:l,reset:n,rules:{},toString:t}),e.rules[w]={group:m,index:c,cache:new Set(v)})}if(e)break}if(!e){const l=(c,d)=>({type:d,cssRules:[],insertRule(p,m){this.cssRules.splice(m,0,l(p,{import:3,undefined:1}[(p.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return c==="@media{}"?`@media{${[].map.call(this.cssRules,p=>p.cssText).join("")}}`:c}});e={sheet:r?(r.head||r).appendChild(document.createElement("style")).sheet:l("","text/css"),rules:{},reset:n,toString:t}}const{sheet:s,rules:o}=e;for(let l=dp.length-1;l>=0;--l){const c=dp[l];if(!o[c]){const d=dp[l+1],p=o[d]?o[d].index:s.cssRules.length;s.insertRule("@media{}",p),s.insertRule(`--sxs{--sxs:${l}}`,p),o[c]={group:s.cssRules[p+1],index:p,cache:new Set([l])}}o4(o[c])}};return n(),e},o4=r=>{const e=r.group;let t=e.cssRules.length;r.apply=n=>{try{e.insertRule(n,t),++t}catch{}}},op=Symbol(),a4=Gd(),MM=(r,e)=>a4(r,()=>(...t)=>{let n={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Sc]){n.type==null&&(n.type=i[Sc].type);for(const s of i[Sc].composers)n.composers.add(s)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(l4(i,r));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),u4(r,n,e)}),l4=({variants:r,compoundVariants:e,defaultVariants:t,...n},i)=>{const s=`${Ja(i.prefix)}c-${Ac(n)}`,o=[],l=[],c=Object.create(null),d=[];for(const y in t)c[y]=String(t[y]);if(typeof r=="object"&&r)for(const y in r){p=c,m=y,YU.call(p,m)||(c[y]="undefined");const v=r[y];for(const w in v){const _={[y]:String(w)};String(w)==="undefined"&&d.push(y);const A=v[w],b=[_,A,!_M(A)];o.push(b)}}var p,m;if(typeof e=="object"&&e)for(const y of e){let{css:v,...w}=y;v=typeof v=="object"&&v||{};for(const A in w)w[A]=String(w[A]);const _=[w,v,!_M(v)];l.push(_)}return[s,n,o,l,c,d]},u4=(r,e,t)=>{const[n,i,s,o]=c4(e.composers),l=typeof e.type=="function"||e.type.$$typeof?(m=>{function y(){for(let v=0;v<y[op].length;v++){const[w,_]=y[op][v];m.rules[w].apply(_)}return y[op]=[],null}return y[op]=[],y.rules={},dp.forEach(v=>y.rules[v]={apply:w=>y[op].push([v,w])}),y})(t):null,c=(l||t).rules,d=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,p=m=>{m=typeof m=="object"&&m||f4;const{css:y,...v}=m,w={};for(const b in s)if(delete v[b],b in m){let E=m[b];typeof E=="object"&&E?w[b]={"@initial":s[b],...E}:(E=String(E),w[b]=E!=="undefined"||o.has(b)?E:s[b])}else w[b]=s[b];const _=new Set([...i]);for(const[b,E,T,R]of e.composers){t.rules.styled.cache.has(b)||(t.rules.styled.cache.add(b),md(E,[`.${b}`],[],r,F=>{c.styled.apply(F)}));const L=bM(T,w,r.media),O=bM(R,w,r.media,!0);for(const F of L)if(F!==void 0)for(const[I,G,V]of F){const q=`${b}-${Ac(G)}-${I}`;_.add(q);const ce=(V?t.rules.resonevar:t.rules.onevar).cache,ee=V?c.resonevar:c.onevar;ce.has(q)||(ce.add(q),md(G,[`.${q}`],[],r,Z=>{ee.apply(Z)}))}for(const F of O)if(F!==void 0)for(const[I,G]of F){const V=`${b}-${Ac(G)}-${I}`;_.add(V),t.rules.allvar.cache.has(V)||(t.rules.allvar.cache.add(V),md(G,[`.${V}`],[],r,q=>{c.allvar.apply(q)}))}}if(typeof y=="object"&&y){const b=`${n}-i${Ac(y)}-css`;_.add(b),t.rules.inline.cache.has(b)||(t.rules.inline.cache.add(b),md(y,[`.${b}`],[],r,E=>{c.inline.apply(E)}))}for(const b of String(m.className||"").trim().split(/\s+/))b&&_.add(b);const A=v.className=[..._].join(" ");return{type:e.type,className:A,selector:d,props:v,toString:()=>A,deferredInjector:l}};return F1(p,{className:n,selector:d,[Sc]:e,toString:()=>(t.rules.styled.cache.has(n)||p(),n)})},c4=r=>{let e="";const t=[],n={},i=[];for(const[s,,,,o,l]of r){e===""&&(e=s),t.push(s),i.push(...l);for(const c in o){const d=o[c];(n[c]===void 0||d!=="undefined"||l.includes(d))&&(n[c]=d)}}return[e,t,n,new Set(i)]},bM=(r,e,t,n)=>{const i=[];e:for(let[s,o,l]of r){if(l)continue;let c,d=0,p=!1;for(c in s){const m=s[c];let y=e[c];if(y!==m){if(typeof y!="object"||!y)continue e;{let v,w,_=0;for(const A in y){if(m===String(y[A])){if(A!=="@initial"){const b=A.slice(1);(w=w||[]).push(b in t?t[b]:A.replace(/^@media ?/,"")),p=!0}d+=_,v=!0}++_}if(w&&w.length&&(o={["@media "+w.join(", ")]:o}),!v)continue e}}}(i[d]=i[d]||[]).push([n?"cv":`${c}-${s[c]}`,o,p])}return i},f4={},d4=Gd(),h4=(r,e)=>d4(r,()=>(...t)=>{const n=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Ac(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let l of[].concat(i["@import"]))l=l.includes('"')||l.includes("'")?l:`"${l}"`,e.sheet.insertRule(`@import ${l};`,o++);delete i["@import"]}md(i,[],[],r,o=>{e.rules.global.apply(o)})}}return""};return F1(n,{toString:n})}),p4=Gd(),m4=(r,e)=>p4(r,()=>t=>{const n=`${Ja(r.prefix)}k-${Ac(t)}`,i=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const s=[];md(t,[],[],r,l=>s.push(l));const o=`@keyframes ${n}{${s.join("")}}`;e.rules.global.apply(o)}return n};return F1(i,{get name(){return i()},toString:i})}),g4=class{constructor(r,e,t,n){this.token=r==null?"":String(r),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=n==null?"":String(n)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Ja(this.prefix)+Ja(this.scale)+this.token}toString(){return this.computedValue}},y4=Gd(),v4=(r,e)=>y4(r,()=>(t,n)=>{n=typeof t=="object"&&t||Object(n);const i=`.${t=(t=typeof t=="string"?t:"")||`${Ja(r.prefix)}t-${Ac(n)}`}`,s={},o=[];for(const c in n){s[c]={};for(const d in n[c]){const p=`--${Ja(r.prefix)}${c}-${d}`,m=BT(String(n[c][d]),r.prefix,c);s[c][d]=new g4(d,m,c,r.prefix),o.push(`${p}:${m}`)}}const l=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const c=`${n===r.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(c)}return t};return{...s,get className(){return l()},selector:i,toString:l}}),x4=Gd(),_4=Gd(),w4=r=>{const e=(t=>{let n=!1;const i=x4(t,s=>{n=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",l=typeof s.media=="object"&&s.media||{},c=typeof s.root=="object"?s.root||null:globalThis.document||null,d=typeof s.theme=="object"&&s.theme||{},p={prefix:o,media:l,theme:d,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...XU},utils:typeof s.utils=="object"&&s.utils||{}},m=s4(c),y={css:MM(p,m),globalCss:h4(p,m),keyframes:m4(p,m),createTheme:v4(p,m),reset(){m.reset(),y.theme.toString()},theme:{},sheet:m,config:p,prefix:o,getCssText:m.toString,toString:m.toString};return String(y.theme=y.createTheme(d)),y});return n||i.reset(),i})(r);return e.styled=(({config:t,sheet:n})=>_4(t,()=>{const i=MM(t,n);return(...s)=>{const o=i(...s),l=o[Sc].type,c=te.forwardRef((d,p)=>{const m=d&&d.as||l,{props:y,deferredInjector:v}=o(d);return delete y.as,y.ref=p,v?te.createElement(te.Fragment,null,te.createElement(m,y),te.createElement(v,null)):te.createElement(m,y)});return c.className=o.className,c.displayName=`Styled.${l.displayName||l.name||l}`,c.selector=o.selector,c.toString=()=>o.selector,c[Sc]=o[Sc],c}}))(e),e};function La(r,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(r==null||r(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function IT(r,e=[]){let t=[];function n(s,o){const l=k.createContext(o),c=t.length;t=[...t,o];const d=m=>{var b;const{scope:y,children:v,...w}=m,_=((b=y==null?void 0:y[r])==null?void 0:b[c])||l,A=k.useMemo(()=>w,Object.values(w));return Me.jsx(_.Provider,{value:A,children:v})};d.displayName=s+"Provider";function p(m,y){var _;const v=((_=y==null?void 0:y[r])==null?void 0:_[c])||l,w=k.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,p]}const i=()=>{const s=t.map(o=>k.createContext(o));return function(l){const c=(l==null?void 0:l[r])||s;return k.useMemo(()=>({[`__scope${r}`]:{...l,[r]:c}}),[l,c])}};return i.scopeName=r,[n,S4(i,...e)]}function S4(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Vd(r){const e=k.useRef(r);return k.useEffect(()=>{e.current=r}),k.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function A4(r,e=globalThis==null?void 0:globalThis.document){const t=Vd(r);k.useEffect(()=>{const n=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var M4="DismissableLayer",S_="dismissableLayer.update",b4="dismissableLayer.pointerDownOutside",E4="dismissableLayer.focusOutside",EM,LT=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DT=k.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=r,d=k.useContext(LT),[p,m]=k.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=k.useState({}),w=Nc(e,F=>m(F)),_=Array.from(d.layers),[A]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(A),E=p?_.indexOf(p):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,R=E>=b,L=R4(F=>{const I=F.target,G=[...d.branches].some(V=>V.contains(I));!R||G||(i==null||i(F),o==null||o(F),F.defaultPrevented||l==null||l())},y),O=P4(F=>{const I=F.target;[...d.branches].some(V=>V.contains(I))||(s==null||s(F),o==null||o(F),F.defaultPrevented||l==null||l())},y);return A4(F=>{E===d.layers.size-1&&(n==null||n(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},y),k.useEffect(()=>{if(p)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(EM=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),CM(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=EM)}},[p,y,t,d]),k.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),CM())},[p,d]),k.useEffect(()=>{const F=()=>v({});return document.addEventListener(S_,F),()=>document.removeEventListener(S_,F)},[]),Me.jsx(ou.div,{...c,ref:w,style:{pointerEvents:T?R?"auto":"none":void 0,...r.style},onFocusCapture:La(r.onFocusCapture,O.onFocusCapture),onBlurCapture:La(r.onBlurCapture,O.onBlurCapture),onPointerDownCapture:La(r.onPointerDownCapture,L.onPointerDownCapture)})});DT.displayName=M4;var C4="DismissableLayerBranch",T4=k.forwardRef((r,e)=>{const t=k.useContext(LT),n=k.useRef(null),i=Nc(e,n);return k.useEffect(()=>{const s=n.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),Me.jsx(ou.div,{...r,ref:i})});T4.displayName=C4;function R4(r,e=globalThis==null?void 0:globalThis.document){const t=Vd(r),n=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){OT(b4,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function P4(r,e=globalThis==null?void 0:globalThis.document){const t=Vd(r),n=k.useRef(!1);return k.useEffect(()=>{const i=s=>{s.target&&!n.current&&OT(E4,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CM(){const r=new CustomEvent(S_);document.dispatchEvent(r)}function OT(r,e,t,{discrete:n}){const i=t.originalEvent.target,s=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(r,e,{once:!0}),n?HU(i,s):i.dispatchEvent(s)}var B4=V2.useId||(()=>{}),I4=0;function L4(r){const[e,t]=k.useState(B4());return Bc(()=>{t(n=>n??String(I4++))},[r]),e?`radix-${e}`:""}const D4=["top","right","bottom","left"],Yl=Math.min,os=Math.max,C0=Math.round,e0=Math.floor,No=r=>({x:r,y:r}),O4={left:"right",right:"left",bottom:"top",top:"bottom"},k4={start:"end",end:"start"};function A_(r,e,t){return os(r,Yl(e,t))}function $a(r,e){return typeof r=="function"?r(e):r}function Xa(r){return r.split("-")[0]}function Wd(r){return r.split("-")[1]}function N1(r){return r==="x"?"y":"x"}function z1(r){return r==="y"?"height":"width"}function Ql(r){return["top","bottom"].includes(Xa(r))?"y":"x"}function U1(r){return N1(Ql(r))}function F4(r,e,t){t===void 0&&(t=!1);const n=Wd(r),i=U1(r),s=z1(i);let o=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=T0(o)),[o,T0(o)]}function N4(r){const e=T0(r);return[M_(r),e,M_(e)]}function M_(r){return r.replace(/start|end/g,e=>k4[e])}function z4(r,e,t){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function U4(r,e,t,n){const i=Wd(r);let s=z4(Xa(r),t==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(M_)))),s}function T0(r){return r.replace(/left|right|bottom|top/g,e=>O4[e])}function H4(r){return{top:0,right:0,bottom:0,left:0,...r}}function kT(r){return typeof r!="number"?H4(r):{top:r,right:r,bottom:r,left:r}}function R0(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function TM(r,e,t){let{reference:n,floating:i}=r;const s=Ql(e),o=U1(e),l=z1(o),c=Xa(e),d=s==="y",p=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,y=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:p,y:n.y-i.height};break;case"bottom":v={x:p,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:m};break;case"left":v={x:n.x-i.width,y:m};break;default:v={x:n.x,y:n.y}}switch(Wd(e)){case"start":v[o]-=y*(t&&d?-1:1);break;case"end":v[o]+=y*(t&&d?-1:1);break}return v}const G4=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:r,floating:e,strategy:i}),{x:p,y:m}=TM(d,n,c),y=n,v={},w=0;for(let _=0;_<l.length;_++){const{name:A,fn:b}=l[_],{x:E,y:T,data:R,reset:L}=await b({x:p,y:m,initialPlacement:n,placement:y,strategy:i,middlewareData:v,rects:d,platform:o,elements:{reference:r,floating:e}});p=E??p,m=T??m,v={...v,[A]:{...v[A],...R}},L&&w<=50&&(w++,typeof L=="object"&&(L.placement&&(y=L.placement),L.rects&&(d=L.rects===!0?await o.getElementRects({reference:r,floating:e,strategy:i}):L.rects),{x:p,y:m}=TM(d,y,c)),_=-1)}return{x:p,y:m,placement:y,strategy:i,middlewareData:v}};async function Dp(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=r,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:v=0}=$a(e,r),w=kT(v),A=l[y?m==="floating"?"reference":"floating":m],b=R0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(A)))==null||t?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:c})),E=m==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),R=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},L=R0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:T,strategy:c}):E);return{top:(b.top-L.top+w.top)/R.y,bottom:(L.bottom-b.bottom+w.bottom)/R.y,left:(b.left-L.left+w.left)/R.x,right:(L.right-b.right+w.right)/R.x}}const V4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:p=0}=$a(r,e)||{};if(d==null)return{};const m=kT(p),y={x:t,y:n},v=U1(i),w=z1(v),_=await o.getDimensions(d),A=v==="y",b=A?"top":"left",E=A?"bottom":"right",T=A?"clientHeight":"clientWidth",R=s.reference[w]+s.reference[v]-y[v]-s.floating[w],L=y[v]-s.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let F=O?O[T]:0;(!F||!await(o.isElement==null?void 0:o.isElement(O)))&&(F=l.floating[T]||s.floating[w]);const I=R/2-L/2,G=F/2-_[w]/2-1,V=Yl(m[b],G),q=Yl(m[E],G),ce=V,ee=F-_[w]-q,Z=F/2-_[w]/2+I,le=A_(ce,Z,ee),he=!c.arrow&&Wd(i)!=null&&Z!==le&&s.reference[w]/2-(Z<ce?V:q)-_[w]/2<0,de=he?Z<ce?Z-ce:Z-ee:0;return{[v]:y[v]+de,data:{[v]:le,centerOffset:Z-le-de,...he&&{alignmentOffset:de}},reset:he}}}),W4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...A}=$a(r,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=Xa(i),E=Ql(l),T=Xa(l)===l,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),L=y||(T||!_?[T0(l)]:N4(l)),O=w!=="none";!y&&O&&L.push(...U4(l,_,w,R));const F=[l,...L],I=await Dp(e,A),G=[];let V=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&G.push(I[b]),m){const Z=F4(i,o,R);G.push(I[Z[0]],I[Z[1]])}if(V=[...V,{placement:i,overflows:G}],!G.every(Z=>Z<=0)){var q,ce;const Z=(((q=s.flip)==null?void 0:q.index)||0)+1,le=F[Z];if(le)return{data:{index:Z,overflows:V},reset:{placement:le}};let he=(ce=V.filter(de=>de.overflows[0]<=0).sort((de,z)=>de.overflows[1]-z.overflows[1])[0])==null?void 0:ce.placement;if(!he)switch(v){case"bestFit":{var ee;const de=(ee=V.filter(z=>{if(O){const K=Ql(z.placement);return K===E||K==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(K=>K>0).reduce((K,$)=>K+$,0)]).sort((z,K)=>z[1]-K[1])[0])==null?void 0:ee[0];de&&(he=de);break}case"initialPlacement":he=l;break}if(i!==he)return{reset:{placement:he}}}return{}}}};function RM(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function PM(r){return D4.some(e=>r[e]>=0)}const j4=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...i}=$a(r,e);switch(n){case"referenceHidden":{const s=await Dp(e,{...i,elementContext:"reference"}),o=RM(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PM(o)}}}case"escaped":{const s=await Dp(e,{...i,altBoundary:!0}),o=RM(s,t.floating);return{data:{escapedOffsets:o,escaped:PM(o)}}}default:return{}}}}};async function J4(r,e){const{placement:t,platform:n,elements:i}=r,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Xa(t),l=Wd(t),c=Ql(t)==="y",d=["left","top"].includes(o)?-1:1,p=s&&c?-1:1,m=$a(e,r);let{mainAxis:y,crossAxis:v,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*p,y:y*d}:{x:y*d,y:v*p}}const $4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await J4(e,r);return o===((t=l.offset)==null?void 0:t.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},X4=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:A=>{let{x:b,y:E}=A;return{x:b,y:E}}},...c}=$a(r,e),d={x:t,y:n},p=await Dp(e,c),m=Ql(Xa(i)),y=N1(m);let v=d[y],w=d[m];if(s){const A=y==="y"?"top":"left",b=y==="y"?"bottom":"right",E=v+p[A],T=v-p[b];v=A_(E,v,T)}if(o){const A=m==="y"?"top":"left",b=m==="y"?"bottom":"right",E=w+p[A],T=w-p[b];w=A_(E,w,T)}const _=l.fn({...e,[y]:v,[m]:w});return{..._,data:{x:_.x-t,y:_.y-n,enabled:{[y]:s,[m]:o}}}}}},K4=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=$a(r,e),p={x:t,y:n},m=Ql(i),y=N1(m);let v=p[y],w=p[m];const _=$a(l,e),A=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const T=y==="y"?"height":"width",R=s.reference[y]-s.floating[T]+A.mainAxis,L=s.reference[y]+s.reference[T]-A.mainAxis;v<R?v=R:v>L&&(v=L)}if(d){var b,E;const T=y==="y"?"width":"height",R=["top","left"].includes(Xa(i)),L=s.reference[m]-s.floating[T]+(R&&((b=o.offset)==null?void 0:b[m])||0)+(R?0:A.crossAxis),O=s.reference[m]+s.reference[T]+(R?0:((E=o.offset)==null?void 0:E[m])||0)-(R?A.crossAxis:0);w<L?w=L:w>O&&(w=O)}return{[y]:v,[m]:w}}}},Y4=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=$a(r,e),p=await Dp(e,d),m=Xa(i),y=Wd(i),v=Ql(i)==="y",{width:w,height:_}=s.floating;let A,b;m==="top"||m==="bottom"?(A=m,b=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,A=y==="end"?"top":"bottom");const E=_-p.top-p.bottom,T=w-p.left-p.right,R=Yl(_-p[A],E),L=Yl(w-p[b],T),O=!e.middlewareData.shift;let F=R,I=L;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(F=E),O&&!y){const V=os(p.left,0),q=os(p.right,0),ce=os(p.top,0),ee=os(p.bottom,0);v?I=w-2*(V!==0||q!==0?V+q:os(p.left,p.right)):F=_-2*(ce!==0||ee!==0?ce+ee:os(p.top,p.bottom))}await c({...e,availableWidth:I,availableHeight:F});const G=await o.getDimensions(l.floating);return w!==G.width||_!==G.height?{reset:{rects:!0}}:{}}}};function cy(){return typeof window<"u"}function jd(r){return FT(r)?(r.nodeName||"").toLowerCase():"#document"}function fs(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Wo(r){var e;return(e=(FT(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function FT(r){return cy()?r instanceof Node||r instanceof fs(r).Node:!1}function mo(r){return cy()?r instanceof Element||r instanceof fs(r).Element:!1}function Vo(r){return cy()?r instanceof HTMLElement||r instanceof fs(r).HTMLElement:!1}function BM(r){return!cy()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof fs(r).ShadowRoot}function um(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=go(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function Q4(r){return["table","td","th"].includes(jd(r))}function fy(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function H1(r){const e=G1(),t=mo(r)?go(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function q4(r){let e=ql(r);for(;Vo(e)&&!Rd(e);){if(H1(e))return e;if(fy(e))return null;e=ql(e)}return null}function G1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rd(r){return["html","body","#document"].includes(jd(r))}function go(r){return fs(r).getComputedStyle(r)}function dy(r){return mo(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function ql(r){if(jd(r)==="html")return r;const e=r.assignedSlot||r.parentNode||BM(r)&&r.host||Wo(r);return BM(e)?e.host:e}function NT(r){const e=ql(r);return Rd(e)?r.ownerDocument?r.ownerDocument.body:r.body:Vo(e)&&um(e)?e:NT(e)}function Op(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=NT(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),o=fs(i);if(s){const l=b_(o);return e.concat(o,o.visualViewport||[],um(i)?i:[],l&&t?Op(l):[])}return e.concat(i,Op(i,[],t))}function b_(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function zT(r){const e=go(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Vo(r),s=i?r.offsetWidth:t,o=i?r.offsetHeight:n,l=C0(t)!==s||C0(n)!==o;return l&&(t=s,n=o),{width:t,height:n,$:l}}function V1(r){return mo(r)?r:r.contextElement}function wd(r){const e=V1(r);if(!Vo(e))return No(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:s}=zT(e);let o=(s?C0(t.width):t.width)/n,l=(s?C0(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Z4=No(0);function UT(r){const e=fs(r);return!G1()||!e.visualViewport?Z4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eH(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==fs(r)?!1:e}function Ic(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),s=V1(r);let o=No(1);e&&(n?mo(n)&&(o=wd(n)):o=wd(r));const l=eH(s,t,n)?UT(s):No(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,p=i.width/o.x,m=i.height/o.y;if(s){const y=fs(s),v=n&&mo(n)?fs(n):n;let w=y,_=b_(w);for(;_&&n&&v!==w;){const A=wd(_),b=_.getBoundingClientRect(),E=go(_),T=b.left+(_.clientLeft+parseFloat(E.paddingLeft))*A.x,R=b.top+(_.clientTop+parseFloat(E.paddingTop))*A.y;c*=A.x,d*=A.y,p*=A.x,m*=A.y,c+=T,d+=R,w=fs(_),_=b_(w)}}return R0({width:p,height:m,x:c,y:d})}function W1(r,e){const t=dy(r).scrollLeft;return e?e.left+t:Ic(Wo(r)).left+t}function HT(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:W1(r,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function tH(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const s=i==="fixed",o=Wo(n),l=e?fy(e.floating):!1;if(n===o||l&&s)return t;let c={scrollLeft:0,scrollTop:0},d=No(1);const p=No(0),m=Vo(n);if((m||!m&&!s)&&((jd(n)!=="body"||um(o))&&(c=dy(n)),Vo(n))){const v=Ic(n);d=wd(n),p.x=v.x+n.clientLeft,p.y=v.y+n.clientTop}const y=o&&!m&&!s?HT(o,c,!0):No(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+p.x+y.x,y:t.y*d.y-c.scrollTop*d.y+p.y+y.y}}function nH(r){return Array.from(r.getClientRects())}function rH(r){const e=Wo(r),t=dy(r),n=r.ownerDocument.body,i=os(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=os(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+W1(r);const l=-t.scrollTop;return go(n).direction==="rtl"&&(o+=os(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function iH(r,e){const t=fs(r),n=Wo(r),i=t.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=G1();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function sH(r,e){const t=Ic(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,s=Vo(r)?wd(r):No(1),o=r.clientWidth*s.x,l=r.clientHeight*s.y,c=i*s.x,d=n*s.y;return{width:o,height:l,x:c,y:d}}function IM(r,e,t){let n;if(e==="viewport")n=iH(r,t);else if(e==="document")n=rH(Wo(r));else if(mo(e))n=sH(e,t);else{const i=UT(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return R0(n)}function GT(r,e){const t=ql(r);return t===e||!mo(t)||Rd(t)?!1:go(t).position==="fixed"||GT(t,e)}function oH(r,e){const t=e.get(r);if(t)return t;let n=Op(r,[],!1).filter(l=>mo(l)&&jd(l)!=="body"),i=null;const s=go(r).position==="fixed";let o=s?ql(r):r;for(;mo(o)&&!Rd(o);){const l=go(o),c=H1(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||um(o)&&!c&&GT(r,o))?n=n.filter(p=>p!==o):i=l,o=ql(o)}return e.set(r,n),n}function aH(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const o=[...t==="clippingAncestors"?fy(e)?[]:oH(e,this._c):[].concat(t),n],l=o[0],c=o.reduce((d,p)=>{const m=IM(e,p,i);return d.top=os(m.top,d.top),d.right=Yl(m.right,d.right),d.bottom=Yl(m.bottom,d.bottom),d.left=os(m.left,d.left),d},IM(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lH(r){const{width:e,height:t}=zT(r);return{width:e,height:t}}function uH(r,e,t){const n=Vo(e),i=Wo(e),s=t==="fixed",o=Ic(r,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=No(0);if(n||!n&&!s)if((jd(e)!=="body"||um(i))&&(l=dy(e)),n){const y=Ic(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&(c.x=W1(i));const d=i&&!n&&!s?HT(i,l):No(0),p=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:p,y:m,width:o.width,height:o.height}}function rx(r){return go(r).position==="static"}function LM(r,e){if(!Vo(r)||go(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Wo(r)===t&&(t=t.ownerDocument.body),t}function VT(r,e){const t=fs(r);if(fy(r))return t;if(!Vo(r)){let i=ql(r);for(;i&&!Rd(i);){if(mo(i)&&!rx(i))return i;i=ql(i)}return t}let n=LM(r,e);for(;n&&Q4(n)&&rx(n);)n=LM(n,e);return n&&Rd(n)&&rx(n)&&!H1(n)?t:n||q4(r)||t}const cH=async function(r){const e=this.getOffsetParent||VT,t=this.getDimensions,n=await t(r.floating);return{reference:uH(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fH(r){return go(r).direction==="rtl"}const dH={convertOffsetParentRelativeRectToViewportRelativeRect:tH,getDocumentElement:Wo,getClippingRect:aH,getOffsetParent:VT,getElementRects:cH,getClientRects:nH,getDimensions:lH,getScale:wd,isElement:mo,isRTL:fH};function WT(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function hH(r,e){let t=null,n;const i=Wo(r);function s(){var l;clearTimeout(n),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=r.getBoundingClientRect(),{left:p,top:m,width:y,height:v}=d;if(l||e(),!y||!v)return;const w=e0(m),_=e0(i.clientWidth-(p+y)),A=e0(i.clientHeight-(m+v)),b=e0(p),T={rootMargin:-w+"px "+-_+"px "+-A+"px "+-b+"px",threshold:os(0,Yl(1,c))||1};let R=!0;function L(O){const F=O[0].intersectionRatio;if(F!==c){if(!R)return o();F?o(!1,F):n=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!WT(d,r.getBoundingClientRect())&&o(),R=!1}try{t=new IntersectionObserver(L,{...T,root:i.ownerDocument})}catch{t=new IntersectionObserver(L,T)}t.observe(r)}return o(!0),s}function pH(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=V1(r),p=i||s?[...d?Op(d):[],...Op(e)]:[];p.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const m=d&&l?hH(d,t):null;let y=-1,v=null;o&&(v=new ResizeObserver(b=>{let[E]=b;E&&E.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(e)})),t()}),d&&!c&&v.observe(d),v.observe(e));let w,_=c?Ic(r):null;c&&A();function A(){const b=Ic(r);_&&!WT(_,b)&&t(),_=b,w=requestAnimationFrame(A)}return t(),()=>{var b;p.forEach(E=>{i&&E.removeEventListener("scroll",t),s&&E.removeEventListener("resize",t)}),m==null||m(),(b=v)==null||b.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const mH=$4,gH=X4,yH=W4,vH=Y4,xH=j4,DM=V4,_H=K4,wH=(r,e,t)=>{const n=new Map,i={platform:dH,...t},s={...i.platform,_c:n};return G4(r,e,{...i,platform:s})};var m0=typeof document<"u"?k.useLayoutEffect:k.useEffect;function P0(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!P0(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const s=i[n];if(!(s==="_owner"&&r.$$typeof)&&!P0(r[s],e[s]))return!1}return!0}return r!==r&&e!==e}function jT(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function OM(r,e){const t=jT(r);return Math.round(e*t)/t}function ix(r){const e=k.useRef(r);return m0(()=>{e.current=r}),e}function SH(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=r,[p,m]=k.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,v]=k.useState(n);P0(y,n)||v(n);const[w,_]=k.useState(null),[A,b]=k.useState(null),E=k.useCallback(z=>{z!==O.current&&(O.current=z,_(z))},[]),T=k.useCallback(z=>{z!==F.current&&(F.current=z,b(z))},[]),R=s||w,L=o||A,O=k.useRef(null),F=k.useRef(null),I=k.useRef(p),G=c!=null,V=ix(c),q=ix(i),ce=ix(d),ee=k.useCallback(()=>{if(!O.current||!F.current)return;const z={placement:e,strategy:t,middleware:y};q.current&&(z.platform=q.current),wH(O.current,F.current,z).then(K=>{const $={...K,isPositioned:ce.current!==!1};Z.current&&!P0(I.current,$)&&(I.current=$,O1.flushSync(()=>{m($)}))})},[y,e,t,q,ce]);m0(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[d]);const Z=k.useRef(!1);m0(()=>(Z.current=!0,()=>{Z.current=!1}),[]),m0(()=>{if(R&&(O.current=R),L&&(F.current=L),R&&L){if(V.current)return V.current(R,L,ee);ee()}},[R,L,ee,V,G]);const le=k.useMemo(()=>({reference:O,floating:F,setReference:E,setFloating:T}),[E,T]),he=k.useMemo(()=>({reference:R,floating:L}),[R,L]),de=k.useMemo(()=>{const z={position:t,left:0,top:0};if(!he.floating)return z;const K=OM(he.floating,p.x),$=OM(he.floating,p.y);return l?{...z,transform:"translate("+K+"px, "+$+"px)",...jT(he.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:K,top:$}},[t,l,he.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:ee,refs:le,elements:he,floatingStyles:de}),[p,ee,le,he,de])}const AH=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?DM({element:n.current,padding:i}).fn(t):{}:n?DM({element:n,padding:i}).fn(t):{}}}},MH=(r,e)=>({...mH(r),options:[r,e]}),bH=(r,e)=>({...gH(r),options:[r,e]}),EH=(r,e)=>({..._H(r),options:[r,e]}),CH=(r,e)=>({...yH(r),options:[r,e]}),TH=(r,e)=>({...vH(r),options:[r,e]}),RH=(r,e)=>({...xH(r),options:[r,e]}),PH=(r,e)=>({...AH(r),options:[r,e]});var BH="Arrow",JT=k.forwardRef((r,e)=>{const{children:t,width:n=10,height:i=5,...s}=r;return Me.jsx(ou.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:Me.jsx("polygon",{points:"0,0 30,0 15,10"})})});JT.displayName=BH;var IH=JT;function LH(r){const[e,t]=k.useState(void 0);return Bc(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=r.offsetWidth,l=r.offsetHeight;t({width:o,height:l})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}var j1="Popper",[$T,XT]=IT(j1),[DH,KT]=$T(j1),YT=r=>{const{__scopePopper:e,children:t}=r,[n,i]=k.useState(null);return Me.jsx(DH,{scope:e,anchor:n,onAnchorChange:i,children:t})};YT.displayName=j1;var QT="PopperAnchor",qT=k.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...i}=r,s=KT(QT,t),o=k.useRef(null),l=Nc(e,o);return k.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:Me.jsx(ou.div,{...i,ref:l})});qT.displayName=QT;var J1="PopperContent",[OH,kH]=$T(J1),ZT=k.forwardRef((r,e)=>{var Ve,ke,Ye,Ue,ht,Te;const{__scopePopper:t,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:w,..._}=r,A=KT(J1,t),[b,E]=k.useState(null),T=Nc(e,Ae=>E(Ae)),[R,L]=k.useState(null),O=LH(R),F=(O==null?void 0:O.width)??0,I=(O==null?void 0:O.height)??0,G=n+(s!=="center"?"-"+s:""),V=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},q=Array.isArray(d)?d:[d],ce=q.length>0,ee={padding:V,boundary:q.filter(NH),altBoundary:ce},{refs:Z,floatingStyles:le,placement:he,isPositioned:de,middlewareData:z}=SH({strategy:"fixed",placement:G,whileElementsMounted:(...Ae)=>pH(...Ae,{animationFrame:v==="always"}),elements:{reference:A.anchor},middleware:[MH({mainAxis:i+I,alignmentAxis:o}),c&&bH({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?EH():void 0,...ee}),c&&CH({...ee}),TH({...ee,apply:({elements:Ae,rects:Ge,availableWidth:et,availableHeight:$e})=>{const{width:At,height:gt}=Ge.reference,lt=Ae.floating.style;lt.setProperty("--radix-popper-available-width",`${et}px`),lt.setProperty("--radix-popper-available-height",`${$e}px`),lt.setProperty("--radix-popper-anchor-width",`${At}px`),lt.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),R&&PH({element:R,padding:l}),zH({arrowWidth:F,arrowHeight:I}),y&&RH({strategy:"referenceHidden",...ee})]}),[K,$]=nR(he),U=Vd(w);Bc(()=>{de&&(U==null||U())},[de,U]);const j=(Ve=z.arrow)==null?void 0:Ve.x,ge=(ke=z.arrow)==null?void 0:ke.y,_e=((Ye=z.arrow)==null?void 0:Ye.centerOffset)!==0,[Pe,fe]=k.useState();return Bc(()=>{b&&fe(window.getComputedStyle(b).zIndex)},[b]),Me.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:de?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(Ue=z.transformOrigin)==null?void 0:Ue.x,(ht=z.transformOrigin)==null?void 0:ht.y].join(" "),...((Te=z.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:Me.jsx(OH,{scope:t,placedSide:K,onArrowChange:L,arrowX:j,arrowY:ge,shouldHideArrow:_e,children:Me.jsx(ou.div,{"data-side":K,"data-align":$,..._,ref:T,style:{..._.style,animation:de?void 0:"none"}})})})});ZT.displayName=J1;var eR="PopperArrow",FH={top:"bottom",right:"left",bottom:"top",left:"right"},tR=k.forwardRef(function(e,t){const{__scopePopper:n,...i}=e,s=kH(eR,n),o=FH[s.placedSide];return Me.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:Me.jsx(IH,{...i,ref:t,style:{...i.style,display:"block"}})})});tR.displayName=eR;function NH(r){return r!==null}var zH=r=>({name:"transformOrigin",options:r,fn(e){var A,b,E;const{placement:t,rects:n,middlewareData:i}=e,o=((A=i.arrow)==null?void 0:A.centerOffset)!==0,l=o?0:r.arrowWidth,c=o?0:r.arrowHeight,[d,p]=nR(t),m={start:"0%",center:"50%",end:"100%"}[p],y=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,v=(((E=i.arrow)==null?void 0:E.y)??0)+c/2;let w="",_="";return d==="bottom"?(w=o?m:`${y}px`,_=`${-c}px`):d==="top"?(w=o?m:`${y}px`,_=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,_=o?m:`${v}px`):d==="left"&&(w=`${n.floating.width+c}px`,_=o?m:`${v}px`),{data:{x:w,y:_}}}});function nR(r){const[e,t="center"]=r.split("-");return[e,t]}var UH=YT,HH=qT,GH=ZT,VH=tR;function WH(r,e){return k.useReducer((t,n)=>e[t][n]??t,r)}var rR=r=>{const{present:e,children:t}=r,n=jH(e),i=typeof t=="function"?t({present:n.isPresent}):k.Children.only(t),s=Nc(n.ref,JH(i));return typeof t=="function"||n.isPresent?k.cloneElement(i,{ref:s}):null};rR.displayName="Presence";function jH(r){const[e,t]=k.useState(),n=k.useRef({}),i=k.useRef(r),s=k.useRef("none"),o=r?"mounted":"unmounted",[l,c]=WH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const d=t0(n.current);s.current=l==="mounted"?d:"none"},[l]),Bc(()=>{const d=n.current,p=i.current;if(p!==r){const y=s.current,v=t0(d);r?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(p&&y!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,c]),Bc(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,m=v=>{const _=t0(n.current).includes(v.animationName);if(v.target===e&&_&&(c("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},y=v=>{v.target===e&&(s.current=t0(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(d=>{d&&(n.current=getComputedStyle(d)),t(d)},[])}}function t0(r){return(r==null?void 0:r.animationName)||"none"}function JH(r){var n,i;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function $H({prop:r,defaultProp:e,onChange:t=()=>{}}){const[n,i]=XH({defaultProp:e,onChange:t}),s=r!==void 0,o=s?r:n,l=Vd(t),c=k.useCallback(d=>{if(s){const m=typeof d=="function"?d(r):d;m!==r&&l(m)}else i(d)},[s,r,i,l]);return[o,c]}function XH({defaultProp:r,onChange:e}){const t=k.useState(r),[n]=t,i=k.useRef(n),s=Vd(e);return k.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),t}var KH="VisuallyHidden",iR=k.forwardRef((r,e)=>Me.jsx(ou.span,{...r,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}));iR.displayName=KH;var YH=iR,[hy,lV]=IT("Tooltip",[XT]),py=XT(),QH="TooltipProvider",E_="tooltip.open",[uV,$1]=hy(QH),my="Tooltip",[qH,gy]=hy(my),sR=r=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=r,c=$1(my,r.__scopeTooltip),d=py(e),[p,m]=k.useState(null),y=L4(),v=k.useRef(0),w=o??c.disableHoverableContent,_=l??c.delayDuration,A=k.useRef(!1),[b=!1,E]=$H({prop:n,defaultProp:i,onChange:F=>{F?(c.onOpen(),document.dispatchEvent(new CustomEvent(E_))):c.onClose(),s==null||s(F)}}),T=k.useMemo(()=>b?A.current?"delayed-open":"instant-open":"closed",[b]),R=k.useCallback(()=>{window.clearTimeout(v.current),v.current=0,A.current=!1,E(!0)},[E]),L=k.useCallback(()=>{window.clearTimeout(v.current),v.current=0,E(!1)},[E]),O=k.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{A.current=!0,E(!0),v.current=0},_)},[_,E]);return k.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),Me.jsx(UH,{...d,children:Me.jsx(qH,{scope:e,contentId:y,open:b,stateAttribute:T,trigger:p,onTriggerChange:m,onTriggerEnter:k.useCallback(()=>{c.isOpenDelayed?O():R()},[c.isOpenDelayed,O,R]),onTriggerLeave:k.useCallback(()=>{w?L():(window.clearTimeout(v.current),v.current=0)},[L,w]),onOpen:R,onClose:L,disableHoverableContent:w,children:t})})};sR.displayName=my;var C_="TooltipTrigger",oR=k.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,i=gy(C_,t),s=$1(C_,t),o=py(t),l=k.useRef(null),c=Nc(e,l,i.onTriggerChange),d=k.useRef(!1),p=k.useRef(!1),m=k.useCallback(()=>d.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),Me.jsx(HH,{asChild:!0,...o,children:Me.jsx(ou.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:La(r.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:La(r.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:La(r.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:La(r.onFocus,()=>{d.current||i.onOpen()}),onBlur:La(r.onBlur,i.onClose),onClick:La(r.onClick,i.onClose)})})});oR.displayName=C_;var ZH="TooltipPortal",[cV,eG]=hy(ZH,{forceMount:void 0}),Pd="TooltipContent",aR=k.forwardRef((r,e)=>{const t=eG(Pd,r.__scopeTooltip),{forceMount:n=t.forceMount,side:i="top",...s}=r,o=gy(Pd,r.__scopeTooltip);return Me.jsx(rR,{present:n||o.open,children:o.disableHoverableContent?Me.jsx(lR,{side:i,...s,ref:e}):Me.jsx(tG,{side:i,...s,ref:e})})}),tG=k.forwardRef((r,e)=>{const t=gy(Pd,r.__scopeTooltip),n=$1(Pd,r.__scopeTooltip),i=k.useRef(null),s=Nc(e,i),[o,l]=k.useState(null),{trigger:c,onClose:d}=t,p=i.current,{onPointerInTransitChange:m}=n,y=k.useCallback(()=>{l(null),m(!1)},[m]),v=k.useCallback((w,_)=>{const A=w.currentTarget,b={x:w.clientX,y:w.clientY},E=iG(b,A.getBoundingClientRect()),T=sG(b,E),R=oG(_.getBoundingClientRect()),L=lG([...T,...R]);l(L),m(!0)},[m]);return k.useEffect(()=>()=>y(),[y]),k.useEffect(()=>{if(c&&p){const w=A=>v(A,p),_=A=>v(A,c);return c.addEventListener("pointerleave",w),p.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",w),p.removeEventListener("pointerleave",_)}}},[c,p,v,y]),k.useEffect(()=>{if(o){const w=_=>{const A=_.target,b={x:_.clientX,y:_.clientY},E=(c==null?void 0:c.contains(A))||(p==null?void 0:p.contains(A)),T=!aG(b,o);E?y():T&&(y(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,p,o,d,y]),Me.jsx(lR,{...r,ref:s})}),[nG,rG]=hy(my,{isInside:!1}),lR=k.forwardRef((r,e)=>{const{__scopeTooltip:t,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=r,c=gy(Pd,t),d=py(t),{onClose:p}=c;return k.useEffect(()=>(document.addEventListener(E_,p),()=>document.removeEventListener(E_,p)),[p]),k.useEffect(()=>{if(c.trigger){const m=y=>{const v=y.target;v!=null&&v.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),Me.jsx(DT,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:Me.jsxs(GH,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Me.jsx(bT,{children:n}),Me.jsx(nG,{scope:t,isInside:!0,children:Me.jsx(YH,{id:c.contentId,role:"tooltip",children:i||n})})]})})});aR.displayName=Pd;var uR="TooltipArrow",cR=k.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,i=py(t);return rG(uR,t).isInside?null:Me.jsx(VH,{...i,...n,ref:e})});cR.displayName=uR;function iG(r,e){const t=Math.abs(e.top-r.y),n=Math.abs(e.bottom-r.y),i=Math.abs(e.right-r.x),s=Math.abs(e.left-r.x);switch(Math.min(t,n,i,s)){case s:return"left";case i:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function sG(r,e,t=5){const n=[];switch(e){case"top":n.push({x:r.x-t,y:r.y+t},{x:r.x+t,y:r.y+t});break;case"bottom":n.push({x:r.x-t,y:r.y-t},{x:r.x+t,y:r.y-t});break;case"left":n.push({x:r.x+t,y:r.y-t},{x:r.x+t,y:r.y+t});break;case"right":n.push({x:r.x-t,y:r.y-t},{x:r.x-t,y:r.y+t});break}return n}function oG(r){const{top:e,right:t,bottom:n,left:i}=r;return[{x:i,y:e},{x:t,y:e},{x:t,y:n},{x:i,y:n}]}function aG(r,e){const{x:t,y:n}=r;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,c=e[s].y,d=e[o].x,p=e[o].y;c>n!=p>n&&t<(d-l)*(n-c)/(p-c)+l&&(i=!i)}return i}function lG(r){const e=r.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),uG(e)}function uG(r){if(r.length<=1)return r.slice();const e=[];for(let n=0;n<r.length;n++){const i=r[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let n=r.length-1;n>=0;n--){const i=r[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var cG=sR,fG=oR,dG=aR,hG=cR;function pG(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function bn(r,e){if(r==null)return{};var t=pG(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}let jn;(function(r){r[r.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",r[r.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",r[r.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",r[r.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",r[r.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",r[r.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",r[r.THEME_ERROR=6]="THEME_ERROR",r[r.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",r[r.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",r[r.EMPTY_KEY=9]="EMPTY_KEY"})(jn||(jn={}));const mG={[jn.UNSUPPORTED_INPUT]:(r,e)=>[`An input with type \`${r}\` input was found at path \`${e}\` but it's not supported yet.`],[jn.NO_COMPONENT_FOR_TYPE]:(r,e)=>[`Type \`${r}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[jn.UNKNOWN_INPUT]:(r,e)=>[`input at path \`${r}\` is not recognized.`,e],[jn.DUPLICATE_KEYS]:(r,e,t)=>[`Key \`${r}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[jn.ALREADY_REGISTERED_TYPE]:r=>[`Type ${r} has already been registered. You can't register a component with the same type.`],[jn.CLIPBOARD_ERROR]:r=>["Error copying the value",r],[jn.THEME_ERROR]:(r,e)=>[`Error accessing the theme \`${r}.${e}\` value.`],[jn.PATH_DOESNT_EXIST]:r=>[`Error getting the value at path \`${r}\`. There is probably an error in your \`render\` function.`],[jn.PATH_DOESNT_EXIST]:r=>[`Error accessing the value at path \`${r}\``],[jn.INPUT_TYPE_OVERRIDE]:(r,e,t)=>[`Input at path \`${r}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[jn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function fR(r,e,...t){const[n,...i]=mG[e](...t);console[r]("LEVA: "+n,...i)}const ka=fR.bind(null,"warn"),gG=fR.bind(null,"log"),yG=["value"],vG=["schema"],xG=["value"],dR=[],Lc={};function kM(r){let{value:e}=r,t=bn(r,yG);for(let n of dR){const i=n(e,t);if(i)return i}}function Qa(r,e){let{schema:t}=e,n=bn(e,vG);if(r in Lc){ka(jn.ALREADY_REGISTERED_TYPE,r);return}dR.push((i,s)=>t(i,s)&&r),Lc[r]=n}function sx(r,e,t,n){const{normalize:i}=Lc[r];if(i)return i(e,t,n);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=bn(e,xG);return{value:s,settings:o}}function _G(r,e,t,n,i,s){const{sanitize:o}=Lc[r];return o?o(e,t,n,i,s):e}function FM(r,e,t){const{format:n}=Lc[r];return n?n(e,t):e}function wG(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function NM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ht(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(t),!0).forEach(function(n){wG(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const Zl=(r,e,t)=>r>t?t:r<e?e:r,SG=r=>{if(r===""||typeof r=="number")return r;try{const e=zl(r);if(!isNaN(e))return e}catch{}return parseFloat(r)},AG=Math.log(10);function zM(r){let e=Math.abs(+String(r).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/AG)+1,n=Math.floor(Math.log10(Math.abs(r))),i=Math.pow(10,n-t);return Math.max(i,.001)}const B0=(r,e,t)=>t===e?0:(Zl(r,e,t)-e)/(t-e),I0=(r,e,t)=>r*(t-e)+e,MG=()=>"_"+Math.random().toString(36).substr(2,9),UM=/\(([0-9+\-*/^ .]+)\)/,HM=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,GM=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,VM=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,WM=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,jM=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function zl(r){if(isNaN(Number(r)))if(UM.test(r)){const e=r.replace(UM,(t,n)=>String(zl(n)));return zl(e)}else if(HM.test(r)){const e=r.replace(HM,(t,n,i)=>String(Math.pow(Number(n),Number(i))));return zl(e)}else if(GM.test(r)){const e=r.replace(GM,(t,n,i)=>String(Number(n)*Number(i)));return zl(e)}else if(VM.test(r)){const e=r.replace(VM,(t,n,i)=>{if(i!=0)return String(Number(n)/Number(i));throw new Error("Division by zero")});return zl(e)}else if(WM.test(r)){const e=r.replace(WM,(t,n,i)=>String(Number(n)+Number(i)));return zl(e)}else if(jM.test(r)){const e=r.replace(jM,(t,n,i)=>String(Number(n)-Number(i)));return zl(e)}else return Number(r);return Number(r)}function bG(r,e){const t=Ht({},r);return e.forEach(n=>n in r&&delete t[n]),t}function EG(r,e){return r.reduce((t,n,i)=>Object.assign(t,{[e[i]]:n}),{})}function hR(r){return Object.prototype.toString.call(r)==="[object Object]"}const CG=r=>hR(r)&&Object.keys(r).length===0;let zo;(function(r){r.BUTTON="BUTTON",r.BUTTON_GROUP="BUTTON_GROUP",r.MONITOR="MONITOR",r.FOLDER="FOLDER"})(zo||(zo={}));let yo;(function(r){r.SELECT="SELECT",r.IMAGE="IMAGE",r.NUMBER="NUMBER",r.COLOR="COLOR",r.STRING="STRING",r.BOOLEAN="BOOLEAN",r.INTERVAL="INTERVAL",r.VECTOR3D="VECTOR3D",r.VECTOR2D="VECTOR2D"})(yo||(yo={}));const TG=["type","__customInput"],RG=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],PG=["type"];function pR(r,e,t={},n){var i,s;if(typeof r!="object"||Array.isArray(r))return{type:n,input:r,options:Ht({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in r){const{type:L,__customInput:O}=r,F=bn(r,TG);return pR(O,e,F,L)}const{render:o,label:l,optional:c,order:d=0,disabled:p,hint:m,onChange:y,onEditStart:v,onEditEnd:w,transient:_}=r,A=bn(r,RG),b=Ht({render:o,key:e,label:l??e,hint:m,transient:_??!!y,onEditStart:v,onEditEnd:w,disabled:p,optional:c,order:d},t);let{type:E}=A,T=bn(A,PG);if(E=n??E,E in zo)return{type:E,input:T,options:b};let R;return n&&hR(T)&&"value"in T?R=T.value:R=CG(T)?void 0:T,{type:E,input:R,options:Ht(Ht({},b),{},{onChange:y,optional:(i=b.optional)!==null&&i!==void 0?i:!1,disabled:(s=b.disabled)!==null&&s!==void 0?s:!1})}}function BG(r,e,t,n){const i=pR(r,e),{type:s,input:o,options:l}=i;if(s)return s in zo?i:{type:s,input:sx(s,o,t,n),options:l};let c=kM(o);return c?{type:c,input:sx(c,o,t,n),options:l}:(c=kM({value:o}),c?{type:c,input:sx(c,{value:o},t,n),options:l}:!1)}function JM(r,e,t,n,i){const{value:s,type:o,settings:l}=r;r.value=mR({type:o,value:s,settings:l},e,t,n),r.fromPanel=i}const IG=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function mR({type:r,value:e,settings:t},n,i,s){const o=r!=="SELECT"&&typeof n=="function"?n(e):n;let l;try{l=_G(r,o,t,e,i,s)}catch(c){throw new IG(`The value \`${n}\` did not result in a correct value.`,e,c)}return Ip(l,e)?e:l}const gR=(r,e,t=!1)=>{let n=0;return function(){const i=arguments,s=t&&!n,o=()=>r.apply(this,i);window.clearTimeout(n),n=window.setTimeout(o,e),s&&o()}},yR=r=>r.shiftKey?5:r.altKey?1/5:1,LG=["value"],DG=["min","max"],OG=r=>{if(typeof r=="number")return!0;if(typeof r=="string"){const e=parseFloat(r);return isNaN(e)?!1:r.substring((""+e).length).trim().length<4}return!1},vR=(r,{min:e=-1/0,max:t=1/0,suffix:n})=>{const i=parseFloat(r);if(r===""||isNaN(i))throw Error("Invalid number");const s=Zl(i,e,t);return n?s+n:s},kG=(r,{pad:e=0,suffix:t})=>{const n=parseFloat(r).toFixed(e);return t?n+t:n},xR=r=>{let{value:e}=r,t=bn(r,LG);const{min:n=-1/0,max:i=1/0}=t,s=bn(t,DG);let o=parseFloat(e);const l=typeof e=="string"?e.substring((""+o).length):void 0;o=Zl(o,n,i);let c=t.step;c||(Number.isFinite(n)?Number.isFinite(i)?c=+(Math.abs(i-n)/100).toPrecision(1):c=+(Math.abs(o-n)/100).toPrecision(1):Number.isFinite(i)&&(c=+(Math.abs(i-o)/100).toPrecision(1)));const d=c?zM(c)*10:zM(o);c=c||d/10;const p=Math.round(Zl(Math.log10(1/d),0,2));return{value:l?o+l:o,settings:Ht({initialValue:o,step:c,pad:p,min:n,max:i,suffix:l},s)}},_R=(r,{step:e,initialValue:t})=>{const n=Math.round((r-t)/e);return t+n*e};var wR=Object.freeze({__proto__:null,schema:OG,sanitize:vR,format:kG,normalize:xR,sanitizeStep:_R});function nr(){return nr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},nr.apply(this,arguments)}const SR=k.createContext({});function ui(){return k.useContext(SR)}const X1=k.createContext(null),AR=k.createContext(null),MR=k.createContext(null);function cm(){return k.useContext(AR)}function FG(){return k.useContext(MR)}const bR=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function n0(r,e){const[t,n]=r.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),n&&(i.backgroundColor=n),i}const ap={$inputStyle:()=>r=>n0(r,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>r=>n0(r,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>r=>n0(r,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>r=>n0(r,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Bt,css:fV,createTheme:NG,globalCss:zG,keyframes:dV}=w4({prefix:"leva",theme:bR(),utils:Ht(Ht({},ap),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:r=>({"&:focus":ap.$focusStyle()(r)}),$focusWithin:r=>({"&:focus-within":ap.$focusStyle()(r)}),$hover:r=>({"&:hover":ap.$hoverStyle()(r)}),$active:r=>({"&:active":ap.$activeStyle()(r)})})}),UG=zG({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function HG(r){const e=bR();if(!r)return{theme:e,className:""};Object.keys(r).forEach(n=>{Object.assign(e[n],r[n])});const t=NG(e);return{theme:e,className:t.className}}function Ga(r,e){const{theme:t}=k.useContext(X1);if(!(r in t)||!(e in t[r]))return ka(jn.THEME_ERROR,r,e),"";let n=e;for(;;){let i=t[r][n];if(typeof i=="string"&&i.charAt(0)==="$")n=i.substr(1);else return i}}const ER=Bt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),CR=Bt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${ER}`]:{paddingLeft:0}}),GG=Bt(CR,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),VG=Bt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),WG=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],jG=["onUpdate"];function K1(r){let{innerLabel:e,value:t,onUpdate:n,onChange:i,onKeyDown:s,type:o,id:l,inputType:c="text",rows:d=0}=r,p=bn(r,WG);const{id:m,emitOnEditStart:y,emitOnEditEnd:v,disabled:w}=ui(),_=l||m,A=k.useRef(null),b=d>0,E=b?"textarea":"input",T=k.useCallback(O=>F=>{const I=F.currentTarget.value;O(I)},[]);te.useEffect(()=>{const O=A.current,F=T(I=>{n(I),v()});return O==null||O.addEventListener("blur",F),()=>O==null?void 0:O.removeEventListener("blur",F)},[T,n,v]);const R=k.useCallback(O=>{O.key==="Enter"&&T(n)(O)},[T,n]),L=Object.assign({as:E},b?{rows:d}:{},p);return te.createElement(VG,{textArea:b},e&&typeof e=="string"?te.createElement(CR,null,e):e,te.createElement(ER,nr({levaType:o,ref:A,id:_,type:c,autoComplete:"off",spellCheck:"false",value:t,onChange:T(i),onFocus:()=>y(),onKeyPress:R,onKeyDown:s,disabled:w},L)))}function JG(r){let{onUpdate:e}=r,t=bn(r,jG);const n=k.useCallback(s=>e(SG(s)),[e]),i=k.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const l=s.altKey?.1:s.shiftKey?10:1;e(c=>parseFloat(c)+o*l)}},[e]);return te.createElement(K1,nr({},t,{onUpdate:n,onKeyDown:i,type:"number"}))}const L0=Bt("div",{}),T_=Bt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),$G=Bt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${T_}::after`]:{opacity:.6},[`${L0}:hover > & + ${T_}::after`]:{opacity:.6},[`${L0}:hover > & > svg`]:{opacity:1}}),TR=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${L0}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),RR=Bt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${TR} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),PR=Bt(RR,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),XG=Bt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),KG=Bt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),R_=Bt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),YG=Bt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${R_}`]:{pointerEvents:"auto"}}}}}),BR=Bt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),QG=Bt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),qG=Bt(hG,{fill:"$toolTipBackground"});function Y1({children:r}){const{className:e}=k.useContext(X1);return te.createElement(VU,{className:e},r)}const ZG=["align"];function e5(){const{id:r,disable:e,disabled:t}=ui();return te.createElement(te.Fragment,null,te.createElement(KG,{id:r+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),te.createElement("label",{htmlFor:r+"__disable"}))}function t5(r){const{id:e,optional:t,hint:n}=ui(),i=r.htmlFor||(e?{htmlFor:e}:null),s=!n&&typeof r.children=="string"?{title:r.children}:null;return te.createElement(te.Fragment,null,t&&te.createElement(e5,null),n!==void 0?te.createElement(cG,null,te.createElement(fG,{asChild:!0},te.createElement(R_,nr({},i,r))),te.createElement(dG,{side:"top",sideOffset:2},te.createElement(QG,null,n,te.createElement(qG,null)))):te.createElement(R_,nr({},i,s,r)))}function wo(r){let{align:e}=r,t=bn(r,ZG);const{value:n,label:i,key:s,disabled:o}=ui(),{hideCopyButton:l}=FG(),c=!l&&s!==void 0,[d,p]=k.useState(!1),m=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:n??""})),p(!0)}catch{ka(jn.CLIPBOARD_ERROR,{[s]:n})}};return te.createElement(XG,{align:e,onPointerLeave:()=>p(!1)},te.createElement(t5,t),c&&!o&&te.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},d?te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),te.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):te.createElement("svg",{onClick:m,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),te.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const n5=["toggled"],r5=Bt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Q1(r){let{toggled:e}=r,t=bn(r,n5);return te.createElement(r5,nr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),te.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const i5=["input"];function Bs(r){let{input:e}=r,t=bn(r,i5);return e?te.createElement(PR,t):te.createElement(RR,t)}function IR({value:r,type:e,settings:t,setValue:n}){const[i,s]=k.useState(FM(e,r,t)),o=k.useRef(r),l=k.useRef(t);l.current=t;const c=k.useCallback(p=>s(FM(e,p,l.current)),[e]),d=k.useCallback(p=>{try{n(p)}catch(m){const{type:y,previousValue:v}=m;if(y!=="LEVA_ERROR")throw m;c(v)}},[c,n]);return k.useEffect(()=>{Ip(r,o.current)||c(r),o.current=r},[r,c]),{displayValue:i,onChange:s,onUpdate:d}}function fm(r,e){const{emitOnEditStart:t,emitOnEditEnd:n}=ui();return Sz(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=r(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),n==null||n()),s},e)}function s5(r){const e=k.useRef(null),t=k.useRef(null),n=k.useRef(!1);return k.useEffect(()=>{const i=gR(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,r(e.current,t.current)},250);return window.addEventListener("resize",i),n.current||(i(),n.current=!0),()=>window.removeEventListener("resize",i)},[r]),k.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function LR(){const r=k.useRef(null),e=k.useRef({x:0,y:0}),t=k.useCallback(n=>{Object.assign(e.current,n),r.current&&(r.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[r,t]}const o5=["__refCount"],ox=(r,e)=>{if(!r[e])return null;const t=r[e];return bn(t,o5)};function a5(r){const e=cm(),[t,n]=k.useState(ox(e.getData(),r)),i=k.useCallback(d=>e.setValueAtPath(r,d,!0),[r,e]),s=k.useCallback(d=>e.setSettingsAtPath(r,d),[r,e]),o=k.useCallback(d=>e.disableInputAtPath(r,d),[r,e]),l=k.useCallback(()=>e.emitOnEditStart(r),[r,e]),c=k.useCallback(()=>e.emitOnEditEnd(r),[r,e]);return k.useEffect(()=>{n(ox(e.getData(),r));const d=e.useStore.subscribe(p=>ox(p.data,r),n,{equalityFn:yT});return()=>d()},[e,r]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:l,emitOnEditEnd:c}]}const l5=Bt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),DR=Bt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),P_=Bt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),OR=Bt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),kR=Bt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function u5({value:r,min:e,max:t,onDrag:n,step:i,initialValue:s}){const o=k.useRef(null),l=k.useRef(null),c=k.useRef(0),d=Ga("sizes","scrubberWidth"),p=fm(({event:y,first:v,xy:[w],movement:[_],memo:A})=>{if(v){const{width:E,left:T}=o.current.getBoundingClientRect();c.current=E-parseFloat(d),A=(y==null?void 0:y.target)===l.current?r:I0((w-T)/E,e,t)}const b=A+I0(_/c.current,0,t-e);return n(_R(b,{step:i,initialValue:s})),A}),m=B0(r,e,t);return te.createElement(OR,nr({ref:o},p()),te.createElement(DR,null,te.createElement(kR,{style:{left:0,right:`${(1-m)*100}%`}})),te.createElement(P_,{ref:l,style:{left:`calc(${m} * (100% - ${d}))`}}))}const c5=te.memo(({label:r,onUpdate:e,step:t,innerLabelTrim:n})=>{const[i,s]=k.useState(!1),o=fm(({active:l,delta:[c],event:d,memo:p=0})=>(s(l),p+=c/2,Math.abs(p)>=1&&(e(m=>parseFloat(m)+Math.floor(p)*t*yR(d)),p=0),p));return te.createElement(GG,nr({dragging:i,title:r.length>1?r:""},o()),r.slice(0,n))});function FR({label:r,id:e,displayValue:t,onUpdate:n,onChange:i,settings:s,innerLabelTrim:o=1}){const l=o>0&&te.createElement(c5,{label:r,step:s.step,onUpdate:n,innerLabelTrim:o});return te.createElement(JG,{id:e,value:String(t),onUpdate:n,onChange:i,innerLabel:l})}function f5(){const r=ui(),{label:e,value:t,onUpdate:n,settings:i,id:s}=r,{min:o,max:l}=i,c=l!==1/0&&o!==-1/0;return te.createElement(Bs,{input:!0},te.createElement(wo,null,e),te.createElement(l5,{hasRange:c},c&&te.createElement(u5,nr({value:parseFloat(t),onDrag:n},i)),te.createElement(FR,nr({},r,{id:s,label:"value",innerLabelTrim:c?0:1}))))}const{sanitizeStep:d5}=wR,h5=bn(wR,["sanitizeStep"]);var p5=Ht({component:f5},h5);const m5=(r,e)=>ji().schema({options:ji().passesAnyOf(ji().object(),ji().array())}).test(e),g5=(r,{values:e})=>{if(e.indexOf(r)<0)throw Error("Selected value doesn't match Select options");return r},y5=(r,{values:e})=>e.indexOf(r),v5=r=>{let{value:e,options:t}=r,n,i;return Array.isArray(t)?(i=t,n=t.map(s=>String(s))):(i=Object.values(t),n=Object.keys(t)),"value"in r?i.includes(e)||(n.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:n,values:i}}};var x5=Object.freeze({__proto__:null,schema:m5,sanitize:g5,format:y5,normalize:v5});const _5=Bt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),B_=Bt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),w5=Bt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${B_}:focus + &`]:{$focusStyle:""},[`${B_}:hover + &`]:{$hoverStyle:""}});function S5({displayValue:r,value:e,onUpdate:t,id:n,settings:i,disabled:s}){const{keys:o,values:l}=i,c=k.useRef();return e===l[r]&&(c.current=o[r]),te.createElement(_5,null,te.createElement(B_,{id:n,value:r,onChange:d=>t(l[Number(d.currentTarget.value)]),disabled:s},o.map((d,p)=>te.createElement("option",{key:d,value:p},d))),te.createElement(w5,null,c.current),te.createElement(Q1,{toggled:!0}))}function A5(){const{label:r,value:e,displayValue:t,onUpdate:n,id:i,disabled:s,settings:o}=ui();return te.createElement(Bs,{input:!0},te.createElement(wo,null,r),te.createElement(S5,{id:i,value:e,displayValue:t,onUpdate:n,settings:o,disabled:s}))}var M5=Ht({component:A5},x5);const b5=r=>ji().string().test(r),E5=r=>{if(typeof r!="string")throw Error("Invalid string");return r},C5=({value:r,editable:e=!0,rows:t=!1})=>({value:r,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var T5=Object.freeze({__proto__:null,schema:b5,sanitize:E5,normalize:C5});const R5=["displayValue","onUpdate","onChange","editable"],P5=Bt("div",{whiteSpace:"pre-wrap"});function B5(r){let{displayValue:e,onUpdate:t,onChange:n,editable:i=!0}=r,s=bn(r,R5);return i?te.createElement(K1,nr({value:e,onUpdate:t,onChange:n},s)):te.createElement(P5,null,e)}function I5(){const{label:r,settings:e,displayValue:t,onUpdate:n,onChange:i}=ui();return te.createElement(Bs,{input:!0},te.createElement(wo,null,r),te.createElement(B5,nr({displayValue:t,onUpdate:n,onChange:i},e)))}var L5=Ht({component:I5},T5);const D5=r=>ji().boolean().test(r),O5=r=>{if(typeof r!="boolean")throw Error("Invalid boolean");return r};var k5=Object.freeze({__proto__:null,schema:D5,sanitize:O5});const F5=Bt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function N5({value:r,onUpdate:e,id:t,disabled:n}){return te.createElement(F5,null,te.createElement("input",{id:t,type:"checkbox",checked:r,onChange:i=>e(i.currentTarget.checked),disabled:n}),te.createElement("label",{htmlFor:t},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function z5(){const{label:r,value:e,onUpdate:t,disabled:n,id:i}=ui();return te.createElement(Bs,{input:!0},te.createElement(wo,null,r),te.createElement(N5,{value:e,onUpdate:t,id:i,disabled:n}))}var U5=Ht({component:z5},k5);const H5=["locked"];function G5({value:r,id:e,valueKey:t,settings:n,onUpdate:i,innerLabelTrim:s}){const o=k.useRef(r[t]);o.current=r[t];const l=k.useCallback(d=>i({[t]:mR({type:"NUMBER",value:o.current,settings:n},d)}),[i,n,t]),c=IR({type:"NUMBER",value:r[t],settings:n,setValue:l});return te.createElement(FR,{id:e,label:t,value:r[t],displayValue:c.displayValue,onUpdate:c.onUpdate,onChange:c.onChange,settings:n,innerLabelTrim:s})}const V5=Bt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function W5(r){let{locked:e}=r,t=bn(r,H5);return te.createElement("svg",nr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?te.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):te.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function q1({value:r,onUpdate:e,settings:t,innerLabelTrim:n}){const{id:i,setSettings:s}=ui(),{lock:o,locked:l}=t;return te.createElement(V5,{withLock:o},o&&te.createElement(W5,{locked:l,onClick:()=>s({locked:!l})}),Object.keys(r).map((c,d)=>te.createElement(G5,{id:d===0?i:`${i}.${c}`,key:c,valueKey:c,value:r,settings:t[c],onUpdate:e,innerLabelTrim:n})))}const NR=(r,e)=>{const t={};let n=0,i=1/0;Object.entries(r).forEach(([s,o])=>{t[s]=xR(Ht({value:o},e[s])).settings,n=Math.max(n,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:l,max:c}=e[s]||{};!isFinite(o)&&(!isFinite(l)||!isFinite(c))&&(t[s].step=n,t[s].pad=i)}return t},j5=["lock"],J5=["value"];function $5(r){const e=ji().array().length(r).every.number(),t=n=>{if(!n||typeof n!="object")return!1;const i=Object.values(n);return i.length===r&&i.every(s=>isFinite(s))};return n=>e.test(n)||t(n)}function X5(r){return Array.isArray(r)?"array":"object"}function gp(r,e,t){return X5(r)===e?r:e==="array"?Object.values(r):EG(r,t)}const K5=(r,e,t)=>{const n=gp(r,"object",e.keys);for(let o in n)n[o]=vR(n[o],e[o]);const i=Object.keys(n);let s={};if(i.length===e.keys.length)s=n;else{const o=gp(t,"object",e.keys);if(i.length===1&&e.locked){const l=i[0],c=n[l],d=o[l],p=d!==0?c/d:1;for(let m in o)m===l?s[l]=c:s[m]=o[m]*p}else s=Ht(Ht({},o),n)}return gp(s,e.format,e.keys)},Y5=(r,e)=>gp(r,"object",e.keys),Q5=r=>!!r&&("step"in r||"min"in r||"max"in r);function q5(r,e,t=[]){const{lock:n=!1}=e,i=bn(e,j5),s=Array.isArray(r)?"array":"object",o=s==="object"?Object.keys(r):t,l=gp(r,"object",o),c=Q5(i)?o.reduce((p,m)=>Object.assign(p,{[m]:i}),{}):i,d=NR(l,c);return{value:s==="array"?r:l,settings:Ht(Ht({},d),{},{format:s,keys:o,lock:n,locked:!1})}}function zR(r){return{schema:$5(r.length),normalize:e=>{let{value:t}=e,n=bn(e,J5);return q5(t,n,r)},format:(e,t)=>Y5(e,t),sanitize:(e,t,n)=>K5(e,t,n)}}var Z5={grad:.9,turn:360,rad:360/(2*Math.PI)},Pa=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},Fr=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t+0},Ts=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r>e?r:e},UR=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},$M=function(r){return{r:Ts(r.r,0,255),g:Ts(r.g,0,255),b:Ts(r.b,0,255),a:Ts(r.a)}},ax=function(r){return{r:Fr(r.r),g:Fr(r.g),b:Fr(r.b),a:Fr(r.a,3)}},e9=/^#([0-9a-f]{3,8})$/i,r0=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},HR=function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=Math.max(e,t,n),o=s-Math.min(e,t,n),l=o?s===e?(t-n)/o:s===t?2+(n-e)/o:4+(e-t)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:i}},GR=function(r){var e=r.h,t=r.s,n=r.v,i=r.a;e=e/360*6,t/=100,n/=100;var s=Math.floor(e),o=n*(1-t),l=n*(1-(e-s)*t),c=n*(1-(1-e+s)*t),d=s%6;return{r:255*[n,l,o,o,c,n][d],g:255*[c,n,n,l,o,o][d],b:255*[o,o,c,n,n,l][d],a:i}},XM=function(r){return{h:UR(r.h),s:Ts(r.s,0,100),l:Ts(r.l,0,100),a:Ts(r.a)}},KM=function(r){return{h:Fr(r.h),s:Fr(r.s),l:Fr(r.l),a:Fr(r.a,3)}},YM=function(r){return GR((t=(e=r).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},yp=function(r){return{h:(e=HR(r)).h,s:(i=(200-(t=e.s))*(n=e.v)/100)>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,n,i},t9=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,n9=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,r9=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,i9=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,I_={string:[[function(r){var e=e9.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Fr(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?Fr(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=r9.exec(r)||i9.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:$M({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=t9.exec(r)||n9.exec(r);if(!e)return null;var t,n,i=XM({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(Z5[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return YM(i)},"hsl"]],object:[[function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=i===void 0?1:i;return Pa(e)&&Pa(t)&&Pa(n)?$M({r:Number(e),g:Number(t),b:Number(n),a:Number(s)}):null},"rgb"],[function(r){var e=r.h,t=r.s,n=r.l,i=r.a,s=i===void 0?1:i;if(!Pa(e)||!Pa(t)||!Pa(n))return null;var o=XM({h:Number(e),s:Number(t),l:Number(n),a:Number(s)});return YM(o)},"hsl"],[function(r){var e=r.h,t=r.s,n=r.v,i=r.a,s=i===void 0?1:i;if(!Pa(e)||!Pa(t)||!Pa(n))return null;var o=function(l){return{h:UR(l.h),s:Ts(l.s,0,100),v:Ts(l.v,0,100),a:Ts(l.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(s)});return GR(o)},"hsv"]]},QM=function(r,e){for(var t=0;t<e.length;t++){var n=e[t][0](r);if(n)return[n,e[t][1]]}return[null,void 0]},VR=function(r){return typeof r=="string"?QM(r.trim(),I_.string):typeof r=="object"&&r!==null?QM(r,I_.object):[null,void 0]},s9=function(r){return VR(r)[1]},lx=function(r,e){var t=yp(r);return{h:t.h,s:Ts(t.s+100*e,0,100),l:t.l,a:t.a}},ux=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},qM=function(r,e){var t=yp(r);return{h:t.h,s:t.s,l:Ts(t.l+100*e,0,100),a:t.a}},L_=function(){function r(e){this.parsed=VR(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return Fr(ux(this.rgba),2)},r.prototype.isDark=function(){return ux(this.rgba)<.5},r.prototype.isLight=function(){return ux(this.rgba)>=.5},r.prototype.toHex=function(){return e=ax(this.rgba),t=e.r,n=e.g,i=e.b,o=(s=e.a)<1?r0(Fr(255*s)):"","#"+r0(t)+r0(n)+r0(i)+o;var e,t,n,i,s,o},r.prototype.toRgb=function(){return ax(this.rgba)},r.prototype.toRgbString=function(){return e=ax(this.rgba),t=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+n+", "+i+", "+s+")":"rgb("+t+", "+n+", "+i+")";var e,t,n,i,s},r.prototype.toHsl=function(){return KM(yp(this.rgba))},r.prototype.toHslString=function(){return e=KM(yp(this.rgba)),t=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+s+")":"hsl("+t+", "+n+"%, "+i+"%)";var e,t,n,i,s},r.prototype.toHsv=function(){return e=HR(this.rgba),{h:Fr(e.h),s:Fr(e.s),v:Fr(e.v),a:Fr(e.a,3)};var e},r.prototype.invert=function(){return Mi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),Mi(lx(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),Mi(lx(this.rgba,-e))},r.prototype.grayscale=function(){return Mi(lx(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),Mi(qM(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),Mi(qM(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?Mi({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Fr(this.rgba.a,3);var t},r.prototype.hue=function(e){var t=yp(this.rgba);return typeof e=="number"?Mi({h:e,s:t.s,l:t.l,a:t.a}):Fr(t.h)},r.prototype.isEqual=function(e){return this.toHex()===Mi(e).toHex()},r}(),Mi=function(r){return r instanceof L_?r:new L_(r)},ZM=[],o9=function(r){r.forEach(function(e){ZM.indexOf(e)<0&&(e(L_,I_),ZM.push(e))})};function a9(r,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in t)n[t[i]]=i;var s={};r.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,d=n[this.toHex()];if(d)return d;if(o!=null&&o.closest){var p=this.toRgb(),m=1/0,y="black";if(!s.length)for(var v in t)s[v]=new r(t[v]).toRgb();for(var w in t){var _=(l=p,c=s[w],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));_<m&&(m=_,y=w)}return y}},e.string.push([function(o){var l=o.toLowerCase(),c=l==="transparent"?"#0000":t[l];return c?new r(c).toRgb():null},"name"])}function Jd(){return(Jd=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function Z1(r,e){if(r==null)return{};var t,n,i={},s=Object.keys(r);for(n=0;n<s.length;n++)e.indexOf(t=s[n])>=0||(i[t]=r[t]);return i}function D_(r){var e=k.useRef(r),t=k.useRef(function(n){e.current&&e.current(n)});return e.current=r,t.current}var Bd=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r<e?e:r},vp=function(r){return"touches"in r},O_=function(r){return r&&r.ownerDocument.defaultView||self},eb=function(r,e,t){var n=r.getBoundingClientRect(),i=vp(e)?function(s,o){for(var l=0;l<s.length;l++)if(s[l].identifier===o)return s[l];return s[0]}(e.touches,t):e;return{left:Bd((i.pageX-(n.left+O_(r).pageXOffset))/n.width),top:Bd((i.pageY-(n.top+O_(r).pageYOffset))/n.height)}},tb=function(r){!vp(r)&&r.preventDefault()},ew=te.memo(function(r){var e=r.onMove,t=r.onKey,n=Z1(r,["onMove","onKey"]),i=k.useRef(null),s=D_(e),o=D_(t),l=k.useRef(null),c=k.useRef(!1),d=k.useMemo(function(){var v=function(A){tb(A),(vp(A)?A.touches.length>0:A.buttons>0)&&i.current?s(eb(i.current,A,l.current)):_(!1)},w=function(){return _(!1)};function _(A){var b=c.current,E=O_(i.current),T=A?E.addEventListener:E.removeEventListener;T(b?"touchmove":"mousemove",v),T(b?"touchend":"mouseup",w)}return[function(A){var b=A.nativeEvent,E=i.current;if(E&&(tb(b),!function(R,L){return L&&!vp(R)}(b,c.current)&&E)){if(vp(b)){c.current=!0;var T=b.changedTouches||[];T.length&&(l.current=T[0].identifier)}E.focus(),s(eb(E,b,l.current)),_(!0)}},function(A){var b=A.which||A.keyCode;b<37||b>40||(A.preventDefault(),o({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},_]},[o,s]),p=d[0],m=d[1],y=d[2];return k.useEffect(function(){return y},[y]),te.createElement("div",Jd({},n,{onTouchStart:p,onMouseDown:p,className:"react-colorful__interactive",ref:i,onKeyDown:m,tabIndex:0,role:"slider"}))}),dm=function(r){return r.filter(Boolean).join(" ")},tw=function(r){var e=r.color,t=r.left,n=r.top,i=n===void 0?.5:n,s=dm(["react-colorful__pointer",r.className]);return te.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},te.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ci=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t},WR=function(r){var e=r.s,t=r.v,n=r.a,i=(200-e)*t/100;return{h:Ci(r.h),s:Ci(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Ci(i/2),a:Ci(n,2)}},k_=function(r){var e=WR(r);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},cx=function(r){var e=WR(r);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},jR=function(r){var e=r.h,t=r.s,n=r.v,i=r.a;e=e/360*6,t/=100,n/=100;var s=Math.floor(e),o=n*(1-t),l=n*(1-(e-s)*t),c=n*(1-(1-e+s)*t),d=s%6;return{r:Ci(255*[n,l,o,o,c,n][d]),g:Ci(255*[c,n,n,l,o,o][d]),b:Ci(255*[o,o,c,n,n,l][d]),a:Ci(i,2)}},JR=function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=Math.max(e,t,n),o=s-Math.min(e,t,n),l=o?s===e?(t-n)/o:s===t?2+(n-e)/o:4+(e-t)/o:0;return{h:Ci(60*(l<0?l+6:l)),s:Ci(s?o/s*100:0),v:Ci(s/255*100),a:i}},$R=te.memo(function(r){var e=r.hue,t=r.onChange,n=dm(["react-colorful__hue",r.className]);return te.createElement("div",{className:n},te.createElement(ew,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:Bd(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ci(e),"aria-valuemax":"360","aria-valuemin":"0"},te.createElement(tw,{className:"react-colorful__hue-pointer",left:e/360,color:k_({h:e,s:100,v:100,a:1})})))}),XR=te.memo(function(r){var e=r.hsva,t=r.onChange,n={backgroundColor:k_({h:e.h,s:100,v:100,a:1})};return te.createElement("div",{className:"react-colorful__saturation",style:n},te.createElement(ew,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:Bd(e.s+100*i.left,0,100),v:Bd(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ci(e.s)+"%, Brightness "+Ci(e.v)+"%"},te.createElement(tw,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:k_(e)})))}),nw=function(r,e){if(r===e)return!0;for(var t in r)if(r[t]!==e[t])return!1;return!0};function KR(r,e,t){var n=D_(t),i=k.useState(function(){return r.toHsva(e)}),s=i[0],o=i[1],l=k.useRef({color:e,hsva:s});k.useEffect(function(){if(!r.equal(e,l.current.color)){var d=r.toHsva(e);l.current={hsva:d,color:e},o(d)}},[e,r]),k.useEffect(function(){var d;nw(s,l.current.hsva)||r.equal(d=r.fromHsva(s),l.current.color)||(l.current={hsva:s,color:d},n(d))},[s,r,n]);var c=k.useCallback(function(d){o(function(p){return Object.assign({},p,d)})},[]);return[s,c]}var l9=typeof window<"u"?k.useLayoutEffect:k.useEffect,u9=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},nb=new Map,YR=function(r){l9(function(){var e=r.current?r.current.ownerDocument:document;if(e!==void 0&&!nb.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,nb.set(e,t);var n=u9();n&&t.setAttribute("nonce",n),e.head.appendChild(t)}},[])},c9=function(r){var e=r.className,t=r.colorModel,n=r.color,i=n===void 0?t.defaultColor:n,s=r.onChange,o=Z1(r,["className","colorModel","color","onChange"]),l=k.useRef(null);YR(l);var c=KR(t,i,s),d=c[0],p=c[1],m=dm(["react-colorful",e]);return te.createElement("div",Jd({},o,{ref:l,className:m}),te.createElement(XR,{hsva:d,onChange:p}),te.createElement($R,{hue:d.h,onChange:p,className:"react-colorful__last-control"}))},f9=function(r){var e=r.className,t=r.hsva,n=r.onChange,i={backgroundImage:"linear-gradient(90deg, "+cx(Object.assign({},t,{a:0}))+", "+cx(Object.assign({},t,{a:1}))+")"},s=dm(["react-colorful__alpha",e]),o=Ci(100*t.a);return te.createElement("div",{className:s},te.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),te.createElement(ew,{onMove:function(l){n({a:l.left})},onKey:function(l){n({a:Bd(t.a+l.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},te.createElement(tw,{className:"react-colorful__alpha-pointer",left:t.a,color:cx(t)})))},d9=function(r){var e=r.className,t=r.colorModel,n=r.color,i=n===void 0?t.defaultColor:n,s=r.onChange,o=Z1(r,["className","colorModel","color","onChange"]),l=k.useRef(null);YR(l);var c=KR(t,i,s),d=c[0],p=c[1],m=dm(["react-colorful",e]);return te.createElement("div",Jd({},o,{ref:l,className:m}),te.createElement(XR,{hsva:d,onChange:p}),te.createElement($R,{hue:d.h,onChange:p}),te.createElement(f9,{hsva:d,onChange:p,className:"react-colorful__last-control"}))},h9={defaultColor:{r:0,g:0,b:0,a:1},toHsva:JR,fromHsva:jR,equal:nw},p9=function(r){return te.createElement(d9,Jd({},r,{colorModel:h9}))},m9={defaultColor:{r:0,g:0,b:0},toHsva:function(r){return JR({r:r.r,g:r.g,b:r.b,a:1})},fromHsva:function(r){return{r:(e=jR(r)).r,g:e.g,b:e.b};var e},equal:nw},g9=function(r){return te.createElement(c9,Jd({},r,{colorModel:m9}))};function $d(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(p){try{d(n.next(p))}catch(m){o(m)}}function c(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?s(p.value):i(p.value).then(l,c)}d((n=n.apply(r,e||[])).next())})}function Xd(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(p){return c([d,p])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(r,t)}catch(p){d=[6,p],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function y9(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function v9(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(y9(arguments[e]));return r}var x9=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function hm(r,e){var t=_9(r);if(typeof t.path!="string"){var n=r.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:r.name,writable:!1,configurable:!1,enumerable:!0})}return t}function _9(r){var e=r.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!r.type){var n=e.split(".").pop().toLowerCase(),i=x9.get(n);i&&Object.defineProperty(r,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return r}var w9=[".DS_Store","Thumbs.db"];function S9(r){return $d(this,void 0,void 0,function(){return Xd(this,function(e){return D0(r)&&A9(r)?[2,C9(r.dataTransfer,r.type)]:M9(r)?[2,b9(r)]:Array.isArray(r)&&r.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,E9(r)]:[2,[]]})})}function A9(r){return D0(r.dataTransfer)}function M9(r){return D0(r)&&D0(r.target)}function D0(r){return typeof r=="object"&&r!==null}function b9(r){return F_(r.target.files).map(function(e){return hm(e)})}function E9(r){return $d(this,void 0,void 0,function(){var e;return Xd(this,function(t){switch(t.label){case 0:return[4,Promise.all(r.map(function(n){return n.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(n){return hm(n)})]}})})}function C9(r,e){return $d(this,void 0,void 0,function(){var t,n;return Xd(this,function(i){switch(i.label){case 0:return r===null?[2,[]]:r.items?(t=F_(r.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(T9))]):[3,2];case 1:return n=i.sent(),[2,rb(QR(n))];case 2:return[2,rb(F_(r.files).map(function(s){return hm(s)}))]}})})}function rb(r){return r.filter(function(e){return w9.indexOf(e.name)===-1})}function F_(r){if(r===null)return[];for(var e=[],t=0;t<r.length;t++){var n=r[t];e.push(n)}return e}function T9(r){if(typeof r.webkitGetAsEntry!="function")return ib(r);var e=r.webkitGetAsEntry();return e&&e.isDirectory?qR(e):ib(r)}function QR(r){return r.reduce(function(e,t){return v9(e,Array.isArray(t)?QR(t):[t])},[])}function ib(r){var e=r.getAsFile();if(!e)return Promise.reject(r+" is not a File");var t=hm(e);return Promise.resolve(t)}function R9(r){return $d(this,void 0,void 0,function(){return Xd(this,function(e){return[2,r.isDirectory?qR(r):P9(r)]})})}function qR(r){var e=r.createReader();return new Promise(function(t,n){var i=[];function s(){var o=this;e.readEntries(function(l){return $d(o,void 0,void 0,function(){var c,d,p;return Xd(this,function(m){switch(m.label){case 0:if(l.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return c=m.sent(),t(c),[3,4];case 3:return d=m.sent(),n(d),[3,4];case 4:return[3,6];case 5:p=Promise.all(l.map(R9)),i.push(p),s(),m.label=6;case 6:return[2]}})})},function(l){n(l)})}s()})}function P9(r){return $d(this,void 0,void 0,function(){return Xd(this,function(e){return[2,new Promise(function(t,n){r.file(function(i){var s=hm(i,r.fullPath);t(s)},function(i){n(i)})})]})})}var i0={},sb;function B9(){return sb||(sb=1,i0.__esModule=!0,i0.default=function(r,e){if(r&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var n=r.name||"",i=(r.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),i0}var I9=B9();const L9=Dc(I9);function ob(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ab(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(t),!0).forEach(function(n){ZR(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ob(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ZR(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lb(r,e){return F9(r)||k9(r,e)||O9(r,e)||D9()}function D9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9(r,e){if(r){if(typeof r=="string")return ub(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ub(r,e)}}function ub(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function k9(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,s=!1,o,l;try{for(t=t.call(r);!(i=(o=t.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function F9(r){if(Array.isArray(r))return r}var N9="file-invalid-type",z9="file-too-large",U9="file-too-small",H9="too-many-files",G9=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:N9,message:"File type must be ".concat(t)}},cb=function(e){return{code:z9,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},fb=function(e){return{code:U9,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},V9={code:H9,message:"Too many files"};function e2(r,e){var t=r.type==="application/x-moz-file"||L9(r,e);return[t,t?null:G9(e)]}function t2(r,e,t){if(lp(r.size))if(lp(e)&&lp(t)){if(r.size>t)return[!1,cb(t)];if(r.size<e)return[!1,fb(e)]}else{if(lp(e)&&r.size<e)return[!1,fb(e)];if(lp(t)&&r.size>t)return[!1,cb(t)]}return[!0,null]}function lp(r){return r!=null}function W9(r){var e=r.files,t=r.accept,n=r.minSize,i=r.maxSize,s=r.multiple,o=r.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var c=e2(l,t),d=lb(c,1),p=d[0],m=t2(l,n,i),y=lb(m,1),v=y[0];return p&&v})}function O0(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function s0(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!r.target&&!!r.target.files}function db(r){r.preventDefault()}function j9(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function J9(r){return r.indexOf("Edge/")!==-1}function $9(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return j9(r)||J9(r)}function ko(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!O0(n)&&l&&l.apply(void 0,[n].concat(s)),O0(n)})}}function X9(){return"showOpenFilePicker"in window}function K9(r){return r=typeof r=="string"?r.split(","):r,[{description:"everything",accept:Array.isArray(r)?r.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return ab(ab({},e),{},ZR({},t,[]))},{}):{}}]}function Y9(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function Q9(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}var q9=["children"],Z9=["open"],e8=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],t8=["refKey","onChange","onClick"];function n8(r){return s8(r)||i8(r)||n2(r)||r8()}function r8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function s8(r){if(Array.isArray(r))return N_(r)}function fx(r,e){return l8(r)||a8(r,e)||n2(r,e)||o8()}function o8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n2(r,e){if(r){if(typeof r=="string")return N_(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N_(r,e)}}function N_(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function a8(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,s=!1,o,l;try{for(t=t.call(r);!(i=(o=t.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function l8(r){if(Array.isArray(r))return r}function hb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Wn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hb(Object(t),!0).forEach(function(n){z_(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hb(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function z_(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function k0(r,e){if(r==null)return{};var t=u8(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function u8(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var rw=k.forwardRef(function(r,e){var t=r.children,n=k0(r,q9),i=i2(n),s=i.open,o=k0(i,Z9);return k.useImperativeHandle(e,function(){return{open:s}},[s]),te.createElement(k.Fragment,null,t(Wn(Wn({},o),{},{open:s})))});rw.displayName="Dropzone";var r2={disabled:!1,getFilesFromEvent:S9,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};rw.defaultProps=r2;rw.propTypes={children:Bn.func,accept:Bn.oneOfType([Bn.string,Bn.arrayOf(Bn.string)]),multiple:Bn.bool,preventDropOnDocument:Bn.bool,noClick:Bn.bool,noKeyboard:Bn.bool,noDrag:Bn.bool,noDragEventsBubbling:Bn.bool,minSize:Bn.number,maxSize:Bn.number,maxFiles:Bn.number,disabled:Bn.bool,getFilesFromEvent:Bn.func,onFileDialogCancel:Bn.func,onFileDialogOpen:Bn.func,useFsAccessApi:Bn.bool,onDragEnter:Bn.func,onDragLeave:Bn.func,onDragOver:Bn.func,onDrop:Bn.func,onDropAccepted:Bn.func,onDropRejected:Bn.func,validator:Bn.func};var U_={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function i2(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Wn(Wn({},r2),r),t=e.accept,n=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,p=e.onDragLeave,m=e.onDragOver,y=e.onDrop,v=e.onDropAccepted,w=e.onDropRejected,_=e.onFileDialogCancel,A=e.onFileDialogOpen,b=e.useFsAccessApi,E=e.preventDropOnDocument,T=e.noClick,R=e.noKeyboard,L=e.noDrag,O=e.noDragEventsBubbling,F=e.validator,I=k.useMemo(function(){return typeof A=="function"?A:pb},[A]),G=k.useMemo(function(){return typeof _=="function"?_:pb},[_]),V=k.useRef(null),q=k.useRef(null),ce=k.useReducer(c8,U_),ee=fx(ce,2),Z=ee[0],le=ee[1],he=Z.isFocused,de=Z.isFileDialogActive,z=Z.draggedFiles,K=k.useRef(typeof window<"u"&&window.isSecureContext&&b&&X9()),$=function(){!K.current&&de&&setTimeout(function(){if(q.current){var ae=q.current.files;ae.length||(le({type:"closeDialog"}),G())}},300)};k.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[q,de,G,K]);var U=k.useRef([]),j=function(ae){V.current&&V.current.contains(ae.target)||(ae.preventDefault(),U.current=[])};k.useEffect(function(){return E&&(document.addEventListener("dragover",db,!1),document.addEventListener("drop",j,!1)),function(){E&&(document.removeEventListener("dragover",db),document.removeEventListener("drop",j))}},[V,E]);var ge=k.useCallback(function(H){H.preventDefault(),H.persist(),$e(H),U.current=[].concat(n8(U.current),[H.target]),s0(H)&&Promise.resolve(i(H)).then(function(ae){O0(H)&&!O||(le({draggedFiles:ae,isDragActive:!0,type:"setDraggedFiles"}),d&&d(H))})},[i,d,O]),_e=k.useCallback(function(H){H.preventDefault(),H.persist(),$e(H);var ae=s0(H);if(ae&&H.dataTransfer)try{H.dataTransfer.dropEffect="copy"}catch{}return ae&&m&&m(H),!1},[m,O]),Pe=k.useCallback(function(H){H.preventDefault(),H.persist(),$e(H);var ae=U.current.filter(function(Fe){return V.current&&V.current.contains(Fe)}),Le=ae.indexOf(H.target);Le!==-1&&ae.splice(Le,1),U.current=ae,!(ae.length>0)&&(le({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),s0(H)&&p&&p(H))},[V,p,O]),fe=k.useCallback(function(H,ae){var Le=[],Fe=[];H.forEach(function(We){var pt=e2(We,t),Qe=fx(pt,2),Ce=Qe[0],at=Qe[1],St=t2(We,o,s),st=fx(St,2),yt=st[0],ft=st[1],re=F?F(We):null;if(Ce&&yt&&!re)Le.push(We);else{var De=[at,ft];re&&(De=De.concat(re)),Fe.push({file:We,errors:De.filter(function(nt){return nt})})}}),(!l&&Le.length>1||l&&c>=1&&Le.length>c)&&(Le.forEach(function(We){Fe.push({file:We,errors:[V9]})}),Le.splice(0)),le({acceptedFiles:Le,fileRejections:Fe,type:"setFiles"}),y&&y(Le,Fe,ae),Fe.length>0&&w&&w(Fe,ae),Le.length>0&&v&&v(Le,ae)},[le,l,t,o,s,c,y,v,w,F]),Ve=k.useCallback(function(H){H.preventDefault(),H.persist(),$e(H),U.current=[],s0(H)&&Promise.resolve(i(H)).then(function(ae){O0(H)&&!O||fe(ae,H)}),le({type:"reset"})},[i,fe,O]),ke=k.useCallback(function(){if(K.current){le({type:"openDialog"}),I();var H={multiple:l,types:K9(t)};window.showOpenFilePicker(H).then(function(ae){return i(ae)}).then(function(ae){fe(ae,null),le({type:"closeDialog"})}).catch(function(ae){Y9(ae)?(G(ae),le({type:"closeDialog"})):Q9(ae)&&(K.current=!1,q.current&&(q.current.value=null,q.current.click()))});return}q.current&&(le({type:"openDialog"}),I(),q.current.value=null,q.current.click())},[le,I,G,b,fe,t,l]),Ye=k.useCallback(function(H){!V.current||!V.current.isEqualNode(H.target)||(H.key===" "||H.key==="Enter"||H.keyCode===32||H.keyCode===13)&&(H.preventDefault(),ke())},[V,ke]),Ue=k.useCallback(function(){le({type:"focus"})},[]),ht=k.useCallback(function(){le({type:"blur"})},[]),Te=k.useCallback(function(){T||($9()?setTimeout(ke,0):ke())},[T,ke]),Ae=function(ae){return n?null:ae},Ge=function(ae){return R?null:Ae(ae)},et=function(ae){return L?null:Ae(ae)},$e=function(ae){O&&ae.stopPropagation()},At=k.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=H.refKey,Le=ae===void 0?"ref":ae,Fe=H.role,We=H.onKeyDown,pt=H.onFocus,Qe=H.onBlur,Ce=H.onClick,at=H.onDragEnter,St=H.onDragOver,st=H.onDragLeave,yt=H.onDrop,ft=k0(H,e8);return Wn(Wn(z_({onKeyDown:Ge(ko(We,Ye)),onFocus:Ge(ko(pt,Ue)),onBlur:Ge(ko(Qe,ht)),onClick:Ae(ko(Ce,Te)),onDragEnter:et(ko(at,ge)),onDragOver:et(ko(St,_e)),onDragLeave:et(ko(st,Pe)),onDrop:et(ko(yt,Ve)),role:typeof Fe=="string"&&Fe!==""?Fe:"button"},Le,V),!n&&!R?{tabIndex:0}:{}),ft)}},[V,Ye,Ue,ht,Te,ge,_e,Pe,Ve,R,L,n]),gt=k.useCallback(function(H){H.stopPropagation()},[]),lt=k.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=H.refKey,Le=ae===void 0?"ref":ae,Fe=H.onChange,We=H.onClick,pt=k0(H,t8),Qe=z_({accept:t,multiple:l,type:"file",style:{display:"none"},onChange:Ae(ko(Fe,Ve)),onClick:Ae(ko(We,gt)),tabIndex:-1},Le,q);return Wn(Wn({},Qe),pt)}},[q,t,l,Ve,n]),Gt=z.length,Nt=Gt>0&&W9({files:z,accept:t,minSize:o,maxSize:s,multiple:l,maxFiles:c}),Y=Gt>0&&!Nt;return Wn(Wn({},Z),{},{isDragAccept:Nt,isDragReject:Y,isFocused:he&&!n,getRootProps:At,getInputProps:lt,rootRef:V,inputRef:q,open:Ae(ke)})}function c8(r,e){switch(e.type){case"focus":return Wn(Wn({},r),{},{isFocused:!0});case"blur":return Wn(Wn({},r),{},{isFocused:!1});case"openDialog":return Wn(Wn({},U_),{},{isFileDialogActive:!0});case"closeDialog":return Wn(Wn({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,n=e.draggedFiles;return Wn(Wn({},r),{},{draggedFiles:n,isDragActive:t});case"setFiles":return Wn(Wn({},r),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Wn({},U_);default:return r}}function pb(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var dx,mb;function f8(){return mb||(mb=1,dx=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),dx}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var hx,gb;function s2(){if(gb)return hx;gb=1;var r=f8();function e(t){return r(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return hx=function(n){var i,s;return!(e(n)===!1||(i=n.constructor,typeof i!="function")||(s=i.prototype,e(s)===!1)||s.hasOwnProperty("isPrototypeOf")===!1)},hx}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var px,yb;function iw(){if(yb)return px;yb=1;var r=s2();return px=function(t){return r(t)||typeof t=="function"||Array.isArray(t)},px}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var mx,vb;function d8(){return vb||(vb=1,mx=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e)===!1)break}),mx}var gx,xb;function h8(){if(xb)return gx;xb=1;var r=iw(),e=d8();function t(o,l){for(var c=arguments.length,d=0;++d<c;){var p=arguments[d];i(p)&&e(p,n,o)}return o}function n(o,l){if(s(l)){var c=this[l];i(o)&&i(c)?t(c,o):this[l]=o}}function i(o){return r(o)&&!Array.isArray(o)}function s(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"}return gx=t,gx}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var yx,_b;function p8(){if(_b)return yx;_b=1,yx=function(t,n,i,s,o){if(!r(t)||!n)return t;if(n=e(n),i&&(n+="."+e(i)),s&&(n+="."+e(s)),o&&(n+="."+e(o)),n in t)return t[n];for(var l=n.split("."),c=l.length,d=-1;t&&++d<c;){for(var p=l[d];p[p.length-1]==="\\";)p=p.slice(0,-1)+"."+l[++d];t=t[p]}return t};function r(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function e(t){return t?Array.isArray(t)?t.join("."):t:""}return yx}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var vx,wb;function m8(){return wb||(wb=1,vx=function(r,e){if(r===null||typeof r>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return r;for(var t=Object.prototype.propertyIsEnumerable,n=Object(r),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),l=Object.getOwnPropertySymbols(o),c=0;c<l.length;c++){var d=l[c];t.call(o,d)&&(n[d]=o[d])}return n}),vx}var xx,Sb;function g8(){if(Sb)return xx;Sb=1;var r=iw(),e=m8();xx=Object.assign||function(l){if(l===null||typeof l>"u")throw new TypeError("Cannot convert undefined or null to object");s(l)||(l={});for(var c=1;c<arguments.length;c++){var d=arguments[c];n(d)&&(d=i(d)),s(d)&&(t(l,d),e(l,d))}return l};function t(l,c){for(var d in c)o(c,d)&&(l[d]=c[d])}function n(l){return l&&typeof l=="string"}function i(l){var c={};for(var d in l)c[d]=l[d];return c}function s(l){return l&&typeof l=="object"||r(l)}function o(l,c){return Object.prototype.hasOwnProperty.call(l,c)}return xx}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var _x,Ab;function y8(){if(Ab)return _x;Ab=1;var r=g8();_x=function(i,s,o){if(typeof i!="string")throw new TypeError("expected a string");typeof s=="function"&&(o=s,s=null),typeof s=="string"&&(s={sep:s});var l=r({sep:"."},s),c=l.quotes||['"',"'","`"],d;l.brackets===!0?d={"<":">","(":")","[":"]","{":"}"}:l.brackets&&(d=l.brackets);var p=[],m=[],y=[""],v=l.sep,w=i.length,_=-1,A;function b(){if(d&&m.length)return d[m[m.length-1]]}for(;++_<w;){var E=i[_],T=i[_+1],R={val:E,idx:_,arr:y,str:i};if(p.push(R),E==="\\"){R.val=n(l,i,_)===!0?E+T:T,R.escaped=!0,typeof o=="function"&&o(R),y[y.length-1]+=R.val,_++;continue}if(d&&d[E]){m.push(E);var L=b(),O=_+1;if(i.indexOf(L,O+1)!==-1)for(;m.length&&O<w;){var F=i[++O];if(F==="\\"){F++;continue}if(c.indexOf(F)!==-1){O=e(i,F,O+1);continue}if(L=b(),m.length&&i.indexOf(L,O+1)===-1)break;if(d[F]){m.push(F);continue}L===F&&m.pop()}if(A=O,A===-1){y[y.length-1]+=E;continue}E=i.slice(_,A+1),R.val=E,R.idx=_=A}if(c.indexOf(E)!==-1){if(A=e(i,E,_+1),A===-1){y[y.length-1]+=E;continue}t(E,l)===!0?E=i.slice(_,A+1):E=i.slice(_+1,A),R.val=E,R.idx=_=A}if(typeof o=="function"&&(o(R,p),E=R.val,_=R.idx),R.val===v&&R.split!==!1){y.push("");continue}y[y.length-1]+=R.val}return y};function e(i,s,o,l){var c=i.indexOf(s,o);return i.charAt(c-1)==="\\"?e(i,s,c+1):c}function t(i,s){return s.keepDoubleQuotes===!0&&i==='"'||s.keepSingleQuotes===!0&&i==="'"?!0:s.keepQuotes}function n(i,s,o){return typeof i.keepEscaping=="function"?i.keepEscaping(s,o):i.keepEscaping===!0||s[o+1]==="\\"}return _x}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var wx,Mb;function v8(){return Mb||(Mb=1,wx=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),wx}var Sx,bb;function x8(){if(bb)return Sx;bb=1;var r=v8();Sx=function(i){r(i)||(i={});for(var s=arguments.length,o=1;o<s;o++){var l=arguments[o];r(l)&&e(i,l)}return i};function e(n,i){for(var s in i)t(i,s)&&(n[s]=i[s])}function t(n,i){return Object.prototype.hasOwnProperty.call(n,i)}return Sx}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Ax,Eb;function _8(){return Eb||(Eb=1,Ax=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),Ax}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Mx,Cb;function w8(){if(Cb)return Mx;Cb=1;var r=y8(),e=x8(),t=s2(),n=_8();Mx=function(s,o,l){if(!n(s)||(Array.isArray(o)&&(o=[].concat.apply([],o).join(".")),typeof o!="string"))return s;for(var c=r(o,{sep:".",brackets:!0}).filter(i),d=c.length,p=-1,m=s;++p<d;){var y=c[p];if(p!==d-1){n(m[y])||(m[y]={}),m=m[y];continue}t(m[y])&&t(l)?m[y]=e({},m[y],l):m[y]=l}return s};function i(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"}return Mx}var bx,Tb;function S8(){if(Tb)return bx;Tb=1;var r=iw(),e=h8(),t=p8(),n=w8();return bx=function(s,o,l){if(!r(s))throw new TypeError("expected an object");if(typeof o!="string"||l==null)return e.apply(null,arguments);if(typeof l=="string")return n(s,o,l),s;var c=t(s,o);return r(l)&&r(c)&&(l=e({},c,l)),n(s,o,l),s},bx}var A8=S8();const M8=Dc(A8),sw=(...r)=>r.filter(Boolean).join(".");function b8(r){const e=r.split(".");return[e.pop(),e.join(".")||void 0]}function E8(r,e){const t=k.useRef();return Ip(r,t.current)||(t.current=r),t.current}function C8(r,e){return k.useMemo(r,E8(e))}function T8(r){const e=k.useRef(null),t=k.useRef(null),n=k.useRef(!0);return k.useLayoutEffect(()=>{r||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),k.useEffect(()=>{if(n.current){n.current=!1;return}let i;const s=e.current,o=()=>{r&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:l}=t.current.getBoundingClientRect();return s.style.height=l+"px",r||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[r]),{wrapperRef:e,contentRef:t}}const R8=r=>{const[e,t]=k.useState(r.getVisiblePaths());return k.useEffect(()=>{t(r.getVisiblePaths());const n=r.useStore.subscribe(r.getVisiblePaths,t,{equalityFn:yT});return()=>n()},[r]),e};function o2(r=3){const e=k.useRef(null),t=k.useRef(null),[n,i]=k.useState(!1),s=k.useCallback(()=>i(!0),[]),o=k.useCallback(()=>i(!1),[]);return k.useLayoutEffect(()=>{if(n){const{bottom:l,top:c,left:d}=e.current.getBoundingClientRect(),{height:p}=t.current.getBoundingClientRect(),m=l+p>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=d+"px",m==="down"?t.current.style.top=l+r+"px":t.current.style.bottom=window.innerHeight-c+r+"px"}},[r,n]),{popinRef:e,wrapperRef:t,shown:n,show:s,hide:o}}o9([a9]);const P8={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ji.extend({color:()=>r=>Mi(r).isValid()});const B8=r=>ji().color().test(r);function a2(r,{format:e,hasAlpha:t,isString:n}){const i=P8[e]+(n&&e!=="hex"?"String":""),s=r[i]();return typeof s=="object"&&!t?bG(s,["a"]):s}const l2=(r,e)=>{const t=Mi(r);if(!t.isValid())throw Error("Invalid color");return a2(t,e)},I8=(r,e)=>a2(Mi(r),Ht(Ht({},e),{},{isString:!0,format:"hex"})),L8=({value:r})=>{const e=s9(r),t=e==="name"?"hex":e,n=typeof r=="object"?"a"in r:e==="hex"&&r.length===8||/^(rgba)|(hsla)|(hsva)/.test(r),i={format:t,hasAlpha:n,isString:typeof r=="string"};return{value:l2(r,i),settings:i}};var D8=Object.freeze({__proto__:null,schema:B8,sanitize:l2,format:I8,normalize:L8});const O8=Bt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),k8=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),F8=Bt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function Rb(r,e){return e!=="rgb"?Mi(r).toRgb():r}function N8({value:r,displayValue:e,settings:t,onUpdate:n}){const{emitOnEditStart:i,emitOnEditEnd:s}=ui(),{format:o,hasAlpha:l}=t,{popinRef:c,wrapperRef:d,shown:p,show:m,hide:y}=o2(),v=k.useRef(0),[w,_]=k.useState(()=>Rb(r,o)),A=l?p9:g9,b=()=>{_(Rb(r,o)),m(),i()},E=()=>{y(),s(),window.clearTimeout(v.current)},T=()=>{v.current=window.setTimeout(E,500)};return k.useEffect(()=>()=>window.clearTimeout(v.current),[]),te.createElement(te.Fragment,null,te.createElement(O8,{ref:c,active:p,onClick:()=>b(),style:{color:e}}),p&&te.createElement(Y1,null,te.createElement(BR,{onPointerUp:E}),te.createElement(F8,{ref:d,onMouseEnter:()=>window.clearTimeout(v.current),onMouseLeave:R=>R.buttons===0&&T()},te.createElement(A,{color:w,onChange:n}))))}function z8(){const{value:r,displayValue:e,label:t,onChange:n,onUpdate:i,settings:s}=ui();return te.createElement(Bs,{input:!0},te.createElement(wo,null,t),te.createElement(k8,null,te.createElement(N8,{value:r,displayValue:e,onChange:n,onUpdate:i,settings:s}),te.createElement(K1,{value:e,onChange:n,onUpdate:i})))}var U8=Ht({component:z8},D8);function H8(){const{label:r,displayValue:e,onUpdate:t,settings:n}=ui();return te.createElement(Bs,{input:!0},te.createElement(wo,null,r),te.createElement(q1,{value:e,settings:n,onUpdate:t}))}var G8=Ht({component:H8},zR(["x","y","z"]));const V8=Bt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),W8=Bt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function j8({value:r,settings:e,onUpdate:t}){const n=k.useRef(),i=k.useRef(0),s=k.useRef(0),o=k.useRef(1),[l,c]=k.useState(!1),[d,p]=k.useState(!1),[m,y]=LR(),v=k.useRef(null),w=k.useRef(null);k.useLayoutEffect(()=>{if(l){const{top:ce,left:ee,width:Z,height:le}=v.current.getBoundingClientRect();w.current.style.left=ee+Z/2+"px",w.current.style.top=ce+le/2+"px"}},[l]);const{keys:[_,A],joystick:b}=e,E=b==="invertY"?1:-1,{[_]:{step:T},[A]:{step:R}}=e,L=Ga("sizes","joystickWidth"),O=Ga("sizes","joystickHeight"),F=parseFloat(L)*.8/2,I=parseFloat(O)*.8/2,G=k.useCallback(()=>{n.current||(p(!0),i.current&&y({x:i.current*F}),s.current&&y({y:s.current*-I}),n.current=window.setInterval(()=>{t(ce=>{const ee=T*i.current*o.current,Z=E*R*s.current*o.current;return Array.isArray(ce)?{[_]:ce[0]+ee,[A]:ce[1]+Z}:{[_]:ce[_]+ee,[A]:ce[A]+Z}})},16))},[F,I,t,y,T,R,_,A,E]),V=k.useCallback(()=>{window.clearTimeout(n.current),n.current=void 0,p(!1)},[]);k.useEffect(()=>{function ce(ee){o.current=yR(ee)}return window.addEventListener("keydown",ce),window.addEventListener("keyup",ce),()=>{window.clearTimeout(n.current),window.removeEventListener("keydown",ce),window.removeEventListener("keyup",ce)}},[]);const q=fm(({first:ce,active:ee,delta:[Z,le],movement:[he,de]})=>{ce&&c(!0);const z=Zl(he,-F,F),K=Zl(de,-I,I);i.current=Math.abs(he)>Math.abs(z)?Math.sign(he-z):0,s.current=Math.abs(de)>Math.abs(K)?Math.sign(K-de):0;let $=r[_],U=r[A];ee?(i.current||($+=Z*T*o.current,y({x:z})),s.current||(U-=E*le*R*o.current,y({y:K})),i.current||s.current?G():V(),t({[_]:$,[A]:U})):(c(!1),i.current=0,s.current=0,y({x:0,y:0}),V())});return te.createElement(V8,nr({ref:v},q()),l&&te.createElement(Y1,null,te.createElement(W8,{ref:w,isOutOfBounds:d},te.createElement("div",null),te.createElement("span",{ref:m}))))}const J8=Bt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function $8(){const{label:r,displayValue:e,onUpdate:t,settings:n}=ui();return te.createElement(Bs,{input:!0},te.createElement(wo,null,r),te.createElement(J8,{withJoystick:!!n.joystick},n.joystick&&te.createElement(j8,{value:e,settings:n,onUpdate:t}),te.createElement(q1,{value:e,settings:n,onUpdate:t})))}const X8=["joystick"],u2=zR(["x","y"]),K8=r=>{let{joystick:e=!0}=r,t=bn(r,X8);const{value:n,settings:i}=u2.normalize(t);return{value:n,settings:Ht(Ht({},i),{},{joystick:e})}};var Y8=Ht(Ht({component:$8},u2),{},{normalize:K8});const Q8=r=>{if(r!==void 0){if(r instanceof File)try{return URL.createObjectURL(r)}catch{return}if(typeof r=="string"&&r.indexOf("blob:")===0)return r;throw Error("Invalid image format [undefined | blob |File].")}},q8=(r,e)=>typeof e=="object"&&"image"in e,Z8=({image:r})=>({value:r});var e6=Object.freeze({__proto__:null,sanitize:Q8,schema:q8,normalize:Z8});const t6=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),n6=Bt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),r6=Bt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),i6=Bt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),s6=Bt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),o6=Bt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function a6(){const{label:r,value:e,onUpdate:t,disabled:n}=ui(),{popinRef:i,wrapperRef:s,shown:o,show:l,hide:c}=o2(),d=k.useCallback(w=>{w.length&&t(w[0])},[t]),p=k.useCallback(w=>{w.stopPropagation(),t(void 0)},[t]),{getRootProps:m,getInputProps:y,isDragAccept:v}=i2({maxFiles:1,accept:"image/*",onDrop:d,disabled:n});return te.createElement(Bs,{input:!0},te.createElement(wo,null,r),te.createElement(t6,null,te.createElement(r6,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&l(),onPointerUp:c,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&te.createElement(Y1,null,te.createElement(BR,{onPointerUp:c,style:{cursor:"pointer"}}),te.createElement(i6,{ref:s,style:{backgroundImage:`url(${e})`}})),te.createElement(n6,m({isDragAccept:v}),te.createElement("input",y()),te.createElement(s6,null,v?"drop image":"click or drop")),te.createElement(o6,{onClick:p,disabled:!e})))}var l6=Ht({component:a6},e6);const Pb=ji().number(),u6=(r,e)=>ji().array().length(2).every.number().test(r)&&ji().schema({min:Pb,max:Pb}).test(e),F0=r=>({min:r[0],max:r[1]}),c2=(r,{bounds:[e,t]},n)=>{const i=Array.isArray(r)?F0(r):r,s={min:n[0],max:n[1]},{min:o,max:l}=Ht(Ht({},s),i);return[Zl(Number(o),e,Math.max(e,l)),Zl(Number(l),Math.min(t,o),t)]},c6=({value:r,min:e,max:t})=>{const n={min:e,max:t},i=NR(F0(r),{min:n,max:n}),s=[e,t],o=Ht(Ht({},i),{},{bounds:s});return{value:c2(F0(r),o,r),settings:o}};var f6=Object.freeze({__proto__:null,schema:u6,format:F0,sanitize:c2,normalize:c6});const d6=["value","bounds","onDrag"],h6=["bounds"],p6=Bt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function m6(r){let{value:e,bounds:[t,n],onDrag:i}=r,s=bn(r,d6);const o=k.useRef(null),l=k.useRef(null),c=k.useRef(null),d=k.useRef(0),p=Ga("sizes","scrubberWidth"),m=fm(({event:w,first:_,xy:[A],movement:[b],memo:E={}})=>{if(_){const{width:R,left:L}=o.current.getBoundingClientRect();d.current=R-parseFloat(p);const O=(w==null?void 0:w.target)===l.current||(w==null?void 0:w.target)===c.current;E.pos=I0((A-L)/R,t,n);const F=Math.abs(E.pos-e.min)-Math.abs(E.pos-e.max);E.key=F<0||F===0&&E.pos<=e.min?"min":"max",O&&(E.pos=e[E.key])}const T=E.pos+I0(b/d.current,0,n-t);return i({[E.key]:d5(T,s[E.key])}),E}),y=`calc(${B0(e.min,t,n)} * (100% - ${p} - 8px) + 4px)`,v=`calc(${1-B0(e.max,t,n)} * (100% - ${p} - 8px) + 4px)`;return te.createElement(OR,nr({ref:o},m()),te.createElement(DR,null,te.createElement(kR,{style:{left:y,right:v}})),te.createElement(P_,{position:"left",ref:l,style:{left:y}}),te.createElement(P_,{position:"right",ref:c,style:{right:v}}))}function g6(){const{label:r,displayValue:e,onUpdate:t,settings:n}=ui(),i=bn(n,h6);return te.createElement(te.Fragment,null,te.createElement(Bs,{input:!0},te.createElement(wo,null,r),te.createElement(p6,null,te.createElement(m6,nr({value:e},n,{onDrag:t})),te.createElement(q1,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var y6=Ht({component:g6},f6);const v6=()=>{const r=new Map;return{on:(e,t)=>{let n=r.get(e);n===void 0&&(n=new Set,r.set(e,n)),n.add(t)},off:(e,t)=>{const n=r.get(e);n!==void 0&&(n.delete(t),n.size===0&&r.delete(e))},emit:(e,...t)=>{const n=r.get(e);if(n!==void 0)for(const i of n)i(...t)}}},x6=["type","value"],_6=["onChange","transient","onEditStart","onEditEnd"],w6=function(){const e=iy(Az(()=>({data:{}}))),t=v6();this.storeId=MG(),this.useStore=e;const n={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),l=Object.keys(o),c=[];Object.entries(n).forEach(([p,m])=>{m.render&&l.some(y=>y.indexOf(p)===0)&&!m.render(this.get)&&c.push(p+".")});const d=[];return i.forEach(p=>{p in o&&o[p].__refCount>0&&c.every(m=>p.indexOf(m)===-1)&&(!o[p].render||o[p].render(this.get))&&d.push(p)}),d},this.setOrderedPaths=o=>{o.forEach(l=>i.add(l))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(l=>{const c=l.data;return o.forEach(d=>{if(d in c){const p=c[d];p.__refCount--,p.__refCount===0&&p.type in zo&&delete c[d]}}),{data:c}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>n[o]||{},this.getData=()=>e.getState().data,this.addData=(o,l)=>{e.setState(c=>{const d=c.data;return Object.entries(o).forEach(([p,m])=>{let y=d[p];if(y){const{type:v,value:w}=m,_=bn(m,x6);v!==y.type?ka(jn.INPUT_TYPE_OVERRIDE,v):((y.__refCount===0||l)&&Object.assign(y,_),y.__refCount++)}else d[p]=Ht(Ht({},m),{},{__refCount:1})}),{data:d}})},this.setValueAtPath=(o,l,c)=>{e.setState(d=>{const p=d.data;return JM(p[o],l,o,this,c),{data:p}})},this.setSettingsAtPath=(o,l)=>{e.setState(c=>{const d=c.data;return d[o].settings=Ht(Ht({},d[o].settings),l),{data:d}})},this.disableInputAtPath=(o,l)=>{e.setState(c=>{const d=c.data;return d[o].disabled=l,{data:d}})},this.set=(o,l)=>{e.setState(c=>{const d=c.data;return Object.entries(o).forEach(([p,m])=>{try{JM(d[p],m,void 0,void 0,l)}catch{}}),{data:d}})},this.getInput=o=>{try{return this.getData()[o]}catch{ka(jn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var l;return(l=this.getInput(o))===null||l===void 0?void 0:l.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,Ht(Ht({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,Ht(Ht({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,l)=>{const c=`onEditStart:${o}`;return t.on(c,l),()=>t.off(c,l)},this.subscribeToEditEnd=(o,l)=>{const c=`onEditEnd:${o}`;return t.on(c,l),()=>t.off(c,l)};const s=(o,l,c)=>{const d={};return Object.entries(o).forEach(([p,m])=>{if(p==="")return ka(jn.EMPTY_KEY);let y=sw(l,p);if(m.type===zo.FOLDER){const v=s(m.schema,y,c);Object.assign(d,v),y in n||(n[y]=m.settings)}else if(p in c)ka(jn.DUPLICATE_KEYS,p,y,c[p].path);else{const v=BG(m,p,y,d);if(v){const{type:w,options:_,input:A}=v,{onChange:b,transient:E,onEditStart:T,onEditEnd:R}=_,L=bn(_,_6);d[y]=Ht(Ht(Ht({type:w},L),A),{},{fromPanel:!0}),c[p]={path:y,onChange:b,transient:E,onEditStart:T,onEditEnd:R}}else ka(jn.UNKNOWN_INPUT,y,m)}}),d};this.getDataFromSchema=o=>{const l={};return[s(o,"",l),l]}},S6=new w6,Bb=r=>"__levaInput"in r,A6=(r,e)=>{const t={},n=e?e.toLowerCase():null;return r.forEach(i=>{const[s,o]=b8(i);(!n||s.toLowerCase().indexOf(n)>-1)&&M8(t,o,{[s]:{__levaInput:!0,path:i}})}),t},M6=["type","label","path","valueKey","value","settings","setValue","disabled"];function b6(r){let{type:e,label:t,path:n,valueKey:i,value:s,settings:o,setValue:l,disabled:c}=r,d=bn(r,M6);const{displayValue:p,onChange:m,onUpdate:y}=IR({type:e,value:s,settings:o,setValue:l}),v=Lc[e].component;return v?te.createElement(SR.Provider,{value:Ht({key:i,path:n,id:""+n,label:t,displayValue:p,value:s,onChange:m,onUpdate:y,settings:o,setValue:l,disabled:c},d)},te.createElement(YG,{disabled:c},te.createElement(v,null))):(ka(jn.NO_COMPONENT_FOR_TYPE,e,n),null)}const E6=Bt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function C6({onClick:r,settings:e,label:t}){const n=cm();return te.createElement(Bs,null,te.createElement(E6,{disabled:e.disabled,onClick:()=>r(n.get)},t))}const T6=Bt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),R6=Bt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),P6=({label:r,opts:e})=>{let t=typeof r=="string"&&r.trim()===""?null:r,n=e;return typeof e.opts=="object"&&(n.label!==void 0&&(t=e.label),n=e.opts),{label:t,opts:n}};function B6(r){const{label:e,opts:t}=P6(r),n=cm();return te.createElement(Bs,{input:!!e},e&&te.createElement(wo,null,e),te.createElement(T6,null,Object.entries(t).map(([i,s])=>te.createElement(R6,{key:i,onClick:()=>s(n.get)},i))))}const I6=Bt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),f2=100;function L6(r,e){r.push(e),r.length>f2&&r.shift()}const D6=k.forwardRef(function({initialValue:r},e){const t=Ga("colors","highlight3"),n=Ga("colors","elevation2"),i=Ga("colors","highlight1"),[s,o]=k.useMemo(()=>[Mi(i).alpha(.4).toRgbString(),Mi(i).alpha(.1).toRgbString()],[i]),l=k.useRef([r]),c=k.useRef(r),d=k.useRef(r),p=k.useRef(),m=k.useCallback((w,_)=>{if(!w)return;const{width:A,height:b}=w,E=new Path2D,T=A/f2,R=b*.05;for(let F=0;F<l.current.length;F++){const I=B0(l.current[F],c.current,d.current),G=T*F,V=b-I*(b-R*2)-R;E.lineTo(G,V)}_.clearRect(0,0,A,b);const L=new Path2D(E);L.lineTo(T*(l.current.length+1),b),L.lineTo(0,b),L.lineTo(0,0);const O=_.createLinearGradient(0,0,0,b);O.addColorStop(0,s),O.addColorStop(1,o),_.fillStyle=O,_.fill(L),_.strokeStyle=n,_.lineJoin="round",_.lineWidth=14,_.stroke(E),_.strokeStyle=t,_.lineWidth=2,_.stroke(E)},[t,n,s,o]),[y,v]=s5(m);return k.useImperativeHandle(e,()=>({frame:w=>{(c.current===void 0||w<c.current)&&(c.current=w),(d.current===void 0||w>d.current)&&(d.current=w),L6(l.current,w),p.current=requestAnimationFrame(()=>m(y.current,v.current))}}),[y,v,m]),k.useEffect(()=>()=>cancelAnimationFrame(p.current),[]),te.createElement(I6,{ref:y})}),Ib=r=>Number.isFinite(r)?r.toPrecision(2):r.toString(),O6=k.forwardRef(function({initialValue:r},e){const[t,n]=k.useState(Ib(r));return k.useImperativeHandle(e,()=>({frame:i=>n(Ib(i))}),[]),te.createElement("div",null,t)});function Lb(r){return typeof r=="function"?r():r.current}function k6({label:r,objectOrFn:e,settings:t}){const n=k.useRef(),i=k.useRef(Lb(e));return k.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=n.current)===null||o===void 0||o.frame(Lb(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),te.createElement(Bs,{input:!0},te.createElement(wo,{align:"top"},r),t.graph?te.createElement(D6,{ref:n,initialValue:i.current}):te.createElement(O6,{ref:n,initialValue:i.current}))}const F6=["type","label","key"],N6={[zo.BUTTON]:C6,[zo.BUTTON_GROUP]:B6,[zo.MONITOR]:k6},z6=te.memo(({path:r})=>{const[e,{set:t,setSettings:n,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:l}]=a5(r);if(!e)return null;const{type:c,label:d,key:p}=e,m=bn(e,F6);if(c in zo){const y=N6[c];return te.createElement(y,nr({label:d,path:r},m))}return c in Lc?te.createElement(b6,nr({key:s+r,type:c,label:d,storeId:s,path:r,valueKey:p,setValue:t,setSettings:n,disable:i,emitOnEditStart:o,emitOnEditEnd:l},m)):(gG(jn.UNSUPPORTED_INPUT,c,r),null)});function U6({toggle:r,toggled:e,name:t}){return te.createElement($G,{onClick:()=>r()},te.createElement(Q1,{toggled:e}),te.createElement("div",null,t))}const H6=({name:r,path:e,tree:t})=>{const n=cm(),i=sw(e,r),{collapsed:s,color:o}=n.getFolderSettings(i),[l,c]=k.useState(!s),d=k.useRef(null),p=Ga("colors","folderWidgetColor"),m=Ga("colors","folderTextColor");return k.useLayoutEffect(()=>{d.current.style.setProperty("--leva-colors-folderWidgetColor",o||p),d.current.style.setProperty("--leva-colors-folderTextColor",o||m)},[o,p,m]),te.createElement(L0,{ref:d},te.createElement(U6,{name:r,toggled:l,toggle:()=>c(y=>!y)}),te.createElement(d2,{parent:i,tree:t,toggled:l}))},d2=te.memo(({isRoot:r=!1,fill:e=!1,flat:t=!1,parent:n,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:l}=T8(s),c=cm(),d=([m,y])=>{var v;return(Bb(y)?(v=c.getInput(y.path))===null||v===void 0?void 0:v.order:c.getFolderSettings(sw(n,m)).order)||0},p=Object.entries(i).sort((m,y)=>d(m)-d(y));return te.createElement(T_,{ref:o,isRoot:r,fill:e,flat:t},te.createElement(TR,{ref:l,isRoot:r,toggled:s},p.map(([m,y])=>Bb(y)?te.createElement(z6,{key:y.path,valueKey:y.valueKey,path:y.path}):te.createElement(H6,{key:m,name:m,path:n,tree:y}))))}),G6=Bt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${PR}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),h2=40,N0=Bt("i",{$flexCenter:"",width:h2,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),V6=Bt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),W6=Bt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${N0}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),j6=Bt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),J6=Bt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:h2}}}}),$6=te.forwardRef(({setFilter:r,toggle:e},t)=>{const[n,i]=k.useState(""),s=k.useMemo(()=>gR(r,250),[r]),o=()=>{r(""),i("")},l=c=>{const d=c.currentTarget.value;e(!0),i(d)};return k.useEffect(()=>{s(n)},[n,s]),te.createElement(te.Fragment,null,te.createElement(j6,{ref:t,value:n,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:c=>c.stopPropagation(),onChange:l}),te.createElement(N0,{onClick:()=>o(),style:{visibility:n?"visible":"hidden"}},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function X6({setFilter:r,onDrag:e,onDragStart:t,onDragEnd:n,toggle:i,toggled:s,title:o,drag:l,filterEnabled:c,from:d}){const[p,m]=k.useState(!1),y=k.useRef(null);k.useEffect(()=>{var w,_;p?(w=y.current)===null||w===void 0||w.focus():(_=y.current)===null||_===void 0||_.blur()},[p]);const v=fm(({offset:[w,_],first:A,last:b})=>{e({x:w,y:_}),A&&t({x:w,y:_}),b&&n({x:w,y:_})},{filterTaps:!0,from:({offset:[w,_]})=>[(d==null?void 0:d.x)||w,(d==null?void 0:d.y)||_]});return k.useEffect(()=>{const w=_=>{_.key==="L"&&_.shiftKey&&_.metaKey&&m(A=>!A)};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[]),te.createElement(te.Fragment,null,te.createElement(V6,{mode:l?"drag":void 0},te.createElement(N0,{active:!s,onClick:()=>i()},te.createElement(Q1,{toggled:s,width:12,height:8})),te.createElement(J6,nr({},l?v():{},{drag:l,filterEnabled:c}),o===void 0&&l?te.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},te.createElement("circle",{cx:"2",cy:"2",r:"2"}),te.createElement("circle",{cx:"14",cy:"2",r:"2"}),te.createElement("circle",{cx:"26",cy:"2",r:"2"}),te.createElement("circle",{cx:"2",cy:"12",r:"2"}),te.createElement("circle",{cx:"14",cy:"12",r:"2"}),te.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),c&&te.createElement(N0,{active:p,onClick:()=>m(w=>!w)},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},te.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),te.createElement(W6,{toggled:p},te.createElement($6,{ref:y,setFilter:r,toggle:i})))}const K6=["store","hidden","theme","collapsed"];function Y6(r){let{store:e,hidden:t=!1,theme:n,collapsed:i=!1}=r,s=bn(r,K6);const o=C8(()=>HG(n),[n]),[l,c]=k.useState(!i),d=typeof i=="object"?!i.collapsed:l,p=k.useMemo(()=>typeof i=="object"?m=>{typeof m=="function"?i.onChange(!m(!i.collapsed)):i.onChange(!m)}:c,[i]);return!e||t?null:te.createElement(X1.Provider,{value:o},te.createElement(Q6,nr({store:e},s,{toggled:d,setToggle:p,rootClass:o.className})))}const Q6=te.memo(({store:r,rootClass:e,fill:t=!1,flat:n=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:l=!1,toggled:c,setToggle:d})=>{var p,m;const y=R8(r),[v,w]=k.useState(""),_=k.useMemo(()=>A6(y,v),[y,v]),[A,b]=LR(),E=i||y.length>0,T=typeof o=="object"&&o.title||void 0,R=typeof o=="object"&&(p=o.drag)!==null&&p!==void 0?p:!0,L=typeof o=="object"&&(m=o.filter)!==null&&m!==void 0?m:!0,O=typeof o=="object"&&o.position||void 0,F=typeof o=="object"&&o.onDrag||void 0,I=typeof o=="object"&&o.onDragStart||void 0,G=typeof o=="object"&&o.onDragEnd||void 0;return te.useEffect(()=>{b({x:O==null?void 0:O.x,y:O==null?void 0:O.y})},[O,b]),UG(),te.createElement(MR.Provider,{value:{hideCopyButton:l}},te.createElement(G6,{ref:A,className:e,fill:t,flat:n,oneLineLabels:s,hideTitleBar:!o,style:{display:E?"block":"none"}},o&&te.createElement(X6,{onDrag:V=>{b(V),F==null||F(V)},onDragStart:V=>I==null?void 0:I(V),onDragEnd:V=>G==null?void 0:G(V),setFilter:w,toggle:V=>d(q=>V??!q),toggled:c,title:T,drag:R,filterEnabled:L,from:O}),E&&te.createElement(AR.Provider,{value:r},te.createElement(d2,{isRoot:!0,fill:t,flat:n,tree:_,toggled:c}))))}),q6=["isRoot"];function Z6(r){let{isRoot:e=!1}=r,t=bn(r,q6);return k.useEffect(()=>()=>{},[e]),te.createElement(Y6,nr({store:S6},t))}Qa(yo.SELECT,M5);Qa(yo.IMAGE,l6);Qa(yo.NUMBER,p5);Qa(yo.COLOR,U8);Qa(yo.STRING,L5);Qa(yo.BOOLEAN,U5);Qa(yo.INTERVAL,y6);Qa(yo.VECTOR3D,G8);Qa(yo.VECTOR2D,Y8);const p2=k.createContext({}),eV=r=>{const[e,t]=k.useState([]),[n,i]=k.useState(0);return Me.jsx(Me.Fragment,{children:Me.jsx(p2.Provider,{value:{animations:e,setAnimations:t,animationIndex:n,setAnimationIndex:i},children:r.children})})},m2=()=>k.useContext(p2),tV=k.forwardRef((r,e)=>{const{animations:t,animationIndex:n,setAnimationIndex:i}=m2();return Me.jsx("div",{id:"overlay-content",ref:e,children:Me.jsx("div",{className:"dom-container",children:Me.jsx("div",{className:"button-container",children:t.map((s,o)=>Me.jsx("button",{className:`button ${o===n?"active":""}`,onClick:()=>i(o),children:s},s))})})})});function Db(r){const e=k.useRef(),{nodes:t,materials:n,animations:i}=Hd("/models/druid.gltf"),{actions:s,names:o}=xT(i,e),{setAnimations:l,animationIndex:c}=m2();return k.useEffect(()=>{l(o)},[]),k.useEffect(()=>(s[o[c]].reset().fadeIn(.5).play(),()=>{var d;(d=s[o[c]])==null||d.fadeOut(.5)}),[c]),Me.jsx("group",{ref:e,...r,dispose:null,children:Me.jsxs("group",{scale:1.91,children:[Me.jsx("primitive",{object:t.root}),Me.jsx("skinnedMesh",{geometry:t.druid.geometry,material:n.color_main,skeleton:t.druid.skeleton})]})})}Hd.preload("/models/druid.gltf");const nV=()=>{const r=k.useRef(),[e,t]=k.useState([]),{isPresenting:n}=Qr();bi(({camera:s})=>{n||(s.position.z=3)}),D1((s,o)=>{s.decompose(r.current.position,r.current.quaternion,r.current.scale),r.current.rotation.set(-Math.PI/2,0,0)});const i=s=>{let o=s.intersection.object.position.clone(),l=Date.now();t([{position:o,id:l}])};return Me.jsxs(Me.Fragment,{children:[Me.jsx(lm,{}),Me.jsx("ambientLight",{}),n&&e.map(({position:s,id:o})=>Me.jsx(Db,{position:s},o)),n&&Me.jsx(oy,{onSelect:i,children:Me.jsxs("mesh",{ref:r,"rotation-x":-Math.PI/2,children:[Me.jsx("ringGeometry",{args:[.1,.25,32]}),Me.jsx("meshStandardMaterial",{color:"white"})]})}),!n&&Me.jsx(Db,{})]})},Ob=()=>{const[r,e]=k.useState(null);let t=k.useCallback(n=>{n!==null&&e(n)});return Me.jsx(Me.Fragment,{children:Me.jsxs(eV,{children:[Me.jsx(ly,{className:"ar-button",sessionInit:{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay"],domOverlay:{root:r}}}),Me.jsx(sm,{children:Me.jsx(ay,{children:Me.jsx(nV,{})})}),Me.jsx(tV,{ref:t}),Me.jsx(Z6,{hidden:!0})]})})};function rV(){return Me.jsxs(CP,{children:[Me.jsx(rc,{path:"/",element:Me.jsx(Ob,{})}),Me.jsx(rc,{path:"/cube",element:Me.jsx(wU,{})}),Me.jsx(rc,{path:"/xr-cube",element:Me.jsx(BU,{})}),Me.jsx(rc,{path:"/xr-hit-cube",element:Me.jsx(LU,{})}),Me.jsx(rc,{path:"/xr-hit-model",element:Me.jsx(OU,{})}),Me.jsx(rc,{path:"/xr-overlay",element:Me.jsx(Ob,{})})]})}X2.createRoot(document.getElementById("root")).render(Me.jsx(k.StrictMode,{children:Me.jsx(TP,{children:Me.jsx(rV,{})})}));
